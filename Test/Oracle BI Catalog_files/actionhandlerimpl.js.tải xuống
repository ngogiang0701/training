if(!saw.catalogaction.impl){saw.catalogaction.ActionManager.prototype.registerAllHandlers=function(){var a=saw.catalogaction;this.registerActionHandlers([new a.ExternalBinaryHandler(),new a.LinksActionHandler(),new a.RequestsActionHandler(),new a.PromptsActionHandler(),new a.FiltersActionHandler(),new a.ActionsActionHandler(),new a.ConditionsActionHandler(),new a.IbotsActionHandler(),new a.KPIActionHandler(),new a.KPIWatchlistActionHandler(),new a.KPIContributionWheelActionHandler(),new a.ScorecardsActionHandler(),new a.ScorecardViewsActionHandler(),new a.ScorecardNonViewsActionHandler(),new a.DashboardsActionHandler(),new a.DashboardPagesActionHandler(),new a.SaveColumnActionHandler(),new a.CustomGroupActionHandler(),new a.CalcItemActionHandler(),new a.SegmentsActionHandler(),new a.SegmentTreesActionHandler(),new a.ExportFormatsActionHandler(),new a.BriefingBookActionHandler(),new a.VisualAnalyzerProjectActionHandler(),new a.VisualAnalyzerProjectFolderActionHandler(),new a.FRReportActionHandler(),new a.FRSnapshotReportActionHandler(),new a.FRSnapshotBookActionHandler(),new a.FRBookActionHandler(),new a.FRBatchActionHandler()]);if(!saw.getSessionInfos().getProperty("bipExternalRepository")){this.registerActionHandlers([new a.BIPReportsActionHandler(),new a.BIPReportSchedulesActionHandler(),new a.BIPDataModelsActionHandler(),new a.BIPTemplatesActionHandler(),new a.BIPMobileAppActionHandler()])}};saw.catalogaction.ActionManager.prototype.handleSimpleAction=function(b,e,f,g,a,d){var c=false;return c};saw.catalogaction.ExternalBinaryHandler=function(){saw.catalogaction.ExternalBinaryHandler.baseConstructor.call(this,saw.catalog.ItemCategory.EXTERNAL_BINARY)};saw.extend(saw.catalogaction.ExternalBinaryHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ExternalBinaryHandler.prototype.handleAction=function(b,d,e,f,a,c){if(b==saw.catalogaction.ActionId.DOWNLOAD){saw.runThisURL(saw.commandToURL("downloadFile")+"&path="+saw.encodeURIComponent(d));return true}return false};saw.catalogaction.ExternalBinaryHandler.prototype.getAllowedActionIds=function(b,a){return this.addCommonActions(b,[saw.catalogaction.ActionId.DOWNLOAD])};saw.catalogaction.ExternalBinaryHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.DOWNLOAD]};saw.catalogaction.LinksActionHandler=function(){saw.catalogaction.LinksActionHandler.baseConstructor.call(this,"link")};saw.extend(saw.catalogaction.LinksActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.LinksActionHandler.prototype.getLinkTargetHandler=function(b){var a=b.targetSignature||b.targetCompositeSignature;if(a){return this.manager.findActionHandler(saw.catalogaction.ActionHandlerFinder.createByItemSignature(a))}return null};saw.catalogaction.LinksActionHandler.prototype.handleAction=function(b,e,g,h,a,d){var c=false;var f=this.getLinkTargetHandler(h);if(f){c=f.handleAction(b,h.targetPath,h.targetSignature,h,a,d)}return c};saw.catalogaction.LinksActionHandler.prototype.canHandle=function(a){return a.itemInfo&&a.itemInfo.type==obips.catalog.ItemType.LINK};saw.catalogaction.LinksActionHandler.prototype.getAllowedActionIds=function(g,c){var d=this.getLinkTargetHandler(g);if(d){return d.getAllowedActionIds(g,c)}else{if(g.targetType==obips.catalog.ItemType.FOLDER){return null}else{var b=(g.operationPermissions&obips.catalog.OperationPermissions.DELETE)==obips.catalog.OperationPermissions.DELETE;var f=[];if(saw.catalog.CatalogView){if(b){f.push(saw.catalogaction.ActionId.DELETE)}else{f.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.DELETE))}}f.push(saw.catalogaction.ActionId.PROPERTIES);var e=saw.catalogaction.canSeePermissionsDialogUI();var a=(g.operationPermissions&obips.catalog.OperationPermissions.CHANGE_PERMISSIONS)==obips.catalog.OperationPermissions.CHANGE_PERMISSIONS;if(e&&a){f.push(saw.catalogaction.ActionId.PERMISSIONS)}else{if(e&&!a){f.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PERMISSIONS))}}return f}}return null};saw.catalogaction.LinksActionHandler.prototype.getPrimaryActionIds=function(b){var a=this.getLinkTargetHandler(b);if(a){return a.getPrimaryActionIds(b)}else{if(b.targetType==obips.catalog.ItemType.FOLDER){return[saw.catalogaction.ActionId.EXPAND]}}return null};saw.catalogaction.ScorecardsActionHandler=function(){saw.catalogaction.ScorecardsActionHandler.baseConstructor.call(this,"scorecard1")};saw.extend(saw.catalogaction.ScorecardsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ScorecardsActionHandler.prototype.handleAction=function(h,b,f,i,c,j){var a;var g=window.location.href;a=saw.pageToURL("scorecard/default.htm")+"?scorecardPath="+saw.encodeURIComponent(b);var e=j?j.bcItem:null;if(e){a+=e.getAdditionalUrlArguments()}else{obips.BreadCrumbs.Manager.getSingleton().reset()}switch(h){case saw.catalogaction.ActionId.NEW:var d=new saw.ondemandload.FuncProxy("obibsc.CreateScorecardDialog.openDialog",{command:"loadNewScorecardDialog"});d.exec(c);return true;case saw.catalogaction.ActionId.OPEN:this.launchURL(a,j,"biee.bsc");return true;case saw.catalogaction.ActionId.EDIT:this.launchURL(a+"&editMode=true",j,"biee.bsc");return true;default:break}return false};saw.catalogaction.ScorecardsActionHandler.prototype.getDefaultActionId=function(a){return saw.catalogaction.ActionId.OPEN};saw.catalogaction.ScorecardsActionHandler.prototype.getAllowedActionIds=function(e,a){var d=[];var b=saw.catalog.getPrivilege("canViewScorecards");var c=this.isEditableItem(e);saw.catalogaction.getActionManager().getDefaultActions(e,d);if((b||c)&&((e.operationPermissions&obips.catalog.OperationPermissions.READ)==obips.catalog.OperationPermissions.READ)&&!saw.getSessionInfos().isEnableSection508()){d.splice(1,0,saw.catalogaction.ActionId.OPEN)}else{obips.Array.remove(d,saw.catalogaction.ActionId.EXPAND);obips.Array.remove(d,saw.catalogaction.ActionId.DELETE);obips.Array.remove(d,saw.catalogaction.ActionId.COPY);obips.Array.remove(d,saw.catalogaction.ActionId.LINK)}if(!saw.getSessionInfos().isEnableSection508()&&c&&((e.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE)){d.push(saw.catalogaction.ActionId.EDIT)}else{obips.Array.remove(d,saw.catalogaction.ActionId.DELETE)}return d};saw.catalogaction.ScorecardsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT,saw.catalogaction.ActionId.EXPAND]};saw.catalogaction.ScorecardsActionHandler.prototype.getPreviewURL=function(b,c,d,a){return null};saw.catalogaction.ScorecardViewsActionHandler=function(){saw.catalogaction.ScorecardViewsActionHandler.baseConstructor.call(this,"scorecardView")};saw.extend(saw.catalogaction.ScorecardViewsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ScorecardViewsActionHandler.prototype.handleAction=function(b,d,g,h,a,c){var e=new Object();e.action=b;e.path=d;e.signature=g;e.itemInfo=h;e.currentFolder=a;e.tContext=c;var f=new saw.ajax.Request("getScorecardPathFromViewPath",this.executeAction,this,e);f.addArg("scorecardViewPath",d);saw.ajax.createConnection(f).post()};saw.catalogaction.ScorecardViewsActionHandler.prototype.executeAction=function(e,b){var d=e.getJSON();var c;var a=window.location.href;c=saw.pageToURL("scorecard/default.htm");switch(b.action){case saw.catalogaction.ActionId.OPEN:this.launchURL(c+"?scorecardPath="+saw.encodeURIComponent(d.scorecardPath)+"&itemPath="+saw.encodeURIComponent(b.path)+"&itemSignature="+saw.encodeURIComponent(b.signature),b,"biee.bsc");return true;case saw.catalogaction.ActionId.EDIT:this.launchURL(c+"?scorecardPath="+saw.encodeURIComponent(d.scorecardPath)+"&itemPath="+saw.encodeURIComponent(b.path)+"&itemSignature="+saw.encodeURIComponent(b.signature)+"&editMode=true",b,"biee.bsc");return true;default:break}return false};saw.catalogaction.ScorecardViewsActionHandler.prototype.getAllowedActionIds=function(c,a){var b=saw.catalogaction.getActionManager().getDefaultActions(c,[saw.catalogaction.ActionId.OPEN],false);return b};saw.catalogaction.ScorecardViewsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.ScorecardViewsActionHandler.prototype.getPreviewURL=function(c,e,f,b){ret=null;if(this.hasPreview(e)){var a=c;var d=c;ret=saw.commandToURL("previewScorecard")+"&scorecardViewPath="+saw.encodeURIComponent(c)+"&viewSignature="+saw.encodeURIComponent(e)}return ret};saw.catalogaction.ScorecardViewsActionHandler.prototype.canHandle=function(b){var a=b.getSignature();if((a=="scorecardstrategymapview1")||(a=="scorecardstrategytreeview1")||(a=="scorecardvision1")||(a=="scorecardmission1")||(a=="scorecardcustomview1")||(a=="scorecardcausesandeffectsmapview1")||(a=="scorecardfilteredwatchlistview1")){return true}return false};saw.catalogaction.ScorecardViewsActionHandler.prototype.hasPreview=function(a){if((a=="scorecardstrategymapview1")||(a=="scorecardstrategytreeview1")||(a=="scorecardcustomview1")||(a=="scorecardcausesandeffectsmapview1")||(a=="scorecardfilteredwatchlistview1")){return true}return false};saw.catalogaction.ScorecardNonViewsActionHandler=function(){saw.catalogaction.ScorecardNonViewsActionHandler.baseConstructor.call(this,"scorecardNonView")};saw.extend(saw.catalogaction.ScorecardNonViewsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ScorecardNonViewsActionHandler.prototype.handleAction=function(b,d,g,h,a,c){var e=new Object();e.action=b;e.path=d;e.signature=g;e.itemInfo=h;e.currentFolder=a;e.tContext=c;var f=new saw.ajax.Request("getScorecardPathFromViewPath",this.executeAction,this,e);f.addArg("scorecardViewPath",d);saw.ajax.createConnection(f).post()};saw.catalogaction.ScorecardNonViewsActionHandler.prototype.executeAction=function(e,b){var d=e.getJSON();var c;var a=window.location.href;c=saw.pageToURL("scorecard/default.htm");switch(b.action){case saw.catalogaction.ActionId.OPEN:this.launchURL(c+"?scorecardPath="+saw.encodeURIComponent(d.scorecardPath)+"&itemPath="+saw.encodeURIComponent(b.path)+"&itemSignature="+saw.encodeURIComponent(b.signature),b,"biee.bsc");return true;case saw.catalogaction.ActionId.EDIT:this.launchURL(c+"?scorecardPath="+saw.encodeURIComponent(d.scorecardPath)+"&itemPath="+saw.encodeURIComponent(b.path)+"&itemSignature="+saw.encodeURIComponent(b.signature)+"&editMode=true",b,"biee.bsc");return true;default:break}return false};saw.catalogaction.ScorecardNonViewsActionHandler.prototype.getAllowedActionIds=function(g,c){var f=[];f.push(saw.catalogaction.ActionId.OPEN);var b=g.getObjectTypeInfo();var d=b?b.editPrivilege:false;if(d){f.push(saw.catalogaction.ActionId.EDIT)}f.push(saw.catalogaction.ActionId.PROPERTIES);var e=saw.catalogaction.canSeePermissionsDialogUI();var a=(g.operationPermissions&obips.catalog.OperationPermissions.CHANGE_PERMISSIONS)==obips.catalog.OperationPermissions.CHANGE_PERMISSIONS;if(e&&a){f.push(saw.catalogaction.ActionId.PERMISSIONS)}else{if(e&&!a){f.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PERMISSIONS))}}return f};saw.catalogaction.ScorecardNonViewsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.ScorecardNonViewsActionHandler.prototype.getPreviewURL=function(b,c,d,a){return null};saw.catalogaction.ScorecardNonViewsActionHandler.prototype.canHandle=function(b){var a=b.getSignature();if((a=="scorecardperspective1")||(a=="scorecardobjective1")||(a=="scorecardinitiative1")){return true}return false};saw.catalogaction.DashboardsActionHandler=function(){saw.catalogaction.DashboardsActionHandler.baseConstructor.call(this,"dashboardfolder1")};saw.extend(saw.catalogaction.DashboardsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.DashboardsActionHandler.prototype.handleAction=function(i,b,f,j,c,k){var e;switch(i){case saw.catalogaction.ActionId.NEW:if(k.creatableItemType.bForRaas&&k.creatableItemType.bForRaas==true){e=new saw.ondemandload.FuncProxy("obidash.CreateDashboardDialog.openDialogForRaas",{command:"loadNewDashboardDialog",forceReload:"false"})}else{e=new saw.ondemandload.FuncProxy("obidash.CreateDashboardDialog.openDialog",{command:"loadNewDashboardDialog",forceReload:"false"})}e.exec(c,k.creatableItemType.oEmbedUrlCallback);return true;case saw.catalogaction.ActionId.OPENWITHSEARCHFILTER:var d=this.getIndexSearchPromptURI(j.promptString,j.queryString);saw.catalogaction.openInWindow(saw.commandToURL("Portal")+"&Action="+saw.encodeURIComponent("Navigate")+"&PortalPath="+saw.encodeURIComponent(b)+d,"_blank","biee.dashboards");return true;case saw.catalogaction.ActionId.OPEN:var g=(k&&k.targetWindow)?k.targetWindow:"_self";var h=saw.commandToURL("Portal")+"&PortalPath="+saw.encodeURIComponent(b);if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.openDashboard(h,j)}else{saw.catalogaction.openInWindow(h,g,"biee.dashboards")}return true;case saw.catalogaction.ActionId.EDIT:var h=saw.commandToURL("EditDashboard")+"&PortalPath="+saw.encodeURIComponent(b);if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.editDashboard(h,j)}else{this.launchURL(h,k,"biee.dashboards")}return true;case saw.catalogaction.ActionId.PUBLISH:var e=new saw.ondemandload.FuncProxy("obidash.PublishFolderDialog.openDialog",{command:"loadNewDashboardDialog",forceReload:"false"});e.exec(null,j);return true;case saw.catalogaction.ActionId.EXPORT_WHOLEDASH:var a=new obips.DownloadGuard(k);saw.createHiddenIFrame("sawDownload","sawDownload",null);saw.catalogaction.openInWindow(saw.commandToURL("generateDashboardExcel")+"&Action=Print&printCurrentPage=false&DownloadId="+k.id+"&PortalPath="+saw.encodeURIComponent(b),"sawDownload");return true;default:break}return false};saw.catalogaction.DashboardsActionHandler.prototype.getAllowedActionIds=function(b){if(!saw.getSessionInfos().getProperty("canAccessDashboards")){return this.addCommonActions(b,[])}var a=[saw.catalogaction.ActionId.EXPAND,saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_WHOLEDASH];if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT);a.push(saw.catalogaction.ActionId.PUBLISH)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT));a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PUBLISH))}}return this.addCommonActions(b,a)};saw.catalogaction.DashboardsActionHandler.prototype.getPrimaryActionIds=function(b){if(!saw.getSessionInfos().getProperty("canAccessDashboards")){return[]}var a=[saw.catalogaction.ActionId.EXPAND,saw.catalogaction.ActionId.OPEN];if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}if(b.promptString){a.push(saw.catalogaction.ActionId.OPENWITHSEARCHFILTER)}return a};saw.catalogaction.DashboardPagesActionHandler=function(){saw.catalogaction.DashboardPagesActionHandler.baseConstructor.call(this,"dashboardpageitem1")};saw.extend(saw.catalogaction.DashboardPagesActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.DashboardPagesActionHandler.prototype.getAllowedActionIds=function(c){if(!saw.getSessionInfos().getProperty("canAccessDashboards")){return[]}var b=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.PRINTAS,saw.catalogaction.ActionId.PRINT_PDF,saw.catalogaction.ActionId.PRINT_HTML,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_WHOLEDASH];if(!saw.getSessionInfos().isEnableSection508()&&this.isEditableItem(c)){if((c.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){b.push(saw.catalogaction.ActionId.EDIT)}else{b.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}this.addCommonActions(c,b);var a=saw.catalog.getPrivilege("canEditBriefingBook");if(a){b.push(saw.catalogaction.ActionId.ADDTOBRIEFBOOK)}return b};saw.catalogaction.DashboardPagesActionHandler.AddMorePrintActionsForBipLayouts=function(g,b,d){var j=g.getItemName();var f=g.path.substring(0,g.path.length-saw.getLastPathPart(g.path).length-1);var c=saw.catalogaction.DashboardPagesActionHandler.ConstructBipLayoutsNameList(f,j,d);saw.catalogaction.getActionManager().buildBipLayoutItemActionList(c,d);if(c.length==0){b.push("printToUnknown");return b}var h=obips.Array.indexOf(c,"entireDashboard");if(h!==-1){c.splice(h,1)}var a=0;if(c[0]==="Printable PDF"||c[0]==="Printable HTML"||c[0]==="currentPage"||c[0]==="entireDashboard"){a++}if(c[1]==="Printable PDF"||c[1]==="Printable HTML"||c[1]==="currentPage"||c[1]==="entireDashboard"){a++}if(c.length>a&&a!==0){for(var e=0;e<c.length;e++){if(c[e]=="separateLine"){break}}if(e===c.length){c.splice(a,0,"separateLine")}}for(var e=0;e<c.length;e++){if(c[e]=="Printable HTML"){b.push(saw.catalogaction.ActionId.PRINT_HTML)}else{if(c[e]=="Printable PDF"){b.push(saw.catalogaction.ActionId.PRINT_PDF)}else{if(c[e]=="currentPage"){b.push(saw.catalogaction.ActionId.EXPORT_CURPAGE)}else{if(c[e]=="entireDashboard"){b.push(saw.catalogaction.ActionId.EXPORT_WHOLEDASH)}else{if(c[e]=="separateLine"&&d=="pdf"){b.push(saw.catalogaction.ActionId.PRINT_SEPARATELINE)}else{if(c[e]=="separateLine"&&d=="excel"){b.push(saw.catalogaction.ActionId.EXPORT_SEPARATELINE)}else{if(d=="pdf"){b.push("printTo"+c[e])}else{if(d=="excel"){b.push("exportTo"+c[e])}}}}}}}}}return b};saw.catalogaction.DashboardPagesActionHandler.ConstructBipLayoutsNameList=function(d,c,b){var a=[];if(document.getElementById("idBIEEHomeBodyDiv")||document.getElementById("idCatalog")){a=saw.dashboard.ConstructDisplayNameList(d,c,saw.catalogaction.enableExportDashPageToBip,b)}else{if(b=="pdf"){a=["Printable PDF","Printable HTML"]}else{if(b=="excel"){a=["currentPage","entireDashboard"]}}}return a};saw.catalogaction.DashboardPagesActionHandler.prototype.getPrimaryActionIds=function(a){if(!saw.getSessionInfos().getProperty("canAccessDashboards")){return[]}aActionIds=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT];if(a.promptString){aActionIds.push(saw.catalogaction.ActionId.OPENWITHSEARCHFILTER)}return aActionIds};saw.catalogaction.DashboardPagesActionHandler.prototype.handleAction=function(n,d,j,o,e,p){var m=saw.getFolder(d);var c=obips.catalog.Path.getItemName(d);var i="&PortalPath="+saw.encodeURIComponent(m)+"&page="+saw.encodeURIComponent(c);var h=p?p.bcItem:null;if(h){i+=h.getAdditionalUrlArguments()}switch(n){case saw.catalogaction.ActionId.OPEN:if(!h){obips.BreadCrumbs.Manager.getSingleton().reset()}else{var k=obips.BreadCrumbs.Manager.getSingleton().getPageDelayedState(m,c);if(k){i=i+"&PageDelayedState="+saw.encodeURIComponent(k)}}l=saw.commandToURL("Dashboard")+i;if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.openDashboard(l,o)}else{this.launchURL(l,p,"biee.dashboards")}return true;case saw.catalogaction.ActionId.OPENWITHSEARCHFILTER:var f=this.getIndexSearchPromptURI(o.promptString,o.queryString);saw.catalogaction.openInWindow(saw.commandToURL("Dashboard")+"&Action="+saw.encodeURIComponent("Navigate")+i+f,p,"biee.dashboards");return true;case saw.catalogaction.ActionId.EDIT:if(!h){obips.BreadCrumbs.Manager.getSingleton().reset()}var l=saw.commandToURL("EditDashboard")+i;if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.editDashboard(l,o)}else{this.launchURL(l,p,"biee.dashboards")}return true;case saw.catalogaction.ActionId.PRINT_PDF:saw.catalogaction.openInWindow(saw.commandToURL("Portal")+"&Action=Print&format=pdf"+i);return true;case saw.catalogaction.ActionId.PRINT_HTML:saw.catalogaction.openInWindow(saw.commandToURL("Portal")+"&Action=Print&format="+i);return true;case saw.catalogaction.ActionId.EXPORT_CURPAGE:var a=new obips.DownloadGuard(p);saw.createHiddenIFrame("sawDownload","sawDownload",null);saw.catalogaction.openInWindow(saw.commandToURL("generateDashboardExcel")+"&Action=Print&printCurrentPage=true&DownloadId="+p.id+i,"sawDownload");return true;case saw.catalogaction.ActionId.EXPORT_WHOLEDASH:var a=new obips.DownloadGuard(p);saw.createHiddenIFrame("sawDownload","sawDownload",null);saw.catalogaction.openInWindow(saw.commandToURL("generateDashboardExcel")+"&Action=Print&printCurrentPage=false&DownloadId="+p.id+i,"sawDownload");return true;case saw.catalogaction.ActionId.ADDTOBRIEFBOOK:var g=new saw.ondemandload.FuncProxy("obips.briefingbook.launchAddToBBDialog",{messageTemplate:"kuiAddToBriefingBookDialogHead"});var b=saw.commandToURL("SaveOffline")+i+"&Action=Print";g.exec(p.evt,obips.catalog.Path.getItemName(d),d,false,b,"nostate");return true;default:break}if(n.substring(0,7)=="printTo"&&n!="printToUnknown"){this.handleBipLayoutPrintNExportAction(n.substring(7),o,"pdf",e);return true}if(n.substring(0,8)=="exportTo"&&n!="printToUnknown"){this.handleBipLayoutPrintNExportAction(n.substring(7),o,"xlsx",e);return true}return false};saw.catalogaction.DashboardPagesActionHandler.prototype.handleBipLayoutPrintNExportAction=function(c,f,e){var a=f.getItemName();var b=f.path.substring(0,f.path.length-a.length-1);var d=obidash.getBipReportPath(b,a);saw.catalogaction.openInWindow("/xmlpserver"+saw.encodeURIComponent(saw.catalog.toBIPublisherPath(d))+"?&_xt="+saw.encodeURIComponent(c)+"&_xf="+e+"&_xpt=1")};saw.catalogaction.DashboardPagesActionHandler.prototype.getPreviewURL=function(b,c,d,a){return saw.commandToURL("PortalPages")+"&mruAdd=0&DashboardPreview=true&Page="+saw.encodeURIComponent(obips.catalog.Path.getItemName(b))+"&PortalPath="+saw.encodeURIComponent(saw.getFolder(b))};saw.catalogaction.KPIActionHandler=function(){saw.catalogaction.KPIActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.KPI)};saw.extend(saw.catalogaction.KPIActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.KPIActionHandler.prototype.getAllowedActionIds=function(d,a){var c=saw.catalogaction.getActionManager().getDefaultActions(d,[saw.catalogaction.ActionId.OPEN],true,true);var b=obips.Array.indexOf(c,saw.catalogaction.ActionId.PRINTAS);if(saw.catalog.getPrivilege("canAccessExport")){c.splice(b+1,0,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_PDF,saw.catalogaction.ActionId.EXPORT_EXCEL_GROUP,saw.catalogaction.ActionId.EXPORT_EXCEL2K,saw.catalogaction.ActionId.EXPORT_EXCEL,saw.catalogaction.ActionId.EXPORT_POWERPOINT_GROUP,saw.catalogaction.ActionId.EXPORT_POWERPOINT,saw.catalogaction.ActionId.EXPORT_POWERPOINT_2007,saw.catalogaction.ActionId.EXPORT_MHTML,saw.catalogaction.ActionId.EXPORT_DATA);b=obips.Array.indexOf(c,saw.catalogaction.ActionId.EXPORT_DATA)}if(saw.catalog.getPrivilege("canCreateAgents")){c.splice(b+1,0,saw.catalogaction.ActionId.IBOTNEW)}return c};saw.catalogaction.KPIActionHandler.prototype.getPrimaryActionIds=function(a){aActionIds=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT];if(a.promptString){aActionIds.push(saw.catalogaction.ActionId.OPENWITHSEARCHFILTER)}return aActionIds};saw.catalogaction.KPIActionHandler.prototype.showKPISelectAgentDialog=function(a){var c=new Array();c.push(a);var b=new saw.ondemandload.FuncProxy("obibsc.CreateIBotDialog.openDialog",{command:"loadNewKPIIBotDialog"},c);b.exec(a.value);return true};saw.catalogaction.KPIActionHandler.prototype.handleAction=function(b,f,g,h,a,e){switch(b){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupSubjectAreaSelector(new obips.Callback(this,this.createNewKPI),e);return true;case saw.catalogaction.ActionId.EDIT:this.launchURL(saw.commandToURL("KPIBuilder")+"&path="+saw.encodeURIComponent(f),e,"biee.bsc");return true;case saw.catalogaction.ActionId.OPEN:this.launchURL(saw.commandToURL("PortalGo")+"&Context=kpi&Signature=kpi1&Action=prompt&path="+saw.encodeURIComponent(f),"_blank","biee.bsc");return true;case saw.catalogaction.ActionId.OPENWITHSEARCHFILTER:var d=this.getIndexSearchPromptURI(h.promptString,h.queryString);this.launchURL(saw.commandToURL("Go")+"&Action="+saw.encodeURIComponent("Navigate")+"&path="+saw.encodeURIComponent(f)+d,e,"biee.answers");return true;case saw.catalogaction.ActionId.PRINT_PDF:obips.launcher.launchNewWindow(saw.commandToURL("go")+"&mruAdd=0&Action=print&format=pdf&path="+saw.encodeURIComponent(f),"_blank");return true;case saw.catalogaction.ActionId.PRINT_HTML:obips.launcher.launchNewWindow(saw.commandToURL("go")+"&mruAdd=0&Action=print&path="+saw.encodeURIComponent(f),"_blank");return true;case saw.catalogaction.ActionId.IBOTNEW:var c=new Object();c.name="kpiPath";c.value=f;saw.ondemandload.loadScripts({messageTemplate:"kuiCommonIconSets"},null,this.showKPISelectAgentDialog,this,c);return true;case saw.catalogaction.ActionId.EXPORT_PDF:this._export(f,"pdf","");return true;case saw.catalogaction.ActionId.EXPORT_EXCEL:this._export(f,"excel2007",".xlsx");return true;case saw.catalogaction.ActionId.EXPORT_EXCEL2K:this._export(f,"excel2003",".xls");return true;case saw.catalogaction.ActionId.EXPORT_POWERPOINT:this._export(f,"powerpoint",".ppt");return true;case saw.catalogaction.ActionId.EXPORT_POWERPOINT_2007:this._export(f,"powerpoint2007",".pptx");return true;case saw.catalogaction.ActionId.EXPORT_MHTML:this._export(f,"mht","");return true;case saw.catalogaction.ActionId.EXPORT_DATA:this._export(f,"txt",".csv");return true;case saw.catalogaction.ActionId.CREATEKPICONTRIBUTIONWHEEL:return true;default:break}return false};saw.catalogaction.KPIActionHandler.prototype._export=function(b,a,c){obips.launcher.launchNewWindow(saw.commandToURL("go")+"&mruAdd=0&Action=download&format="+a+"&extension="+c+"&path="+saw.encodeURIComponent(b),"_blank")};saw.catalogaction.KPIActionHandler.prototype.createNewKPI=function(a,d,b){var c=saw.commandToURL("KPIBuilder")+"&SubjectArea="+saw.encodeURIComponent(a);this.launchURL(c,{evt:b},"biee.bsc")};saw.catalogaction.KPIActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("go")+"&path="+saw.encodeURIComponent(a)+"&Action=Print&hideMainBar=true&mruAdd=0"};saw.catalogaction.KPIActionHandler.prototype._createKPIContributionWheel=function(b,a){this.launchURL(saw.pageToURL("kpis/kpiContributionWheel.htm")+"?kpiPath="+saw.encodeURIComponent(b)+"&action=edit",a)};saw.catalogaction.KPIWatchlistActionHandler=function(){saw.catalogaction.KPIWatchlistActionHandler.baseConstructor.call(this,"scorecardkpiwatchlist1")};saw.extend(saw.catalogaction.KPIWatchlistActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.KPIWatchlistActionHandler.prototype.getAllowedActionIds=function(c,a){var b=saw.catalogaction.getActionManager().getDefaultActions(c,[saw.catalogaction.ActionId.OPEN],false);return b};saw.catalogaction.KPIWatchlistActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.KPIWatchlistActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:saw.runThisURL(saw.commandToURL("KPIWatchlist")+"&itemPath="+saw.encodeURIComponent(d)+"&action="+saw.encodeURIComponent(b));return true;case saw.catalogaction.ActionId.EDIT:saw.runThisURL(saw.commandToURL("KPIWatchlist")+"&itemPath="+saw.encodeURIComponent(d)+"&action="+saw.encodeURIComponent(b));return true;case saw.catalogaction.ActionId.OPEN:saw.runThisURL(saw.commandToURL("KPIWatchlist")+"&itemPath="+saw.encodeURIComponent(d)+"&action="+saw.encodeURIComponent(b));return true;case saw.catalogaction.ActionId.PRINT_HTML:obips.launcher.launchNewWindow(saw.commandToURL("go")+"&mruAdd=0&Action=print&path="+saw.encodeURIComponent(d),"_blank");return true;default:break}return false};saw.catalogaction.KPIWatchlistActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("previewScorecard")+"&scorecardViewPath="+saw.encodeURIComponent(a)+"&viewSignature="+saw.encodeURIComponent(b)};saw.catalogaction.KPIContributionWheelActionHandler=function(){saw.catalogaction.KPIContributionWheelActionHandler.baseConstructor.call(this,"kpicontributionwheel1")};saw.extend(saw.catalogaction.KPIContributionWheelActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.KPIContributionWheelActionHandler.prototype.getAllowedActionIds=function(c,a){var b=saw.catalogaction.getActionManager().getDefaultActions(c,[saw.catalogaction.ActionId.OPEN],false);return b};saw.catalogaction.KPIContributionWheelActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.KPIContributionWheelActionHandler.prototype.handleAction=function(b,d,f,g,a,c){var e=false;return e};saw.catalogaction.KPIContributionWheelActionHandler.prototype.getPreviewURL=function(a,b){return null};saw.catalogaction.onPopupSubjectAreaSelector=function(c,l){var d=l&&l.tBrowserEvt;var b=d&&d.clientX;var a=d&&d.clientY;if(d&&d.curClientX&&d.curClientY){b=d.curClientX;a=d.curClientY}var h=new saw.ondemandload.FuncProxy("obips.subjectarea.SelectorUtil.popupSingleSelector",{messageTemplate:"kuiSubjectAreaSelectorHead"});var g=(l.bShowCreateDirectRequest&&(true==l.bShowCreateDirectRequest));var j=null;var f=(l.creatableItemType&&l.creatableItemType.bForRaas?true:null);var i=null;var k=saw.getSessionInfos().isMultipleServiceInstanceMode();var e=null;var m=(l.creatableItemType&&l.creatableItemType.oEmbedUrlCallback);h.exec(c,d,b,a,g,j,f,i,k,e,m)};saw.catalogaction.RequestsActionHandler=function(){saw.catalogaction.RequestsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.REQUEST)};saw.extend(saw.catalogaction.RequestsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.RequestsActionHandler.prototype.getAllowedActionIds=function(e){var d=[saw.catalogaction.ActionId.OPEN];var a=e.getObjectTypeInfo();var c=a?a.editPrivilege:false;if(c){d.push(saw.catalogaction.ActionId.EDIT)}d=d.concat([saw.catalogaction.ActionId.PRINTAS,saw.catalogaction.ActionId.PRINT_PDF,saw.catalogaction.ActionId.PRINT_HTML]);if(saw.catalog.getPrivilege("canAccessExport")){d=d.concat([saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_PDF,saw.catalogaction.ActionId.EXPORT_EXCEL_GROUP,saw.catalogaction.ActionId.EXPORT_EXCEL2K,saw.catalogaction.ActionId.EXPORT_EXCEL,saw.catalogaction.ActionId.EXPORT_POWERPOINT_GROUP,saw.catalogaction.ActionId.EXPORT_POWERPOINT,saw.catalogaction.ActionId.EXPORT_POWERPOINT_2007,saw.catalogaction.ActionId.EXPORT_MHTML,saw.catalogaction.ActionId.EXPORT_DATAGROUP,saw.catalogaction.ActionId.EXPORT_CSV,saw.catalogaction.ActionId.EXPORT_TABDELIMITED,saw.catalogaction.ActionId.EXPORT_XML])}var b=saw.catalog.getPrivilege("canEditBriefingBook");if(b){d.push(saw.catalogaction.ActionId.ADDTOBRIEFBOOK)}if(!saw.getSessionInfos().isEnableSection508()&&saw.catalog.getPrivilege("canCreateAgents")){d.push(saw.catalogaction.ActionId.SCHEDULE)}if(saw.catalog.getPrivilege("canAccessDeliversLite")){d.push(saw.catalogaction.ActionId.EMAIL)}return this.addCommonActions(e,d)};saw.catalogaction.RequestsActionHandler.prototype.getPrimaryActionIds=function(a){aActionIds=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT];if(a.promptString){aActionIds.push(saw.catalogaction.ActionId.OPENWITHSEARCHFILTER)}return aActionIds};saw.catalogaction.RequestsActionHandler.prototype.getDefaultActionId=function(a){return saw.catalogaction.ActionId.EDIT};saw.catalogaction.RequestsActionHandler.prototype.canAccessSubjectArea=function(b,a){if(!a){a={}}var d=new saw.ajax.Request("canAccessSubjectArea",this.handleAccessSubjectArea,this,a);if(b){d.addArg("Path",b);a.path=b}var c=saw.ajax.createConnection(d);c.post()};saw.catalogaction.RequestsActionHandler.prototype.handleAccessSubjectArea=function(e,b){var d=e.getBlockById("json").data.canAccess;if(d!=null&&d=="true"){var a=saw.getSessionInfos().user.prefs.getValue("defaultAnalysisMode");if(saw.getSessionInfos().isEnableSection508()||(a=="composer"&&saw.catalog.getPrivilege("canUseBIComposer")&&saw.catalog.getPrivilege("biComposerEnabled"))){b.targetWindow="_blank";b.checkPopupBlocker=true;var c=saw.catalog.getPrivilege("biUIDefaultStyle");if(saw.getSessionInfos().isEnableSection508()){this.launchURL(saw.getSessionInfos().getProperty("biComposerContext")+"/faces/answersWizard.jspx?accMode=screenReader&skinFamily="+saw.encodeURIComponent(c)+"&path="+saw.encodeURIComponent(b.path),b)}else{this.launchURL(saw.getSessionInfos().getProperty("biComposerContext")+"/faces/answersWizard.jspx?accMode=inaccessible&skinFamily="+saw.encodeURIComponent(c)+"&path="+saw.encodeURIComponent(b.path),b)}}else{var g=saw.commandToURL("Answers")+"&path="+saw.encodeURIComponent(b.path);var f=b?b.bcItem:null;if(f){g+=f.getAdditionalUrlArguments()}else{obips.BreadCrumbs.Manager.getSingleton().reset()}if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.editAnalysis(g,obips.catalog.Path.getItemName(b.path))}else{this.launchURL(g,b,"biee.answers")}}}else{saw.catalog.showError(saw.catalog.getLocalizedString("kmsgCatalogSubjectAreaAccessDenied"))}return true};saw.catalogaction.RequestsActionHandler.prototype.handleAction=function(j,d,i,k,e,l){var c="&path="+saw.encodeURIComponent(d);switch(j){case saw.catalogaction.ActionId.NEW:l.bShowCreateDirectRequest=true;saw.catalogaction.onPopupSubjectAreaSelector(new obips.Callback(this,this.createNewRequest),l);return true;case saw.catalogaction.ActionId.EDIT:return this.canAccessSubjectArea(d,l);case saw.catalogaction.ActionId.SCHEDULE:c="&ReportPath="+saw.encodeURIComponent(d);return this.launchURL(saw.commandToURL("IBotSummary")+c,l,"biee.delivers");case saw.catalogaction.ActionId.OPEN:var h=l?l.bcItem:null;if(h){c+=h.getAdditionalUrlArguments()}else{obips.BreadCrumbs.Manager.getSingleton().reset()}var b=saw.commandToURL("PortalGo")+"&Action=prompt"+c;if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.openAnalysis(b,k)}else{this.launchURL(b,l?l:"_blank","biee.answers")}return true;case saw.catalogaction.ActionId.OPENWITHSEARCHFILTER:var f=this.getIndexSearchPromptURI(k.promptString,k.queryString);this.launchURL(saw.commandToURL("Go")+"&Action="+saw.encodeURIComponent("Navigate")+c+f,l,"biee.answers");return true;case saw.catalogaction.ActionId.EXPORT_PDF:this._export(c,"pdf","");return true;case saw.catalogaction.ActionId.EXPORT_EXCEL:this._export(c,"excel2007",".xlsx");return true;case saw.catalogaction.ActionId.EXPORT_EXCEL2K:this._export(c,"excel2003",".xls");return true;case saw.catalogaction.ActionId.EXPORT_POWERPOINT:this._export(c,"powerpoint",".ppt");return true;case saw.catalogaction.ActionId.EXPORT_POWERPOINT_2007:this._export(c,"powerpoint2007",".pptx");return true;case saw.catalogaction.ActionId.EXPORT_MHTML:this._export(c,"mht","");return true;case saw.catalogaction.ActionId.EXPORT_DATA:this._export(c,"txt",".csv");return true;case saw.catalogaction.ActionId.EXPORT_CSV:this._export(c,"csv",".csv");return true;case saw.catalogaction.ActionId.EXPORT_TABDELIMITED:this._export(c,"txt",".csv");return true;case saw.catalogaction.ActionId.EXPORT_XML:this._export(c,"xml",".xml");return true;case saw.catalogaction.ActionId.ADDTOBRIEFBOOK:var g=new saw.ondemandload.FuncProxy("obips.briefingbook.launchAddToBBDialog",{messageTemplate:"kuiAddToBriefingBookDialogHead"});var a=saw.commandToURL("Go")+"&mruAdd=0&Action=Print&Folder="+saw.encodeURIComponent(saw.getFolder(d))+"&ItemName="+saw.encodeURIComponent(obips.catalog.Path.getItemName(d));g.exec(l.evt,obips.catalog.Path.getItemName(d),d,true,a,"nostate");return true;case saw.catalogaction.ActionId.EMAIL:var g=new saw.ondemandload.FuncProxy("obids.EmailDialog.launchEmailDialog",{messageTemplate:"kuiDeliversEmailDialog"});g.exec(l.evt,obips.catalog.Path.getItemName(d),saw.getFolder(d));return true;case saw.catalogaction.ActionId.PRINT_PDF:this._print(c,"pdf");return true;case saw.catalogaction.ActionId.PRINT_HTML:this._print(c,"");return true;default:break}return false};saw.catalogaction.RequestsActionHandler.prototype._print=function(c,a){var b=saw.commandToURL("go")+"&action=print&format="+a+c;obips.launcher.launchNewWindow(b,"_blank")};saw.catalogaction.RequestsActionHandler.doExport=function(b){var a=new obips.DownloadGuard(b)};saw.catalogaction.RequestsActionHandler._export=function(a){saw.createHiddenIFrame("sawDownload","sawDownload",null);var b=a.url;var c=a.id;b+="&DownloadId="+c;obips.launcher.launchNewWindow(b,"sawDownload")};saw.catalogaction.RequestsActionHandler.prototype._export=function(d,a,c){var b=saw.commandToURL("go")+"&mruadd=0&action=download&format="+a+d;if(c){b+="&extension="+c}saw.ondemandload.retrieveAndAddResources({messageTemplate:"kuiDownloadGuard"},null,new obips.Callback(null,saw.catalogaction.RequestsActionHandler.doExport),{url:b,format:a,downloadFunc:saw.catalogaction.RequestsActionHandler._export})};saw.catalogaction.RequestsActionHandler.prototype.getPreviewURL=function(a,b){var c=saw.commandToURL("go")+"&path="+encodeURIComponent(a)+"&Action=Print&hideMainBar=true&mruAdd=0";return c};saw.catalogaction.RequestsActionHandler.prototype.createNewRequest=function(e,a,g,k){var f=null;if("create_direct_db_req"==e){f="&criteriatype=physical"}else{if("create_simple_sql_req"==e){var b=new saw.ondemandload.FuncProxy("obips.SimpleSqlRequestDialog.launchDialog",{messageTemplate:"kuiSimpleSqlRequestHead"});var h=new obips.Callback(this,this.createNewSimplSqlRequest);b.exec(h);return}else{var i=saw.getSessionInfos().user.prefs.getValue("defaultAnalysisMode");var c=null;var j=null;if(saw.getSessionInfos().isEnableSection508()||(i=="composer"&&saw.catalog.getPrivilege("canUseBIComposer")&&saw.catalog.getPrivilege("biComposerEnabled"))){var d=saw.catalog.getPrivilege("biUIDefaultStyle");if(saw.getSessionInfos().isEnableSection508()){c=saw.getSessionInfos().getProperty("biComposerContext")+"/faces/answersWizard.jspx?accMode=screenReader&skinFamily="+saw.encodeURIComponent(d)+"&sa="+saw.encodeURIComponent(e);j={evt:g,targetWindow:"_blank"};if(k){k.exec(c)}else{this.launchURL(c,j)}}else{c=saw.getSessionInfos().getProperty("biComposerContext")+"/faces/answersWizard.jspx?accMode=inaccessible&skinFamily="+saw.encodeURIComponent(d)+"&sa="+saw.encodeURIComponent(e);j={evt:g,targetWindow:"_blank"};if(k){k.exec(c)}else{this.launchURL(c,j)}}return}else{f="&SubjectArea="+saw.encodeURIComponent(e)}}}var c=saw.commandToURL("Answers")+f;if(k){k.exec(c)}else{if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.createNewAnalysis(c)}else{this.launchURL(c,{evt:g},"biee.answers")}}};saw.catalogaction.RequestsActionHandler.prototype.createNewSimplSqlRequest=function(a){var b=saw.createForm("simpleSqlTextForm",saw.commandToURL("Answers"));saw.addHiddenInput(b,"SQL",a);saw.addHiddenInput(b,"Action","results");obips.launcher.submitForm(b)};saw.catalogaction.PromptsActionHandler=function(){saw.catalogaction.PromptsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.PROMPT)};saw.extend(saw.catalogaction.PromptsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.PromptsActionHandler.prototype.getAllowedActionIds=function(a){return saw.catalogaction.getActionManager().getDefaultActions(a,null,false)};saw.catalogaction.PromptsActionHandler.prototype.tryAccessSubjectArea=function(b,a,e){if(!a){a={}}var d=new saw.ajax.Request("canAccessSubjectArea",this.handleAccessSubjectArea,this,[a,e]);if(b){d.addArg("Path",b);a.path=b}var c=saw.ajax.createConnection(d);c.post()};saw.catalogaction.PromptsActionHandler.prototype.handleAccessSubjectArea=function(c,a){var b=c.getBlockById("json").data.canAccess;if(b!=null&&b=="true"){var e="&path="+saw.encodeURIComponent(a[0].path);var d=saw.commandToURL("Answers")+e;if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.editDashboardPrompt(d,a[1])}else{this.launchURL(d,a[0],"biee.answers")}}else{saw.catalog.showError(saw.catalog.getLocalizedString("kmsgCatalogSubjectAreaAccessDenied"))}return true};saw.catalogaction.PromptsActionHandler.prototype.handleAction=function(g,b,e,h,c,i){var a="&path="+saw.encodeURIComponent(b);var d=i?i.bcItem:null;if(d){a+=d.getAdditionalUrlArguments()}else{obips.BreadCrumbs.Manager.getSingleton().reset()}switch(g){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupSubjectAreaSelector(new obips.Callback(this,this.createNewPrompt),i);return true;case saw.catalogaction.ActionId.EDIT:this.tryAccessSubjectArea(b,i,h);return true;case saw.catalogaction.ActionId.OPEN:var f=saw.commandToURL("AnswersEntryPreview")+a+"&Action=Prompt&hideMainBar=true";if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.openDashboardPrompt(f,h)}else{saw.catalogaction.openInWindow(f,null,"biee.answers")}return true;default:break}return false};saw.catalogaction.PromptsActionHandler.prototype.createNewPrompt=function(a,e,c,b){var d=saw.commandToURL("Answers")+"&Action=DashboardPrompt&SubjectArea="+saw.encodeURIComponent(a);if(b){b.exec(d)}else{this.launchURL(d,{evt:c},"biee.answers")}};saw.catalogaction.PromptsActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("AnswersEntryPreview")+"&path="+saw.encodeURIComponent(a)+"&Action=Prompt&hideMainBar=true"};saw.catalogaction.FiltersActionHandler=function(){saw.catalogaction.FiltersActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.FILTER)};saw.extend(saw.catalogaction.FiltersActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FiltersActionHandler.prototype.getAllowedActionIds=function(a){return saw.catalogaction.getActionManager().getDefaultActions(a,null,false)};saw.catalogaction.FiltersActionHandler.prototype.handleAction=function(g,b,e,h,c,i){switch(g){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupSubjectAreaSelector(new obips.Callback(this,this.createNewSavedFilter),i);return true;case saw.catalogaction.ActionId.OPEN:case saw.catalogaction.ActionId.EDIT:var f=saw.commandToURL("Answers")+"&path="+saw.encodeURIComponent(b);if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.editFilter(f,h)}else{this.launchURL(f,i,"biee.answers")}return true;case saw.catalogaction.ActionId.VIEW:var a=obips.BrowserEventFramework.normalizeEvent(i);var d=new ViewFilterEditor("idFilterView",b);d.loadSavedFilter(a.clientX,a.clientY);default:break}return false};saw.catalogaction.FiltersActionHandler.prototype.createNewSavedFilter=function(a,e,c,b){var d=saw.commandToURL("Answers")+"&Action=SavedFilter&SubjectArea="+saw.encodeURIComponent(a);if(b){b.exec(d)}else{this.launchURL(d,{evt:c},"biee.answers")}};saw.catalogaction.SaveColumnActionHandler=function(){saw.catalogaction.SaveColumnActionHandler.baseConstructor.call(this,"cosavedcolumn1")};saw.extend(saw.catalogaction.SaveColumnActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.SaveColumnActionHandler.prototype.getAllowedActionIds=function(c,a){var b=[];if(this.isEditableItem(c)){b.push((c.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0?saw.catalogaction.ActionId.EDIT:saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}return this.addCommonActions(c,b)};saw.catalogaction.SaveColumnActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT]};saw.catalogaction.SaveColumnActionHandler.prototype.handleAction=function(h,c,g,i,d,j){if(h==saw.catalogaction.ActionId.EDIT||h==saw.catalogaction.ActionId.EDIT_IN_CATALOG_PANE){this.action=h;this.tItemInfo=i;var a=new Array();var e=new obips.ContextMenu.MenuOption(saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColProperties"),saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColProperties"),null,new obips.Callback(this,this.handleLoadSavedColumnPropertiesPrereq));e.bEditColProperties=true;a.push(e);if(i.properties.columnType!="hierarchicalColumn"){e=new obips.ContextMenu.MenuOption(saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColFormula"),saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColFormula"),null,new obips.Callback(this,this.handleLoadSavedColumnFormulaPrereq));e.bEditColFormula=true;a.push(e)}var b=j.evt?saw.Position.createByDOMElement(saw.getEventCurrentTarget(j.evt)):null;b.evt=j.evt;if(i.properties.columnType==="hierarchicalColumn"){j.tPosition=b;j.tItemInfo=i;j.tSavedColumnMenuOptions=a;this.loadHierColumnPreLoad(j)}else{var f;if(b.evt.type==="keypress"&&b.evt.keyCode==13){var f=saw.Position.createByDOMElement(saw.getEventTarget(b.evt));f?obips.ContextMenu.Manager.getSingleton().displayAtPosition(new obips.ContextMenu.Model(this,a),f):obips.ContextMenu.Manager.getSingleton().display(new obips.ContextMenu.Model(this,a))}else{if(b.evt.type==="click"){b?obips.ContextMenu.Manager.getSingleton().displayAtPosition(new obips.ContextMenu.Model(this,a),b):obips.ContextMenu.Manager.getSingleton().display(new obips.ContextMenu.Model(this,a))}}}return true}return false};saw.catalogaction.SaveColumnActionHandler.prototype.loadHierColumnPreLoad=function(a){saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogColumnMetadataHead"},null,new obips.Callback(this,this.loadHierColumnPreLoadResponse),a)};saw.catalogaction.SaveColumnActionHandler.prototype.loadHierColumnPreLoadResponse=function(i){var g=i.tItemInfo;var b=i.tSavedColumnMenuOptions;var a=g.properties;var f=obips.ReportMetadata.GetInstance().getHierarchicalColumnMetadata(a.subjectArea,a.dimentionID,a.tableName,a.hierarchyID,"",null,true,true,g.path);var h=f?f.getAllLevelInfos():null;var e=[];for(var c in h){var d=new obips.ContextMenu.MenuOption(h[c].getLevelID(),h[c].getLevelID(),null,new obips.Callback(this,this.handleLoadSavedColumnPropertiesPrereq));d.bEditColProperties=true;d.levelId=h[c].getLevelID();e.push(d)}if(h&&h.length>0&&f.getHierarchyType()!="valueBased"){d=new obips.ContextMenu.MenuOption(saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColLevelProperties"),saw.answers.getLocalizedString("kmsgAnswersCatalogEditSavedColLevelProperties"),null,null,e);b.push(d)}obips.ContextMenu.Manager.getSingleton().displayAtPosition(new obips.ContextMenu.Model(this,b),i.tPosition)};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnPropertiesPrereq=function(a){if(this.action==saw.catalogaction.ActionId.EDIT){saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogColumnFormatEditorWithPreload"},null,new obips.Callback(this,this.handleLoadSavedColumnPropertiesResponse),a)}else{saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogColumnFormatEditor"},null,new obips.Callback(this,this.handleLoadSavedColumnPropertiesResponse),a)}};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnProperties=function(a){var c=new saw.ajax.Request("getSavedColumn",this.handleLoadSavedColumnPropertiesResponse,this,a);c.addArg("savedColumnCatalogPath",this.tItemInfo.path);var b=saw.ajax.createConnection(c);b.post()};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnPropertiesResponse=function(h){var n=this.tItemInfo;var e=obips.Criteria.getSavedColumnXml(n.path);if(!e){saw.logicErrorAlert("Failed to get save column from catalog.");return}var m="c"+XUICreateRandom64bitHexString(8);XUISetAttributeString(e,"columnID",m);var j=obips.Criteria.getColumnMetadata(n.properties.subjectArea,n.properties.columnType,n.path,m);var b="idSaveColumn";var d=new CatalogSaveColumnEditor(b,e,n);var l=CatalogSaveColumnEditor.createReport(n.properties.subjectArea,e);var c=kmsgFormatUIColumnProperties;var k=h.context.menuOption.levelId;if(k!=null){var a=obips.Criteria.getHierarchyLevelByLevelId(e,k);var g=new ColumnFormatEditor(b+"Format",false,true,j,e);e=a;c=kmsgAnswersCriteriaLevelProperties+" - "+k}else{var g=new ColumnFormatEditor(b+"Format",false,true,j)}var i=new saw.dialog.XUIDialogAdaptor(b+"Format",g,d);i.setTitle(c);i.show(e,-1,70,l);var f=k?kmsgFormatUIHierarchyLevelFormat+" - "+k:kmsgFormatUIColumnFormat;g.propertyPages.renameTab("tab2",f)};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnFormulaPrereq=function(a){if(this.action==saw.catalogaction.ActionId.EDIT){saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogColumnFormulaEditorWithPreload"},null,new obips.Callback(this,this.handleLoadSavedColumnFormulaResponse),a)}else{saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogColumnFormulaEditor"},null,new obips.Callback(this,this.handleLoadSavedColumnFormulaResponse),a)}};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnFormula=function(a){var c=new saw.ajax.Request("getSavedColumn",this.handleLoadSavedColumnFormulaResponse,this,a);c.addArg("savedColumnCatalogPath",this.tItemInfo.path);var b=saw.ajax.createConnection(c);b.post()};saw.catalogaction.SaveColumnActionHandler.prototype.handleLoadSavedColumnFormulaResponse=function(e){var k=e.context.context.tItemInfo;var c=obips.Criteria.getSavedColumnXml(k.path);if(!c){saw.logicErrorAlert("Failed to get save column from catalog.");return}var j="c"+XUICreateRandom64bitHexString(8);XUISetAttributeString(c,"columnID",j);var h=obips.Criteria.getColumnMetadata(k.properties.subjectArea,k.properties.columnType,k.path,j);var a="idSaveColumn";var b=new CatalogSaveColumnEditor(a,c,k);var i=CatalogSaveColumnEditor.createReport(k.properties.subjectArea,c);var g=i.selectSingleNode("saw:criteria");var d=new ColumnFormulaEditor(a+"Formula",false,null,null,null,false,false,null,k.path);var f=new saw.dialog.XUIDialogAdaptor(a+"Formula",d,b);f.show(c,-1,70,g)};saw.catalogaction.CustomGroupActionHandler=function(){saw.catalogaction.CustomGroupActionHandler.baseConstructor.call(this,"customgroup1")};saw.extend(saw.catalogaction.CustomGroupActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.CustomGroupActionHandler.prototype.getAllowedActionIds=function(c,a){var b=[];if(this.isEditableItem(c)){b.push((c.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0?saw.catalogaction.ActionId.EDIT:saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}return this.addCommonActions(c,b)};saw.catalogaction.CustomGroupActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT]};saw.catalogaction.CustomGroupActionHandler.prototype.handleAction=function(b,e,f,h,a,d){switch(b){case saw.catalogaction.ActionId.OPEN:case saw.catalogaction.ActionId.EDIT:var g=new obips.Callback(this,this.handleLoadCustomGroup);var c=new Object();c.itemInfo=h;c.path=e;saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogSelectionsEditor"},null,g,c);return true}return false};saw.catalogaction.CustomGroupActionHandler.prototype.handleLoadCustomGroup=function(k){var c=XUICreateElement(saw.xml.kSawNamespace,"column");var a=null;if(k.itemInfo&&k.itemInfo.targetPath!=null){var i=new obips.catalog.ItemInfoDetailLevel(null,true,true);var e=saw.catalog.getCatalogManager().getItemInfo(k.itemInfo.targetPath,true,i,null);if(!e.isError()){a=e.itemInfo}else{return null}}else{a=k.itemInfo}XUISetXsiType(c,saw.xml.kSawNamespace,a.properties.columnType);var j="c"+XUICreateRandom64bitHexString(8);c.setAttribute("columnID",j);k.columnID=j;if(a.properties.columnType=="hierarchicalColumn"){c.setAttribute("dimensionID",a.properties.dimensionID);c.setAttribute("hierarchyID",a.properties.hierarchyID);c.setAttribute("tableName",a.properties.tableName)}else{var g=XUIAppendNewElement(c,saw.xml.kSawNamespace,"columnFormula");var h=XUIAppendNewElement(g,saw.xml.kSawxNamespace,"expr");XUISetXsiType(h,saw.xml.kSawxNamespace,"sqlExpression");XUISetElementText(h,a.properties.columnFormula)}var d=SelectionsResultsPreviewEditor.generateDLReport(a.properties.subjectArea,c,"dummy");k.report=d;var f=new saw.ajax.Request("EditSavedSelectionsGroup",this.handleLoadCustomGroupResponse,this,k);f.addArg("CatalogPath",k.path);f.addArg("SelColumnID",j);f.addArg("ReportXML",saw.getXmlText(d));var b=saw.ajax.createConnection(f);b.post()};saw.catalogaction.CustomGroupActionHandler.prototype.handleLoadCustomGroupResponse=function(i,g){var l=i.getBlockById("otherinfo").data;var p=i.getBlockById("selection").data;var e=i.getBlockById("columnMetadata").data;var m=i.getBlockById("displayValues").data;var j=i.getBlockById("captionSpace").data;if(j){XUICaptionSpace.addCaptions(saw.getFirstChildElement(j).cloneNode(true))}if(p&&e){var f=e.firstChild.cloneNode(true);var q=p.firstChild.cloneNode(true);var b=obips.ReportMetadata.GetInstance(false);b.initFromObjects(f);obips.ReportMetadata.GetInstance(true).initFromObjects(null,m);var c=q.selectSingleNode("saw:selectionStep");if(c.getAttribute("type")=="add"){var n=g.report;var d=n.selectSingleNode(".//saw:column[@columnID='"+g.columnID+"']");var r=XUIAppendNewElement(d,saw.xml.kSawNamespace,"dimensionSelection");var h=XUIAppendNewElement(r,saw.xml.kSawNamespace,"step");h.setAttribute("type","add");h.setAttribute("stepID","1");h.setAttribute("category","customGroup");var a=g.columnID+"_"+g.groupPath;q.setAttribute("customGroupID",a);h.appendChild(q);CustomGroupsEditor.editGroup("idSelectionsCustomGroups","idSelections",g.columnID,a,n,g.path,b,l.catalogDisplayPath)}else{if(c.getAttribute("type")=="startWith"){var k=new SelectionsGroupEditor("idEditSavedSelectionsGroup",g.path,g.columnID);k.setMetadata(b);var o=new XUIDialog("idEditSavedSelectionsGroup",k,null);o.show(q,-1,-1,g.report,null,true,true)}}}};saw.catalogaction.CalcItemActionHandler=function(){saw.catalogaction.CalcItemActionHandler.baseConstructor.call(this,"calcitem1")};saw.extend(saw.catalogaction.CalcItemActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.CalcItemActionHandler.prototype.getAllowedActionIds=function(c,a){var b=[];if(this.isEditableItem(c)){b.push((c.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0?saw.catalogaction.ActionId.EDIT:saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}return this.addCommonActions(c,b)};saw.catalogaction.CalcItemActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT]};saw.catalogaction.CalcItemActionHandler.prototype.handleAction=function(b,e,f,h,a,d){if(b==saw.catalogaction.ActionId.EDIT){var g=new obips.Callback(this,this.handleLoadCalcItem);var c=new Object();c.itemInfo=h;c.path=e;saw.ondemandload.retrieveAndAddHtmlFragments({messageTemplate:"kuiCatalogSelectionsEditor"},null,g,c);return true}return false};saw.catalogaction.CalcItemActionHandler.prototype.handleLoadCalcItem=function(k){var a=null;if(k.itemInfo&&k.itemInfo.targetPath!=null){var i=new obips.catalog.ItemInfoDetailLevel(null,true,true);var e=saw.catalog.getCatalogManager().getItemInfo(k.itemInfo.targetPath,true,i,null);if(!e.isError()){a=e.itemInfo}else{return null}}else{a=k.itemInfo}var c=XUICreateElement(saw.xml.kSawNamespace,"column");XUISetXsiType(c,saw.xml.kSawNamespace,a.properties.columnType);var j="c"+XUICreateRandom64bitHexString(8);c.setAttribute("columnID",j);k.columnID=j;if(a.properties.columnType=="hierarchicalColumn"){c.setAttribute("dimensionID",a.properties.dimensionID);c.setAttribute("hierarchyID",a.properties.hierarchyID);c.setAttribute("tableName",a.properties.tableName)}else{var g=XUIAppendNewElement(c,saw.xml.kSawNamespace,"columnFormula");var h=XUIAppendNewElement(g,saw.xml.kSawxNamespace,"expr");XUISetXsiType(h,saw.xml.kSawxNamespace,"sqlExpression");XUISetElementText(h,a.properties.columnFormula)}var d=SelectionsResultsPreviewEditor.generateDLReport(a.properties.subjectArea,c,"dummy");k.report=d;var f=new saw.ajax.Request("EditSavedCalcItem",this.handleLoadCalcItemResponse,this,k);f.addArg("CatalogPath",k.path);f.addArg("SelColumnID",j);var b=saw.ajax.createConnection(f);b.post()};saw.catalogaction.CalcItemActionHandler.prototype.handleLoadCalcItemResponse=function(f,i){var e=f.getBlockById("calcItem").data;var b=f.getBlockById("columnMetadata").data;var k=f.getBlockById("captionSpace").data;if(k){XUICaptionSpace.addCaptions(saw.getFirstChildElement(k).cloneNode(true))}if(e&&b){var g=b.firstChild;var j=e.firstChild;var h=obips.ReportMetadata.GetInstance(false);h.initFromObjects(g);var d=i.report;var c=d.selectSingleNode(".//saw:column[@columnID='"+i.columnID+"']");var m=XUIAppendNewElement(c,saw.xml.kSawNamespace,"dimensionSelection");var a=XUIAppendNewElement(m,saw.xml.kSawNamespace,"step");a.setAttribute("type","add");a.setAttribute("stepID","1");a.setAttribute("category","calcItem");var l=i.columnID+"_"+i.path;j.setAttribute("id",l);a.appendChild(j);CalcItemEditor.editCalcItem("idSelectionsCalcItem","idSelections",j,c,d,i.path,h)}};saw.catalogaction.ActionsActionHandler=function(){saw.catalogaction.ActionsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.ACTION)};saw.extend(saw.catalogaction.ActionsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ActionsActionHandler.prototype.handleAction=function(b,e,f,g,a,d){switch(b){case saw.catalogaction.ActionId.NEW:NQWWaitCursor();saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversActionPopup"},null,this.showActionPopup,this,d);return true;case saw.catalogaction.ActionId.EDIT:NQWWaitCursor();var c=new Object();c.path=e;c.caption=g.caption;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversActionFramework"},null,this.showEditActionDialog,this,c);return true;case saw.catalogaction.ActionId.ACTIONEXECUTE:NQWWaitCursor();saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversActionFramework"},null,this.showExecuteActionDialog,this,e);return true;default:break}return false};saw.catalogaction.ActionsActionHandler.prototype.showActionPopup=function(d){var a=d&&d.tBrowserEvt;if(a){var f=a&&a.clientX;var e=a&&a.clientY;if(a.curClientX&&a.curClientY){f=a.curClientX;e=a.curClientY}saw.stopEventPropagation(a)}var c=new obips.Callback(null,saw.catalogaction.ActionsActionHandler.createNewAction);var b=new obiaf.ActionPopup(c);b.display(d,f,e);NQWDefaultCursor()};saw.catalogaction.ActionsActionHandler.createNewAction=function(e,b){var d=obips.ResourceManager.getSingleton();var a=d.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsCreateAction").getString();var c=new obiaf.ActionEditorDialog.Model(a);c.createActionFromType(e,b);c.saveAction=true;new obiaf.ActionEditorDialog.Viewer(c,obips.FloatingWindow.Manager.getSingleton());NQWDefaultCursor()};saw.catalogaction.ActionsActionHandler.prototype.showEditActionDialog=function(i){var e=obips.catalog.Catalog.getSingleton();var c=e.readObject(i.path,true,null,null);var b=obips.XMLDOM.parseXML(c.data);var k=obips.XMLDOM.selectSingleNode(b,".//saw:implementation",saw.delivers.namespaceMap);var d=k.getAttribute("xsi:type").split(":").pop();if(d==obiaf.ActionsBase.URL_ACTION_TYPE){var h=obips.XMLDOM.selectSingleNode(k,"saw:url",saw.delivers.namespaceMap);var p=XUIGetAttributeString(h,"urlType");if(p=="siebelWorkflow"){d=obiaf.ActionsBase.WORKFLOW_ACTION_TYPE}else{if(p=="hyperion"){d=obiaf.ActionsBase.NAVEPM_ACTION_TYPE}}}else{if(d==obiaf.ActionsBase.SCRIPT_ACTION_TYPE){var n=obips.XMLDOM.selectSingleNode(k,"saw:functionName",saw.delivers.namespaceMap);if(XUIGetElementText(n)==obids.NAV_TO_BI_CONTENT){d=obiaf.ActionsBase.NAVBI_ACTION_TYPE}else{if(XUIGetElementText(n)==obids.NAV_TO_SIEBEL_CRM){d=obiaf.ActionsBase.NAVCRM_ACTION_TYPE}}}}obiaf.ActionsBase.bCreateNavigateActionPriv=saw.catalog.getPrivilege("canCreateNavigateActions");obiaf.ActionsBase.bCreateInvokeActionPriv=saw.catalog.getPrivilege("canCreateInvokeActions");var a=obiaf.Action.getActionPrivilege(d);if(a){var o=this.manager.resourceManager.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsEditAction").getString();obiaf.ActionEditorDialog.editNamedAction(o,i.path,i.caption);NQWDefaultCursor()}else{NQWDefaultCursor();var j=this.manager.resourceManager.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsExecuteActionErrorTitle").getString();var m=this.manager.resourceManager.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsEditActionAccessDenied").getString();var l=obiaf.ActionsBase.getImageURL("uicomponents/common/title_error.png");var g=new obips.MessageDialog.Model(j,m,"http://www.oracle.com/bi",l);var f=new obips.MessageDialog.Viewer(g,obips.FloatingWindow.Manager.getSingleton(),true)}};saw.catalogaction.ActionsActionHandler.prototype.showExecuteActionDialog=function(g){var h=saw.catalog.getCatalogManager();var c=h.readObject(g,true,null,null);var a=obips.XMLDOM.parseXML(c.data);var m=obips.XMLDOM.selectSingleNode(a,".//saw:implementation",saw.delivers.namespaceMap);var d=m.getAttribute("xsi:type");var k=m.getAttribute("executeOnClient");if(d=="saw:ScriptActionType"&&k=="false"){var l=this.manager.resourceManager.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsExecuteActionErrorTitle").getString();var b=this.manager.resourceManager.getResource(obiaf.ActionsBase.resourceFile,"kmsgActionsNoExeServer").getString();var n=obiaf.ActionsBase.getImageURL("uicomponents/common/title_error.png");var j=new obips.MessageDialog.Model(l,b,"http://www.oracle.com/bi",n);var i=new obips.MessageDialog.Viewer(j,obips.FloatingWindow.Manager.getSingleton(),true)}else{var f=h.getItemInfo(g,true);if(f.isError()){saw.catalog.showError(f.getErrorMessage())}else{var e=new obiaf.ExecuteAction(f.itemInfo.caption);e.executeNamedAction(g)}}NQWDefaultCursor()};saw.catalogaction.ActionsActionHandler.prototype.getAllowedActionIds=function(e,c){var d=[];if((e.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE){var b=saw.catalog.getPrivilege("canCreateInvokeActions")||saw.catalog.getPrivilege("canCreateNavigateActions");if(b){d.push(saw.catalogaction.ActionId.EDIT)}}var a=(e.permissions&obips.catalog.ItemPermissions.EXECUTE)!=0;if(a){d.push(saw.catalogaction.ActionId.ACTIONEXECUTE)}this.addCommonActions(e,d);return d};saw.catalogaction.ActionsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT,saw.catalogaction.ActionId.ACTIONEXECUTE]};saw.catalogaction.ActionsActionHandler.prototype.getPreviewURL=function(a){return saw.pageToURL("pages/delivers/action_preview.html")+"?AlertPath="+encodeURIComponent(a)};saw.catalogaction.ConditionsActionHandler=function(){saw.catalogaction.ConditionsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.CONDITION)};saw.extend(saw.catalogaction.ConditionsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ConditionsActionHandler.prototype.handleAction=function(b,c,d,a){switch(b){case saw.catalogaction.ActionId.NEW:NQWWaitCursor();saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversConditions"},null,this.showNewConditionDialog,this,null);return true;case saw.catalogaction.ActionId.EDIT:NQWWaitCursor();this.sEditConditionPath=c;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversConditions"},null,this.showEditConditionDialog,this,null);return true;default:break}return false};saw.catalogaction.ConditionsActionHandler.prototype.showNewConditionDialog=function(){var d=new obicf.Condition("");var a=this.manager.resourceManager.getResource(obicf.Condition.resourceFile,"kmsgConditionsCreateCondition").getString();var b=obids.Utils.getImageURL("CreateConditionHelpPage");var c=new obicf.CreateEditConditionDialog.Model(a,new obips.Callback(null,this.okHandler),b,d,true,false);_createEditConditionDialogViewer=new obicf.CreateEditConditionDialog.Viewer(c,obips.FloatingWindow.Manager.getSingleton(),true);NQWDefaultCursor()};saw.catalogaction.ConditionsActionHandler.prototype.okHandler=function(){};saw.catalogaction.ConditionsActionHandler.prototype.showEditConditionDialog=function(){var e=obicf.ServerRequests.loadCondition(this.sEditConditionPath);if(e!=null){var c=this.manager.resourceManager.getResource(obicf.Condition.resourceFile,"kmsgConditionsEditCondition").getString();var b=c+" "+this.sEditConditionPath;var a=obids.Utils.getImageURL("CreateConditionHelpPage");var d=new obicf.CreateEditConditionDialog.Model(b,new obips.Callback(null,this.okHandler),a,e,true,true,this.sEditConditionPath);_createEditConditionDialogViewer=new obicf.CreateEditConditionDialog.Viewer(d,obips.FloatingWindow.Manager.getSingleton(),true)}NQWDefaultCursor()};saw.catalogaction.ConditionsActionHandler.prototype.getAllowedActionIds=function(a){return this.getDefaultActions(a)};saw.catalogaction.ConditionsActionHandler.prototype.getEditConditionAction=function(c){var a=(c.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE;var b=saw.catalogaction.ActionId.EDIT;if(!a){b=saw.catalogaction.ActionId.toDisabledAction(b)}return b};saw.catalogaction.ConditionsActionHandler.prototype.getRenameConditionAction=function(c){var a=(c.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE;var b=saw.catalogaction.ActionId.RENAME;if(!a){b=saw.catalogaction.ActionId.toDisabledAction(b)}return b};saw.catalogaction.ConditionsActionHandler.prototype.getLinkConditionAction=function(b){var a=saw.catalogaction.ActionId.LINK;return a};saw.catalogaction.ConditionsActionHandler.prototype.getDeleteConditionAction=function(c){var b=(c.operationPermissions&obips.catalog.OperationPermissions.DELETE)==obips.catalog.OperationPermissions.DELETE;var a=saw.catalogaction.ActionId.DELETE;if(!b){a=saw.catalogaction.ActionId.toDisabledAction(a)}return a};saw.catalogaction.ConditionsActionHandler.prototype.getPermissionsConditionAction=function(d){var c=saw.catalogaction.canSeePermissionsDialogUI();var a=(d.operationPermissions&obips.catalog.OperationPermissions.CHANGE_PERMISSIONS)==obips.catalog.OperationPermissions.CHANGE_PERMISSIONS;var b=saw.catalogaction.ActionId.PERMISSIONS;if(!c||!a){b=saw.catalogaction.ActionId.toDisabledAction(b)}return b};saw.catalogaction.ConditionsActionHandler.prototype.getDefaultActions=function(h){var c=(h.operationPermissions&obips.catalog.OperationPermissions.READ)==obips.catalog.OperationPermissions.READ;var f=(h.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE;var g=this.getEditConditionAction(h);var e=this.getRenameConditionAction(h);var a=this.getLinkConditionAction(h);var d=this.getDeleteConditionAction(h);var i=this.getPermissionsConditionAction(h);var b=[];if(g.disabled){}else{b.push(g)}b.push(e);b.push(a);b.push(d);b.push(i);b.push(saw.catalogaction.ActionId.COPY);b.push(saw.catalogaction.ActionId.PROPERTIES);return b};saw.catalogaction.ConditionsActionHandler.prototype.getPreviewURL=function(a){return saw.pageToURL("pages/delivers/condition_preview.html")+"?AlertPath="+encodeURIComponent(a)};saw.catalogaction.IbotsActionHandler=function(){saw.catalogaction.IbotsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.IBOT)};saw.extend(saw.catalogaction.IbotsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.IbotsActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:return this.launchURL(saw.commandToURL("IBotSummary"),c,"biee.delivers");case saw.catalogaction.ActionId.EDIT:case saw.catalogaction.ActionId.OPEN:return this.launchURL(saw.commandToURL("IBotSummary")+"&AlertPath="+saw.encodeURIComponent(d),c,"biee.delivers");case saw.catalogaction.ActionId.IBOTRUN:this.runIBot(d);return true;case saw.catalogaction.ActionId.IBOTSUBSCRIBE:this.subscribeUser(d);return true;case saw.catalogaction.ActionId.IBOTUNSUBSCRIBE:this.unsubscribeUser(d);return true;case saw.catalogaction.ActionId.IBOTENABLESCHEDULE:this.tItemInfo=f;this.enableIBotSchedule(d);return true;case saw.catalogaction.ActionId.IBOTDISABLESCHEDULE:this.disableIBotSchedule(d);return true;case saw.catalogaction.ActionId.IBOTCUSTOMIZE:this.customizeSubscription(d);return true;case saw.catalogaction.ActionId.MOREDETAIL:this.moreDetail(d);return true;case saw.catalogaction.ActionId.LESSDETAIL:this.lessDetail(d);return true;case saw.catalogaction.ActionId.DELETE:if(f.isLink()){break}else{this.tItemInfo=f;this.deleteIBot(d);return true}case saw.catalogaction.ActionId.RENAME:this.renameIBot(f);return true;case saw.catalogaction.ActionId.PRINT_HTML:this.printIBot(d);return true;default:break}return false};saw.catalogaction.IbotsActionHandler.prototype.getAllowedActionIds=function(b,a){this.aActionIds=this.getDefaultActions(b);this.tItemInfo=b;this.sAlertPath=b.path;if(saw.catalog.getPrivilege("canAccessAgents")&&a){this.aActionIds.pending=true;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.retrieveIBotInfo,this,null)}return this.aActionIds};saw.catalogaction.IbotsActionHandler.prototype.handleItemInfo=function(b){var a=b.itemInfo;if(a==null){if(b.errorMsg!=null){saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversSchedulerConnectionError"))}else{saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversCouldNotAccessAgent"))}}else{if(a.permissions==0){saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversCouldNotAccessAgent"))}else{obips.catalog.Catalog.getSingleton().notify(new obips.Observable.Event(obips.catalog.EventType.ITEM_UPDATED,a))}}};saw.catalogaction.IbotsActionHandler.prototype.getDefaultActions=function(k){var a=false;var e=false;var i=false;var g=false;var b=false;var d=false;if(saw.catalog.getPrivilege("canAccessAgents")){a=(k.operationPermissions&obips.catalog.OperationPermissions.READ)==obips.catalog.OperationPermissions.READ;e=(k.operationPermissions&obips.catalog.OperationPermissions.WRITE)==obips.catalog.OperationPermissions.WRITE;i=(k.operationPermissions&obips.catalog.OperationPermissions.DELETE)==obips.catalog.OperationPermissions.DELETE;g=(k.permissions&obips.catalog.ItemPermissions.EXECUTE)!=0;b=true;d=saw.catalog.getPrivilege("canCreateAgents")}var c=[];if(e&&d){c.push(saw.catalogaction.ActionId.EDIT)}else{if(a){c.push(saw.catalogaction.ActionId.OPEN)}}if(b){c.push(saw.catalogaction.ActionId.PRINTAS);c.push(saw.catalogaction.ActionId.PRINT_HTML);c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PRINT_PDF))}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PRINTAS))}if(saw.catalog.CatalogView){if(i){c.push(saw.catalogaction.ActionId.DELETE)}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.DELETE))}if(e){c.push(saw.catalogaction.ActionId.RENAME)}if(a){c.push(saw.catalogaction.ActionId.COPY)}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.COPY))}if(b){c.push(saw.catalogaction.ActionId.LINK)}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.LINK))}}var j=saw.catalog.getPrivilege("canArchive");if(j&&a){c.push(saw.catalogaction.ActionId.ARCHIVE)}else{if(j&&!a){c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.ARCHIVE))}}c.push(saw.catalogaction.ActionId.PROPERTIES);var f=saw.catalogaction.canSeePermissionsDialogUI();var h=(k.operationPermissions&obips.catalog.OperationPermissions.CHANGE_PERMISSIONS)==obips.catalog.OperationPermissions.CHANGE_PERMISSIONS;if(f&&h){c.push(saw.catalogaction.ActionId.PERMISSIONS)}else{if(f&&!h){c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.PERMISSIONS))}}if(g){c.push(saw.catalogaction.ActionId.IBOTRUN)}if(saw.catalog.CatalogView){if(k.extendedAttributes&&k.extendedAttributes.recipient){if(b){c.push(saw.catalogaction.ActionId.LESSDETAIL)}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.LESSDETAIL))}}else{if(b){c.push(saw.catalogaction.ActionId.MOREDETAIL)}else{c.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.MOREDETAIL))}}}return c};saw.catalogaction.IbotsActionHandler.prototype.getPrimaryActionIds=function(b){var a=[];a.push(saw.catalogaction.ActionId.EDIT);a.push(saw.catalogaction.ActionId.OPEN);a.push(saw.catalogaction.ActionId.IBOTRUN);if(saw.catalog.CatalogView){if(b.extendedAttributes&&b.extendedAttributes.recipient){a.push(saw.catalogaction.ActionId.LESSDETAIL)}else{a.push(saw.catalogaction.ActionId.MOREDETAIL)}}return a};saw.catalogaction.IbotsActionHandler.prototype.getPreviewURL=function(a){if(saw.catalog.getPrivilege("canAccessAgents")){return saw.pageToURL("pages/delivers/ibot_preview.html")+"?AlertPath="+encodeURIComponent(a)}else{return null}};saw.catalogaction.IbotsActionHandler.prototype.getExtendedAttributesRenderer=function(b){var a=true;if(a){return new obips.Callback(this,this.renderExtendedAttributes)}return null};saw.catalogaction.IbotsActionHandler.prototype.renderExtendedAttributes=function(l,a){if(l.extendedAttributes.recipient){var f="delivers/obide.Delivers.xml";var b=this.manager.resourceManager.getResource(f,"kmsgDeliversLastRun").getString();var m=this.manager.resourceManager.getResource(f,"kmsgDeliversNextRun").getString();var i=this.manager.resourceManager.getResource(f,"kmsgDeliversSubscribed").getString();var j=this.manager.resourceManager.getResource(f,"kmsgDeliversNotRecipient").getString();var h=this.manager.resourceManager.getResource(f,"kmsgDeliversRecipient").getString();var g=l.extendedAttributes.lastRun;var k=l.extendedAttributes.lastRunStatus;var c=l.extendedAttributes.nextRun;if(g==null||g==""){g="-"}if(k==""){k="-"}if(c==null||c==""){c="-"}switch(k){case"JobRunning":k=this.manager.resourceManager.getResource(f,"kmsgDeliversRunningIBot").getString();break;case"JobCompleted":k=this.manager.resourceManager.getResource(f,"kmsgDeliversIBotSuccessful").getString();break;case"JobCompletedWithWarnings":k=this.manager.resourceManager.getResource(f,"kmsgDeliversIBotWarnings").getString();break;case"JobNeverRun":k=this.manager.resourceManager.getResource(f,"kmsgDeliversIBotNeverRun").getString();break;case"JobFailed":case"JobTimedOut":case"JobCancelled":k=this.manager.resourceManager.getResource(f,"kmsgDeliversIBotFailed").getString();break}var d=l.extendedAttributes.priority;if(d=="normal"){d=this.manager.resourceManager.getResource(f,"kmsgDeliversNormalPriority").getString()}else{if(d=="high"){d=this.manager.resourceManager.getResource(f,"kmsgDeliversHighPriority").getString()}else{if(d=="low"){d=this.manager.resourceManager.getResource(f,"kmsgDeliversLowPriority").getString()}}}var e=b+" "+g;e+=" | "+k;e+=" | "+m+" "+c;if(l.extendedAttributes.subscribed=="true"){e+=" | "+i}else{if(l.extendedAttributes.recipient=="true"){e+=" | "+h}else{if(l.extendedAttributes.recipient=="false"){e+=" | "+j}}}if(l.extendedAttributes.enabled=="false"){e+=" | "+this.manager.resourceManager.getResource(f,"kmsgDeliversDisabled").getString()}e+=" | "+d;a.appendChild(a.ownerDocument.createTextNode(e))}};saw.catalogaction.IbotsActionHandler.prototype.retrieveIBotInfo=function(){if((this.tItemInfo.operationPermissions&obips.catalog.OperationPermissions.READ)==0){if(this.aActionIds){this.aActionIds.pending=false;var b=new saw.catalogaction.ActionManager.ActionListUpdatedEventContext(this.tItemInfo.path,this.aActionIds,true);this.manager.notify(new obips.Observable.Event(saw.catalogaction.ActionManager.EventType.ACTION_LIST_UPDATED,b))}}else{var a=new obips.Callback(this,this.updateAllowedActions);var c=new obips.Callback(this,this.serverError);obide.ServerRequests.retrieveIBotInfo(this.tItemInfo.path,true,a,c)}};saw.catalogaction.IbotsActionHandler.prototype.updateAllowedActions=function(f){var c=obips.XMLDOM.selectSingleNode(f,"//IBotInfo",saw.delivers.namespaceMap);var b=XUIGetAttributeString(c,"error","false");var m=XUIGetAttributeString(c,"schedulerError","false");var r=this.getDefaultActions(this.tItemInfo);var h;if(b=="true"){h=new saw.catalogaction.ActionManager.ActionListUpdatedEventContext(this.tItemInfo.path,r,true);this.manager.notify(new obips.Observable.Event(saw.catalogaction.ActionManager.EventType.ACTION_LIST_UPDATED,h));if(m=="false"){saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversCouldNotAccessAgent"))}return}var k=obips.XMLDOM.selectSingleNode(f,"//saw:ibot",saw.delivers.namespaceMap);var e=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/Subscribed"));var d=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/CanSubscribe"));var o=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/CanCustomize"));var a=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/LastRun"));if(a==""){a="-"}var p=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/NextRun"));if(p==""){p="-"}var i=XUIGetElementText(obips.XMLDOM.selectSingleNode(f,"IBotInfo/SchedulerRegistered"))=="1";var n=false;if(k){n=saw.delivers.isIBotScheduleEnabled(k,i)}var q=(this.tItemInfo.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0;if(d=="true"){if(e=="true"){r.push(saw.catalogaction.ActionId.IBOTUNSUBSCRIBE)}else{r.push(saw.catalogaction.ActionId.IBOTSUBSCRIBE)}if(o=="true"){r.push(saw.catalogaction.ActionId.IBOTCUSTOMIZE)}}var g=false;var s=obips.XMLDOM.selectSingleNode(k,"//saw:ibot/saw:schedule",saw.delivers.namespaceMap);var j=obips.XMLDOM.selectSingleNode(s,"saw:start",saw.delivers.namespaceMap);var l=null;if(j){l=XUIGetAttributeString(j,"date")}if(l&&l!=""){g=true}if(q){if(!n){r.push(saw.catalogaction.ActionId.IBOTENABLESCHEDULE)}else{if(g){r.push(saw.catalogaction.ActionId.IBOTDISABLESCHEDULE)}}}h=new saw.catalogaction.ActionManager.ActionListUpdatedEventContext(this.tItemInfo.path,r,true);this.manager.notify(new obips.Observable.Event(saw.catalogaction.ActionManager.EventType.ACTION_LIST_UPDATED,h))};saw.catalogaction.IbotsActionHandler.prototype.serverError=function(){};saw.catalogaction.IbotsActionHandler.prototype.deleteIBot=function(c){this.sAlertPath=c;var g=saw.getLastPathPart(c);var e=saw.pathPartToItemName(g);try{var b=saw.catalog.getCatalogManager().getItemInfo(c,true);if(b.isError()){saw.catalog.showError(b.getErrorMessage());return}else{var a=b.itemInfo;e=b.itemInfo.caption;if((a.operationPermissions&obips.catalog.OperationPermissions.DELETE)==0){var f=saw.catalog.getLocalizedString("kmsgCatalogDeleteNotPermitted",e);saw.catalog.showError(f);return}}}catch(d){}saw.catalog.showConfirmDialog(saw.catalog.getLocalizedString("kmsgCatalogConfirmDeleteDlgTitle"),saw.catalog.getLocalizedString("kmsgCatalogConfirmDeleteDlgMessage",e),new obips.Callback(this,this.doDeleteIBot1))};saw.catalogaction.IbotsActionHandler.prototype.doDeleteIBot1=function(){saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doDeleteIBot2,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doDeleteIBot2=function(){if(obips.IBotService.deleteIBot(this.sAlertPath)){saw.catalog.getCatalogManager().notify(new obips.Observable.Event(obips.catalog.EventType.ITEMS_DELETED,new Array(this.tItemInfo)))}};saw.catalogaction.IbotsActionHandler.prototype.renameIBot=function(a){this.itemInfo=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doRenameIBot1,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doRenameIBot1=function(){this.renameDialogModel=new saw.delivers.RenameAgentDialogModel(this.itemInfo.path,new obips.Callback(this,this.doRenameIBot2),saw.getItemName(this.itemInfo.path),this.itemInfo.description);new saw.delivers.RenameAgentDialogViewer(this.renameDialogModel)};saw.catalogaction.IbotsActionHandler.prototype.doRenameIBot2=function(){if(this.renameDialogModel.name&&this.renameDialogModel.name!=saw.getItemName(this.renameDialogModel.srcPath)){var c=saw.getFolder(this.renameDialogModel.srcPath)+"/"+saw.captionToItemName(this.renameDialogModel.name);try{var a=saw.catalog.getCatalogManager().getItemInfo(c,true);if(a&&!a.isError()){var d=saw.catalog.getLocalizedString("kmsgCatalogCannotOverwriteDlgMessage",this.renameDialogModel.name);saw.catalog.showError(d);return}}catch(b){}this.doRenameIBot3()}};saw.catalogaction.IbotsActionHandler.prototype.doRenameIBot3=function(){var c=this.renameDialogModel.srcPath;var b=saw.getFolder(this.renameDialogModel.srcPath)+"/"+saw.captionToItemName(this.renameDialogModel.name);if(obips.IBotService.moveiBot(c,b)){this.itemInfo.path=b;this.itemInfo.caption=this.renameDialogModel.name;var a=new obips.catalog.RenamedEventContext(c,this.itemInfo);saw.catalog.getCatalogManager().notify(new obips.Observable.Event(obips.catalog.EventType.ITEM_RENAMED,a))}};saw.catalogaction.IbotsActionHandler.prototype.runIBot=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doRunIBot,this,null)};saw.catalogaction.IbotsActionHandler.prototype.moreDetail=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doMoreDetail,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doMoreDetail=function(){var b=obips.catalog.Catalog.getSingleton();var a=new obips.catalog.ItemInfoDetailLevel(obips.catalog.ExtendedAttrLevel.GREEDY);var c=new obips.Callback(this,this.handleItemInfo);b.getItemInfo(this.sAlertPath,false,a,c)};saw.catalogaction.IbotsActionHandler.prototype.lessDetail=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doLessDetail,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doLessDetail=function(){var b=obips.catalog.Catalog.getSingleton();var a=new obips.catalog.ItemInfoDetailLevel(obips.catalog.ExtendedAttrLevel.NORMAL);var c=new obips.Callback(this,this.handleItemInfo);b.getItemInfo(this.sAlertPath,false,a,c)};saw.catalogaction.IbotsActionHandler.prototype.doRunIBot=function(){var g=obide.ServerRequests.retrieveIBotInfo(this.sAlertPath,true);var h=obips.XMLDOM.selectSingleNode(g,"//IBotInfo",saw.delivers.namespaceMap);var j=XUIGetAttributeString(h,"error","false");var i=XUIGetAttributeString(h,"schedulerError","false");if(j=="true"){if(i=="true"){saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversSchedulerConnectionError"))}else{saw.delivers.showError(obids.Utils.getMessageText("kmsgDeliversCouldNotAccessAgent"))}return}var a=saw.getFolder(this.sAlertPath);var c=saw.getLastPathPart(this.sAlertPath);var f=new obips.catalog.ItemInfoDetailLevel(null,true,true);var b=saw.catalog.getCatalogManager().getItemInfo(this.sAlertPath,true,f,null);var e=b.itemInfo.caption;var d=new obide.IBotProgressDialog.Model(a,c,null,e);new obide.IBotProgressDialog.Viewer(d,obips.FloatingWindow.Manager.getSingleton(),this)};saw.catalogaction.IbotsActionHandler.prototype.updateDetails=function(a){var c=obips.catalog.Catalog.getSingleton();if(a||(this.tItemInfo.extendedAttributes&&this.tItemInfo.extendedAttributes.recipient)){var b=new obips.catalog.ItemInfoDetailLevel(obips.catalog.ExtendedAttrLevel.GREEDY);var d=new obips.Callback(this,this.handleItemInfo);c.getItemInfo(this.tItemInfo.path,false,b,d)}if(saw.catalog.getCatalogPageViewer){saw.catalog.getCatalogPageViewer().refreshPreview(this.tItemInfo)}};saw.catalogaction.IbotsActionHandler.prototype.subscribeUser=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doSubscribeUser,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doSubscribeUser=function(){obide.ServerRequests.subscribe(this.sAlertPath,"subscribe");this.updateDetails()};saw.catalogaction.IbotsActionHandler.prototype.enableIBotSchedule=function(l){saw.header.showBusyIndicator(true);var d=saw.getLastPathPart(l);var p=saw.getFolder(l);var h=obide.ServerRequests.retrieveIBotInfo(l,true);var k=XUIGetElementText(obips.XMLDOM.selectSingleNode(h,"IBotInfo/SchedulerRegistered"))=="1";var a=obips.XMLDOM.selectSingleNode(h,"//saw:ibot",saw.delivers.namespaceMap);var r=false;if(!k){a.removeAttribute("jobID");if(p){var b='<?xml version="1.0" encoding="UTF-8"?>'+obips.XMLDOM.getXMLString(a);r=(this.tItemInfo.extendedAttributes&&this.tItemInfo.extendedAttributes.recipient);saw.catalog.getCatalogManager().writeXML(saw.catalog.ItemCategory.IBOT,b,l)}}var e=obips.XMLDOM.createXMLDomFromString('<saw:ibotUI xmlns:saw="com.siebel.analytics.web/report/v1.1"/>');var n=obips.XMLDOM.selectSingleNode(e,"saw:ibotUI",saw.delivers.namespaceMap);XUIAppendChild(n,a);var t=obips.XMLDOM.selectSingleNode(a,"saw:schedule",saw.delivers.namespaceMap);var o=obips.XMLDOM.selectSingleNode(t,"saw:start",saw.delivers.namespaceMap);var s=null;if(o){s=XUIGetAttributeString(o,"date")}if(s&&s!=""){t.removeAttribute("disabled")}else{XUISetAttributeBool(t,"disabled",true)}var f=XUIInsertNewElement(n,saw.xml.kSawNamespace,"ibotSaveInfo",1);var m=XUIForceSingleNode(f,saw.xml.kSawNamespace,"saveMode");XUISetElementText(m,"save");var q=XUIForceSingleNode(f,saw.xml.kSawNamespace,"name");XUISetElementText(q,d);var i=XUIForceSingleNode(f,saw.xml.kSawNamespace,"oldName");XUISetElementText(i,d);var g=XUIForceSingleNode(f,saw.xml.kSawNamespace,"path");XUISetElementText(g,p);var c=XUIForceSingleNode(f,saw.xml.kSawNamespace,"oldPath");XUISetElementText(c,p);var j=obide.ServerRequests.saveIBot(obips.XMLDOM.getXMLString(e),false);saw.delivers.handleSaveResult(j);this.updateDetails(r);saw.header.showBusyIndicator(false)};saw.catalogaction.IbotsActionHandler.prototype.disableIBotSchedule=function(m){saw.header.showBusyIndicator(true);var g=obide.ServerRequests.retrieveIBotInfo(m,true);var i=obips.XMLDOM.selectSingleNode(g,"//saw:ibot",saw.delivers.namespaceMap);var f=saw.getLastPathPart(m);var e=saw.getFolder(m);var n=obips.XMLDOM.createXMLDomFromString('<saw:ibotUI xmlns:saw="com.siebel.analytics.web/report/v1.1"/>');var a=obips.XMLDOM.selectSingleNode(n,"saw:ibotUI",saw.delivers.namespaceMap);XUIAppendChild(a,i);var h=obips.XMLDOM.selectSingleNode(i,"saw:schedule",saw.delivers.namespaceMap);XUISetAttributeBool(h,"disabled",true);var k=XUIInsertNewElement(a,saw.xml.kSawNamespace,"ibotSaveInfo",1);var c=XUIForceSingleNode(k,saw.xml.kSawNamespace,"saveMode");XUISetElementText(c,"replace");var d=XUIForceSingleNode(k,saw.xml.kSawNamespace,"name");XUISetElementText(d,f);var l=XUIForceSingleNode(k,saw.xml.kSawNamespace,"oldName");XUISetElementText(l,f);var b=XUIForceSingleNode(k,saw.xml.kSawNamespace,"path");XUISetElementText(b,e);var j=XUIForceSingleNode(k,saw.xml.kSawNamespace,"oldPath");XUISetElementText(j,e);var o=obide.ServerRequests.saveIBot(obips.XMLDOM.getXMLString(n),false);saw.delivers.handleSaveResult(o);this.updateDetails();saw.header.showBusyIndicator(false)};saw.catalogaction.IbotsActionHandler.prototype.unsubscribeUser=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversFiles"},null,this.doUnsubscribeUser,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doUnsubscribeUser=function(){obide.ServerRequests.subscribe(this.sAlertPath,"unsubscribe");this.updateDetails()};saw.catalogaction.IbotsActionHandler.prototype.customizeSubscription=function(a){this.sAlertPath=a;saw.ondemandload.loadScripts({messageTemplate:"kuiDeliversActionFramework"},null,this.doCustomizeSubscription,this,null)};saw.catalogaction.IbotsActionHandler.prototype.doCustomizeSubscription=function(){var d=this.manager.resourceManager.getResource("delivers/obide.Delivers.xml","kmsgDeliversCustomizeSubscriptionLoadingSubscription").getString();var h=this.manager.resourceManager.getResource("delivers/obide.Delivers.xml","kmsgDeliversCustomizeSubscriptionLoadingSubscriptionDetail").getString();var e=new obips.catalog.ItemInfoDetailLevel(null,true,true);var c=saw.catalog.getCatalogManager().getItemInfo(this.sAlertPath,true,e,null);var g=c.itemInfo.caption;h=h.replace("%1",g);var b=new obips.BusyDialog.Model(d,h,null,true);this._loadingSubscriptionBusyViewer=new obips.BusyDialog.Viewer(b,obips.FloatingWindow.Manager.getSingleton(),true);this._loadingSubscriptionBusyViewer.cancelButton.style.visibility="hidden";var a=new obips.Callback(this,this.handleLoadSubscription);var f=new obips.Callback(this,this.handleLoadSubscriptionError);obide.ServerRequests.loadSubscription(this.sAlertPath,a,f)};saw.catalogaction.IbotsActionHandler.prototype.handleLoadSubscriptionError=function(){this._loadingSubscriptionBusyViewer.controller.closeDialog()};saw.catalogaction.IbotsActionHandler.prototype.handleLoadSubscription=function(c){var b=obips.XMLDOM.selectSingleNode(c,"/saw:subscription",saw.delivers.namespaceMap);var g=new obips.catalog.ItemInfoDetailLevel(null,true,true);var e=saw.catalog.getCatalogManager().getItemInfo(this.sAlertPath,true,g,null);var h=e.itemInfo.caption;var f=this.manager.resourceManager.getResource("delivers/obide.Delivers.xml","kmsgDeliversCustomizeSubscriptionTitle").getString();f=f.replace("%1",h);this._loadingSubscriptionBusyViewer.controller.closeDialog();var a=obids.Utils.getImageURL("CustomizeSubscriptionHelpPage");var d=new SubscriptionDialog.Model(f,new obips.Callback(null,function(){}),a,this.sAlertPath,b);new SubscriptionDialog.Viewer(d)};saw.catalogaction.IbotsActionHandler.prototype.printIBot=function(b){var a="&print=yes";try{if(printDisabled){a=""}}catch(c){}obips.launcher.launchNewWindow(this.getPreviewURL(b)+a,"iBotPrintPreview","location=0, status=0, scrollbars=1, width=900, height=600, resizable=1, menubar=1")};saw.catalogaction.onPopupTargetLevelSelector=function(c,b){var a=b&&b.tBrowserEvt;var d=new saw.ondemandload.FuncProxy("CustomerTypeSelectorUtil.popupSingleSelector",{messageTemplate:"kuiCustomerTypeSelectorHead"});d.exec(c,a,a&&a.clientX,a&&a.clientY)};saw.catalogaction.SegmentsActionHandler=function(){saw.catalogaction.SegmentsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.SEGMENT)};saw.extend(saw.catalogaction.SegmentsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.SegmentsActionHandler.prototype.getAllowedActionIds=function(c){var b=saw.catalogaction.getActionManager().getDefaultActions(c);if(c.isLink()){b.push(saw.catalogaction.ActionId.OPEN)}var a=obips.Array.indexOf(b,saw.catalogaction.ActionId.PRINTAS);if(saw.catalog.getPrivilege("canAccessExport")){b.splice(a+1,0,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_DATA)}return b};saw.catalogaction.SegmentsActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupTargetLevelSelector(this.createNewSegment,c);return true;case saw.catalogaction.ActionId.EDIT:return this.launchURL(saw.commandToURL("MktgSegments")+"&path="+saw.encodeURIComponent(d),c,"biee.marketing");case saw.catalogaction.ActionId.OPEN:return this.launchURL(saw.commandToURL("MktgSegments")+"&path="+saw.encodeURIComponent(d)+"&Preview="+saw.encodeURIComponent("fullpage"),null,"biee.marketing");case saw.catalogaction.ActionId.PRINT_HTML:window.open(saw.commandToURL("MktgSegments")+"&path="+saw.encodeURIComponent(d)+"&Preview="+saw.encodeURIComponent("preview"));return true;case saw.catalogaction.ActionId.EXPORT_DATA:this._export(d);return true;default:break}return false};saw.catalogaction.SegmentsActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("MktgSegments")+"&path="+saw.encodeURIComponent(a)+"&Preview="+saw.encodeURIComponent("preview")};saw.catalogaction.SegmentsActionHandler.prototype._export=function(a){obips.launcher.launchNewWindow(saw.commandToURL("MktgExportSegments")+"&Action=SubmitExportSegmentsJob&path="+saw.encodeURIComponent(a),"_blank")};saw.catalogaction.SegmentsActionHandler.prototype.createNewSegment=function(b){var a=saw.commandToURL("MktgSegments")+"&CustType="+saw.encodeURIComponent(b);saw.runThisURL(a)};saw.catalogaction.SegmentTreesActionHandler=function(){saw.catalogaction.SegmentTreesActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.SEGMENTTREE)};saw.extend(saw.catalogaction.SegmentTreesActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.SegmentTreesActionHandler.prototype.getAllowedActionIds=function(c){var b=saw.catalogaction.getActionManager().getDefaultActions(c);if(c.isLink()){b.push(saw.catalogaction.ActionId.OPEN)}var a=obips.Array.indexOf(b,saw.catalogaction.ActionId.PRINTAS);if(saw.catalog.getPrivilege("canAccessExport")){b.splice(a+1,0,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_DATA)}return b};saw.catalogaction.SegmentTreesActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupTargetLevelSelector(this.createNewSegmentTree,c);return true;case saw.catalogaction.ActionId.EDIT:return this.launchURL(saw.commandToURL("MktgSegmentTrees")+"&path="+saw.encodeURIComponent(d),c,"biee.marketing");case saw.catalogaction.ActionId.OPEN:return this.launchURL(saw.commandToURL("MktgSegmentTrees")+"&path="+saw.encodeURIComponent(d)+"&Preview="+saw.encodeURIComponent("fullpage"),null,"biee.marketing");case saw.catalogaction.ActionId.PRINT_HTML:window.open(saw.commandToURL("MktgSegmentTrees")+"&path="+saw.encodeURIComponent(d)+"&Preview="+saw.encodeURIComponent("preview"));return true;case saw.catalogaction.ActionId.EXPORT_DATA:this._export(d);return true;default:break}return false};saw.catalogaction.SegmentTreesActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("MktgSegmentTrees")+"&path="+saw.encodeURIComponent(a)+"&Preview="+saw.encodeURIComponent("preview")};saw.catalogaction.SegmentTreesActionHandler.prototype._export=function(a){obips.launcher.launchNewWindow(saw.commandToURL("MktgExportSegmentTrees")+"&Action=SubmitExportSegmentTreesJob&path="+saw.encodeURIComponent(a),"_blank")};saw.catalogaction.SegmentTreesActionHandler.prototype.createNewSegmentTree=function(b){var a=saw.commandToURL("MktgSegmentTrees")+"&CustType="+saw.encodeURIComponent(b);saw.runThisURL(a)};saw.catalogaction.onPopupExportFormatSubjectAreaSelector=function(c,b){var a=b&&b.tBrowserEvt;var d=new saw.ondemandload.FuncProxy("obips.subjectarea.SelectorUtil.popupListFormatSingleSelector",{messageTemplate:"kuiSubjectAreaSelectorHead"});d.exec(c,a,a&&a.clientX,a&&a.clientY)};saw.catalogaction.ExportFormatsActionHandler=function(){saw.catalogaction.ExportFormatsActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.EXPORTFORMAT)};saw.extend(saw.catalogaction.ExportFormatsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.ExportFormatsActionHandler.prototype.getAllowedActionIds=function(c){var b=saw.catalogaction.getActionManager().getDefaultActions(c);if(c.isLink()){b.push(saw.catalogaction.ActionId.OPEN)}var a=obips.Array.indexOf(b,saw.catalogaction.ActionId.PRINTAS);b.splice(a+1,0,saw.catalogaction.ActionId.EXPORT,saw.catalogaction.ActionId.EXPORT_DATA);return b};saw.catalogaction.ExportFormatsActionHandler.prototype.canHandle=function(c){var b=c.getHandlerId();if(!b){var a=c.getSignature();b=saw.catalog.getObjectTypeInfo(a)?saw.catalog.getObjectTypeInfo(a).typeCategory:""}return this.getHandlerId()==b};saw.catalogaction.ExportFormatsActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:saw.catalogaction.onPopupExportFormatSubjectAreaSelector(new obips.Callback(this,this.createExportFormat),c);return true;case saw.catalogaction.ActionId.EDIT:return this.launchURL(saw.commandToURL("MktgExportFormats")+"&path="+saw.encodeURIComponent(d),c,"biee.marketing");case saw.catalogaction.ActionId.OPEN:return this.launchURL(saw.commandToURL("MktgExportFormats")+"&path="+saw.encodeURIComponent(d)+"&Action="+saw.encodeURIComponent("preview")+"&Preview="+saw.encodeURIComponent("fullpage"),null,"biee.marketing");default:break}return false};saw.catalogaction.ExportFormatsActionHandler.prototype.getPreviewURL=function(a,b){return saw.commandToURL("MktgExportFormats")+"&path="+saw.encodeURIComponent(a)+"&Action="+saw.encodeURIComponent("preview")+"&Preview="+saw.encodeURIComponent("preview")};saw.catalogaction.ExportFormatsActionHandler.prototype.createExportFormat=function(a){var b=saw.commandToURL("MktgExportFormats")+"&SubjectArea="+saw.encodeURIComponent(a);saw.runThisURL(b)};saw.catalogaction.ExportFormatsActionHandler.prototype.createExportFormat=function(a){var b=saw.commandToURL("MktgExportFormats")+"&SubjectArea="+saw.encodeURIComponent(a);saw.runThisURL(b)};saw.catalogaction.BIPObjectsActionHandler=function(a){saw.catalogaction.BIPObjectsActionHandler.baseConstructor.call(this,a)};saw.extend(saw.catalogaction.BIPObjectsActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.BIPObjectsActionHandler.toBIPublisherPath=function(a,c){var b=a||(c&&c.path);if(c&&c.isLink()){b=c.targetPath}if(b){if(b.indexOf("/shared")==0){b=b.substr(7)}else{if(b.indexOf(saw.getSessionInfos().user.homeDir)==0){b=b.substr(saw.getSessionInfos().user.homeDir.length);b="/~"+saw.getSessionInfos().user.id+b}}}return b||""};saw.catalogaction.BIPObjectsActionHandler.prototype.bipEntry=function(b,c,f,h,a,e){var g=(h&&h.targetPath)||c||"";var d=saw.catalogaction.BIPObjectsActionHandler.toBIPublisherPath(c,h);sUrl=saw.commandToURL("bipublisherEntry")+"&Action="+b+"&itemType="+f;if(e){sUrl+="&bipParams="+saw.encodeURIComponent(saw.json.toString(e))}if(b!=saw.catalogaction.ActionId.NEW){sUrl+="&bipPath="+saw.encodeURIComponent(d)+"&path="+saw.encodeURIComponent(g)}this.launchURL(sUrl,null,"biee.bip");return true};saw.catalogaction.BIPReportsActionHandler=function(){saw.catalogaction.BIPReportsActionHandler.baseConstructor.call(this,".xdo")};saw.extend(saw.catalogaction.BIPReportsActionHandler,saw.catalogaction.BIPObjectsActionHandler);saw.catalogaction.BIPReportsActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:case saw.catalogaction.ActionId.OPEN:case saw.catalogaction.ActionId.EDIT:case saw.catalogaction.ActionId.SCHEDULE:case saw.catalogaction.ActionId.HISTORY:return this.bipEntry(b,d,".xdo",f,a);default:break}return false};saw.catalogaction.BIPReportsActionHandler.prototype._addEnabledOrDisabledAction_Deprecated=function(h,g,a,b,f,d,c){var e=h.permissions!=0&&(saw.catalog.getPrivilege(b)||h.operationPermissions&f)&&(!d||h.properties&&h.properties[d]==c);g.push(e?a:saw.catalogaction.ActionId.toDisabledAction(a))};saw.catalogaction.BIPReportsActionHandler.prototype._addEnabledOrDisabledAction=function(i,c,h,a,d,f,j,g){if(f){var b=i.properties&&i.properties["bip:propertyMap"];b=(b?b-0:g)&f}var e=i.permissions!=0&&(saw.catalog.getPrivilege(a)||i.operationPermissions&d)&&(!f||b==j);c.push(e?h:saw.catalogaction.ActionId.toDisabledAction(h))};saw.catalogaction.BIPReportsActionHandler.prototype.getAllowedActionIds=function(b){var a=[];if(b.properties&&b.properties["bip:propertyMap"]){this._addEnabledOrDisabledAction(b,a,saw.catalogaction.ActionId.OPEN,"canRunBIPReportOnline",obips.catalog.OperationPermissions.BIP_RUN_LIVE,1,1,0)}else{this._addEnabledOrDisabledAction_Deprecated(b,a,saw.catalogaction.ActionId.OPEN,"canRunBIPReportOnline",obips.catalog.OperationPermissions.BIP_RUN_LIVE,"bip:IS_ONLINE","true")}if(!saw.getSessionInfos().isEnableSection508()){if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}this._addEnabledOrDisabledAction(b,a,saw.catalogaction.ActionId.SCHEDULE,"canScheduleBIPReports",obips.catalog.OperationPermissions.BIP_SCHEDULE,2,0,0);this._addEnabledOrDisabledAction(b,a,saw.catalogaction.ActionId.HISTORY,"canAccessBIPReportOutput",obips.catalog.OperationPermissions.BIP_VIEW_OUTPUT)}this.addCommonActions(b,a);if(!saw.catalog.getPrivilege("canDevelopBIPReport")){obips.Array.remove(a,saw.catalogaction.ActionId.COPY)}return a};saw.catalogaction.BIPReportsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.BIPReportsActionHandler.prototype.getPreviewURL=function(b,d,e,a){if(obips.catalog.OperationPermissions.BIP_RUN_LIVE&e.operationPermissions){var c=saw.catalogaction.BIPObjectsActionHandler.toBIPublisherPath(b,e);return saw.commandToURL("bipublisherEntry")+"&Action=preview&Path="+saw.encodeURIComponent(b)+"&bipPath="+saw.encodeURIComponent(c)}};saw.catalogaction.BIPReportSchedulesActionHandler=function(){saw.catalogaction.BIPReportSchedulesActionHandler.baseConstructor.call(this,"reportSchedule")};saw.extend(saw.catalogaction.BIPReportSchedulesActionHandler,saw.catalogaction.BIPObjectsActionHandler);saw.catalogaction.BIPReportSchedulesActionHandler.prototype.handleAction=function(b,d,e,f,a,c){if(b==saw.catalogaction.ActionId.NEW){return this.bipEntry(saw.catalogaction.ActionId.SCHEDULE,"",".xdo",f,a)}};saw.catalogaction.BIPDataModelsActionHandler=function(){saw.catalogaction.BIPDataModelsActionHandler.baseConstructor.call(this,".xdm")};saw.extend(saw.catalogaction.BIPDataModelsActionHandler,saw.catalogaction.BIPObjectsActionHandler);saw.catalogaction.BIPDataModelsActionHandler.prototype.handleAction=function(b,d,e,f,a,c){if(b==saw.catalogaction.ActionId.NEW||b==saw.catalogaction.ActionId.EDIT){return this.bipEntry(b,d,".xdm",f,a)}return false};saw.catalogaction.BIPDataModelsActionHandler.prototype.getAllowedActionIds=function(b){var a=[];if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}this.addCommonActions(b,a);if(!saw.catalog.getPrivilege("canDevelopBIPDataModel")){obips.Array.remove(a,saw.catalogaction.ActionId.COPY)}return a};saw.catalogaction.BIPDataModelsActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT]};saw.catalogaction.BIPMobileAppActionHandler=function(){saw.catalogaction.BIPMobileAppActionHandler.baseConstructor.call(this,".xma")};saw.extend(saw.catalogaction.BIPMobileAppActionHandler,saw.catalogaction.BIPObjectsActionHandler);saw.catalogaction.BIPMobileAppActionHandler.prototype.handleAction=function(b,d,e,f,a,c){switch(b){case saw.catalogaction.ActionId.NEW:case saw.catalogaction.ActionId.OPEN:case saw.catalogaction.ActionId.EDIT:case saw.catalogaction.ActionId.PUBLISH:return this.bipEntry(b,d,".xma",f,a);default:break}return false};saw.catalogaction.BIPMobileAppActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN];if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}this.addCommonActions(b,a);return a};saw.catalogaction.BIPMobileAppActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.EDIT]};saw.catalogaction.BIPTemplatesActionHandler=function(){saw.catalogaction.BIPTemplatesActionHandler.baseConstructor.call(this,"bipTemplate");this.extensions={".xss":true,".xsb":true}};saw.extend(saw.catalogaction.BIPTemplatesActionHandler,saw.catalogaction.BIPObjectsActionHandler);saw.catalogaction.BIPTemplatesActionHandler.prototype.canHandle=function(a){return a.getHandlerId()==this.getHandlerId()||this.extensions[a.getSignature()]};saw.catalogaction.BIPTemplatesActionHandler.prototype.handleAction=function(b,e,f,h,a,d){switch(b){case saw.catalogaction.ActionId.NEW:var c=f||(d?d.creatableItemType.signature:null);return this.bipEntry(b,e,c);case saw.catalogaction.ActionId.OPEN:var g=new saw.ondemandload.FuncProxy("obips.bipublisher.handleTemplateAction",{command:"xmlpObjectTasks"});g.exec(b,e,f,h,a,d);return true;case saw.catalogaction.ActionId.EDIT:return this.bipEntry(b,e,h.getCompositeSignature());default:break}return false};saw.catalogaction.BIPTemplatesActionHandler.prototype.getAllowedActionIds=function(b){var a=[];if(this.isEditableItem(b)){if((b.operationPermissions&obips.catalog.OperationPermissions.WRITE)!=0){a.push(saw.catalogaction.ActionId.EDIT)}else{a.push(saw.catalogaction.ActionId.toDisabledAction(saw.catalogaction.ActionId.EDIT))}}this.addCommonActions(b,a);if(!saw.catalog.getPrivilege("canDevelopBIPReport")){obips.Array.remove(a,saw.catalogaction.ActionId.COPY)}return a};saw.catalogaction.BIPTemplatesActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.EDIT]};saw.catalogaction.BriefingBookActionHandler=function(){saw.catalogaction.BriefingBookActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.BFK);this.canAccessBB=saw.catalog.getPrivilege("canAccessBriefingBook");this.canEditBB=saw.catalog.getPrivilege("canEditBriefingBook");this.canDownloadBB=saw.catalog.getPrivilege("canDownloadBriefingBook")};saw.extend(saw.catalogaction.BriefingBookActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.BriefingBookActionHandler.prototype.handleAction=function(b,d,e,h,a,c){if(c){c.ensureFreshUrl=true;c.targetWindow="_self"}switch(b){case saw.catalogaction.ActionId.EDIT:var g=new saw.ondemandload.FuncProxy("obips.briefingbook.launchEditBBDialog",{messageTemplate:"kuiAddToBriefingBookDialogHead"});g.exec(h.path);return true;case saw.catalogaction.ActionId.EXPORT_MHTML:var f=saw.commandToURL("DownloadBriefbook");f+="&format="+saw.encodeURIComponent("mhtml")+"&Path="+saw.encodeURIComponent(d);this.launchURL(f,c);return true;case saw.catalogaction.ActionId.EXPORT_PDF:var f=saw.commandToURL("DownloadBriefbook");f+="&format="+saw.encodeURIComponent("pdf")+"&Path="+saw.encodeURIComponent(d);this.launchURL(f,c);return true;case saw.catalogaction.ActionId.DELETE:this.deleteBriefingBook(h);return true;default:break}return false};saw.catalogaction.BriefingBookActionHandler.prototype.getAllowedActionIds=function(c,a){var b=saw.catalogaction.getActionManager().getDefaultActions(c,null,false);if(saw.catalog.getPrivilege("canAccessExport")){if(this.canAccessBB&&this.canDownloadBB){b.push(saw.catalogaction.ActionId.EXPORT_PDF);b.push(saw.catalogaction.ActionId.EXPORT_MHTML)}}return b};saw.catalogaction.BriefingBookActionHandler.prototype.getPrimaryActionIds=function(b){var a=[];if(this.canAccessBB&&this.canEditBB){a.push(saw.catalogaction.ActionId.EDIT)}if(saw.catalog.getPrivilege("canAccessExport")){if(this.canAccessBB&&this.canDownloadBB){a.push(saw.catalogaction.ActionId.EXPORT_PDF);a.push(saw.catalogaction.ActionId.EXPORT_MHTML)}}a.push(saw.catalogaction.ActionId.MOREDETAIL);return a};saw.catalogaction.BriefingBookActionHandler.prototype.deleteBriefingBook=function(c){this.itemInfo=c;var b=this.itemInfo.path.split("/").pop();var a=this;saw.catalog.showConfirmDialog(saw.catalog.getLocalizedString("kmsgCatalogConfirmDeleteDlgTitle"),saw.catalog.getLocalizedString("kmsgCatalogConfirmDeleteDlgMessage",saw.pathPartToItemName(b)),new obips.Callback(null,function(){a._doDeleteBriefingBook()}))};saw.catalogaction.BriefingBookActionHandler.prototype._doDeleteBriefingBook=function(){var a=new saw.ondemandload.FuncProxy("obips.briefingbook.deleteBriefingBook",{messageTemplate:"kuiAddToBriefingBookDialogHead"});a.exec(this.itemInfo)};saw.catalogaction.FRReportActionHandler=function(){saw.catalogaction.FRReportActionHandler.baseConstructor.call(this,"FRReportActionHandler")};saw.extend(saw.catalogaction.FRReportActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FRReportActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.FRReportActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.FROPENINPDF];return this.addCommonActions(b,a)};saw.catalogaction.FRReportActionHandler.prototype.canHandle=function(b){var a=b.getSignature();return((a=="application/hyperion-reports-report")?true:false)};saw.catalogaction.FRReportActionHandler.prototype.handleAction=function(b,d,e,g,a,c){if(g.isLink()){e=g.targetCompositeSignature||g.targetSignature}else{e=g.getFolderType()?g.getCompositeSignature():e}switch(b){case saw.catalogaction.ActionId.OPEN:var f=new Object();f.repository_format_id="html";f.repository_mime_type=e;return this.launchModule(d,"reporting.reportViewer",f);case saw.catalogaction.ActionId.FROPENINPDF:var f=new Object();f.repository_format_id="pdf";f.repository_mime_type=e;return this.launchModule(d,"reporting.reportViewer",f);default:break}return false};saw.catalogaction.FRSnapshotBookActionHandler=function(){saw.catalogaction.FRSnapshotBookActionHandler.baseConstructor.call(this,"FRSnapshotBookActionHandler")};saw.extend(saw.catalogaction.FRSnapshotBookActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FRSnapshotBookActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.FRSnapshotBookActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.FROPENINPDF,saw.catalogaction.ActionId.FROPENCOMPLETEBOOKINPDF];return this.addCommonActions(b,a)};saw.catalogaction.FRSnapshotBookActionHandler.prototype.canHandle=function(b){var a=b.getSignature();return((a=="application/hyperion-reports-snapshot_book")?true:false)};saw.catalogaction.FRSnapshotBookActionHandler.prototype.handleAction=function(b,d,e,g,a,c){if(g.isLink()){e=g.targetCompositeSignature||g.targetSignature}else{e=g.getFolderType()?g.getCompositeSignature():e}switch(b){case saw.catalogaction.ActionId.OPEN:var f=new Object();f.repository_format_id="html";f.repository_mime_type=e;return this.launchModule(d,"reporting.bookToc",f);case saw.catalogaction.ActionId.FROPENINPDF:var f=new Object();f.repository_format_id="pdf";f.repository_mime_type=e;return this.launchModule(d,"reporting.bookToc",f);case saw.catalogaction.ActionId.FROPENCOMPLETEBOOKINPDF:var f=new Object();f.viewAs="pdf";f.completeBook=1;return this.launchModule(d,"reporting.bookViewer",f);default:break}return false};saw.catalogaction.FRSnapshotReportActionHandler=function(){saw.catalogaction.FRSnapshotReportActionHandler.baseConstructor.call(this,"FRSnapshotReportActionHandler")};saw.extend(saw.catalogaction.FRSnapshotReportActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FRSnapshotReportActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.FRSnapshotReportActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.FROPENINPDF];return this.addCommonActions(b,a)};saw.catalogaction.FRSnapshotReportActionHandler.prototype.canHandle=function(b){var a=b.getSignature();return((a=="application/hyperion-reports-snapshot_report")?true:false)};saw.catalogaction.FRSnapshotReportActionHandler.prototype.handleAction=function(b,d,e,g,a,c){if(g.isLink()){e=g.targetCompositeSignature||g.targetSignature}else{e=g.getFolderType()?g.getCompositeSignature():e}switch(b){case saw.catalogaction.ActionId.OPEN:var f=new Object();f.repository_format_id="html";f.repository_mime_type=e;return this.launchModule(d,"reporting.reportViewer",f);case saw.catalogaction.ActionId.FROPENINPDF:var f=new Object();f.repository_format_id="pdf";f.repository_mime_type=e;return this.launchModule(d,"reporting.reportViewer",f);default:break}return false};saw.catalogaction.FRBatchActionHandler=function(){saw.catalogaction.FRBatchActionHandler.baseConstructor.call(this,"FRBatchActionHandler")};saw.extend(saw.catalogaction.FRBatchActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FRBatchActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.FRBatchActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN];return this.addCommonActions(b,a)};saw.catalogaction.FRBatchActionHandler.prototype.canHandle=function(b){var a=b.getSignature();return((a=="application/hyperion-reports-batch")?true:false)};saw.catalogaction.FRBatchActionHandler.prototype.handleAction=function(b,d,e,g,a,c){if(g.isLink()){e=g.targetCompositeSignature||g.targetSignature}else{e=g.getFolderType()?g.getCompositeSignature():e}switch(b){case saw.catalogaction.ActionId.OPEN:var f=new Object();return this.launchModule(d,"reporting.batch",f);default:break}return false};saw.catalogaction.FRBookActionHandler=function(){saw.catalogaction.FRBookActionHandler.baseConstructor.call(this,"FRBookActionHandler")};saw.extend(saw.catalogaction.FRBookActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.FRBookActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.FRBookActionHandler.prototype.getAllowedActionIds=function(b){var a=[saw.catalogaction.ActionId.OPEN,saw.catalogaction.ActionId.FROPENINPDF,saw.catalogaction.ActionId.FROPENINEDITOR,saw.catalogaction.ActionId.FROPENCOMPLETEBOOKINPDF];return this.addCommonActions(b,a)};saw.catalogaction.FRBookActionHandler.prototype.canHandle=function(b){var a=b.getSignature();return((a=="application/hyperion-reports-book")?true:false)};saw.catalogaction.FRBookActionHandler.prototype.handleAction=function(b,d,e,g,a,c){if(g.isLink()){e=g.targetCompositeSignature||g.targetSignature}else{e=g.getFolderType()?g.getCompositeSignature():e}switch(b){case saw.catalogaction.ActionId.OPEN:var f=new Object();f.repository_format_id="html";f.repository_mime_type=e;return this.launchModule(d,"reporting.bookToc",f);case saw.catalogaction.ActionId.FROPENINPDF:var f=new Object();f.repository_format_id="pdf";f.repository_mime_type=e;return this.launchModule(d,"reporting.bookToc",f);case saw.catalogaction.ActionId.FROPENINEDITOR:var f=new Object();return this.launchModule(d,"reporting.book",f);case saw.catalogaction.ActionId.FROPENCOMPLETEBOOKINPDF:var f=new Object();f.viewAs="pdf";f.completeBook=2;return this.launchModule(d,"reporting.bookViewer",f);default:break}return false};saw.catalogaction.VisualAnalyzerActionHandler=function(a){saw.catalogaction.VisualAnalyzerActionHandler.baseConstructor.call(this,a)};saw.extend(saw.catalogaction.VisualAnalyzerActionHandler,saw.catalogaction.ActionHandler);saw.catalogaction.VisualAnalyzerActionHandler.prototype.getAllowedActionIds=function(b){var a=saw.catalogaction.getActionManager().getDefaultActions(b,[saw.catalogaction.ActionId.OPEN],false);obips.Array.remove(a,saw.catalogaction.ActionId.EDIT);return a};saw.catalogaction.VisualAnalyzerActionHandler.prototype.handleAction=function(b,d,e,g,a,c){switch(b){case saw.catalogaction.ActionId.OPEN:case saw.catalogaction.ActionId.EDIT:var f="/va/project.jsp?reportPath="+saw.encodeURIComponent(d);if(saw.getSessionInfos().isEnableCloudNewBieeHome()){window.parent.saw.cloudnewhome.openVAProject(f,g)}else{saw.catalogaction.openInWindow(f)}return true;case saw.catalogaction.ActionId.NEW:var f="/va/project.jsp";if(c.creatableItemType&&c.creatableItemType.bForRaas&&c.creatableItemType.oEmbedUrlCallback){c.creatableItemType.oEmbedUrlCallback.exec(f)}else{saw.catalogaction.openInWindow(f)}return true;default:break}return false};saw.catalogaction.VisualAnalyzerActionHandler.prototype.getPrimaryActionIds=function(a){return[saw.catalogaction.ActionId.OPEN]};saw.catalogaction.VisualAnalyzerProjectActionHandler=function(){saw.catalogaction.VisualAnalyzerProjectActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.VA_PROJECT)};saw.extend(saw.catalogaction.VisualAnalyzerProjectActionHandler,saw.catalogaction.VisualAnalyzerActionHandler);saw.catalogaction.VisualAnalyzerProjectFolderActionHandler=function(){saw.catalogaction.VisualAnalyzerProjectFolderActionHandler.baseConstructor.call(this,saw.catalog.ItemCategory.VA_PROJECT_FOLDER)};saw.extend(saw.catalogaction.VisualAnalyzerProjectFolderActionHandler,saw.catalogaction.VisualAnalyzerActionHandler)};