if(!saw.answers){saw.answers=function(){};saw.answers.resourceFile="answers/obips.answers.xml";saw.answers.ImageIconMap={save:{enabled:"common/save_ena.png",disabled:"common/save_ena.png",hover:"common/save_ovr.png",down:"common/save_dwn.png"},saveas:{enabled:"common/saveas_ena.png",disabled:"common/saveas_ena.png",hover:"common/saveas_ovr.png",down:"common/saveas_dwn.png"},help:{enabled:"common/helptopics_ena.png",disabled:"common/helptopics_ena.png",hover:"common/helptopics_ovr.png",down:"common/helptopics_dwn.png"}};saw.answers.getLocalizedString=function(d){var c=[];for(var b=1;b<arguments.length;b++){c.push(arguments[b])}var a=obips.ResourceManager.getSingleton().getResource(saw.answers.resourceFile,d);return a.getString.apply(a,c)};saw.answers.getImgUrl=function(a){return obips.ResourceManager.getSingleton().getURL(saw.answers.resourceFile,a).url};saw.answers.getColumnImgUrl=function(c,a){var b="";if(c==="regularColumn"){b="column.png"}else{if(c==="hierarchyColumn"){b="hierarchy.png"}else{if(c==="measureColumn"){b="measure.png"}else{if(c==="switchGroupColumn"){b="columnGroup.png"}else{saw.logicErrorAlert("invalid columnType passed: "+c);return""}}}}b=a?"answers/saved"+b:"answers/"+b;return obips.ResourceManager.getSingleton().getURL(saw.answers.resourceFile,b).url};saw.answers.getHelpUrl=saw.answers.getImgUrl;saw.answers.getPrivilege=function(a){return obips.ResourceManager.getSingleton().getGDExpression("answers/answersproperties.xml",a).value};saw.answers.getProperty=function(a){return obips.ResourceManager.getSingleton().getGDExpression("answers/answersproperties.xml",a).value};saw.answers.canSaveContentWithHTML=function(){return saw.answers.getProperty("EnableSavingContentWithHTML")&&saw.answers.getPrivilege("canSaveContentWithEmbeddedHtml")};saw.answers.displayOpenDialog=function(e,c,b,f,a){var d=new saw.ondemandload.FuncProxy("saw.catalog.displayOpenDialog",{messageTemplate:"kuiCatalogBrowserDialogHead"});d.exec(e,c,b,f,a)};saw.answers.onOpenHandler=function(a){obips.asyncCall(new obips.Callback(null,Answers),1,a.getPath());return true};saw.answers.onOpenExisting=function(){saw.answers.displayOpenDialog(new obips.Callback(null,saw.answers.onOpenHandler));return false};saw.answers.mainSplitterContainer=null;saw.answers.createMainSplitterContainer=function(a){saw.answers.mainSplitterContainer=new saw.layout.SplitterContainer("idAnswersMainSplitterLayout","h");if(a){saw.answers.mainSplitterContainer.splitters[0].getDomNode().style.width="0px"}saw.answers.onWindowResize();saw.addEventListener(window,"resize",saw.answers.onWindowResize);return saw.answers.mainSplitterContainer};saw.answers.onWindowResize=function(){if(saw.userAgent.is_ie){if(saw.answers.onWindowResize.resizeHanderTimer){clearTimeout(saw.answers.onWindowResize.resizeHanderTimer)}saw.answers.onWindowResize.resizeHanderTimer=setTimeout(function(){saw.answers.doWindowResizeImmediately()},100)}else{saw.answers.doWindowResizeImmediately()}};saw.answers.doWindowResizeImmediately=function(){var b=saw.componentheader.layoutOuterDiv();var a=document.getElementById("idAnswersBodyDiv");saw.setOuterHeight(a,saw.cssLengthToInt(b.style.height));saw.answers.mainSplitterContainer.strechToFitParent()};saw.answers.createAvailableDataAccordion=function(a){if(!a){a=saw.answers.mainSplitterContainer}if(document.getElementById("idAvailableDataAccordion")){var b=new saw.layout.Accordion("idAvailableDataAccordion");if(window.criteriaTreeview&&criteriaTreeViewer){criteriaTreeViewer.enablePaneHeaderToolbarOverflow()}if(window.resultsTreeview&&resultsTreeViewer){resultsTreeViewer.enablePaneHeaderToolbarOverflow()}a.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_RESIZED,new obips.Callback(b,b.strechToFitParent)));b.strechToFitParent();saw.answers.tAvailableDataAccordion=b;return b}return null};saw.answers.createLayoutAccordion=function(a){if(!a){a=saw.answers.mainSplitterContainer}if(document.getElementById("idLayoutAccordion")){var b=new saw.layout.Accordion("idLayoutAccordion");a.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_RESIZED,new obips.Callback(b,b.strechToFitParent)));b.strechToFitParent();saw.answers.tLayoutAccordion=b;return b}return null};saw.answers.GrayLoadingMessage=function(c,b,a){this.coveredArea=b;if(this.coveredArea==null){this.coveredArea=document.body}else{if(typeof(this.coveredArea)=="string"){this.coveredArea=document.getElementById(this.coveredArea)}}this.msgId=c;if(!this.msgId){this.msgId="default"}this.message=saw.answers.getLocalizedString("kmsgAjaxLoadingWaitText");if(a&&a instanceof obips.Callback){this.cancelCallback=a}this.timer=null};saw.answers.GrayLoadingMessage.prototype.show=function(b){if(this.timer!=null){return}if(!b){this._showImpl()}else{var a=this;this.timer=setTimeout(function(){a._showImpl()},b)}saw.addEventListener(window,"resize",this.resize,this,true);this.displayed=true};saw.answers.GrayLoadingMessage.prototype.resize=function(){if(this.timer!=null){clearTimeout(this.timer);this.timer=null}if(this.displayed){var a=this;this.timer=setTimeout(function(){a._showImpl()},0)}else{saw.removeEventListener(window,"resize",this.resize)}};saw.answers.GrayLoadingMessage.prototype._showImpl=function(){this.timer=null;if(!this.coveredArea||this.coveredArea.style.display=="none"){return}this.renderAndPosition();if(this.container){this.container.style.visibility="visible"}};saw.answers.GrayLoadingMessage.prototype.renderAndPosition=function(){var a=this._render();var d=saw.layout.getContentRegion(this.coveredArea);this.container.ownerDocument.body.appendChild(this.container);var c=saw.getFirstChildElement(a);saw.setOuterWidth(c,d.getWidth());saw.setOuterHeight(c,d.getHeight());saw.setElementXY(c,d.left,d.top);var b=saw.getNextSiblingElement(c);saw.setElementOuterXY(b,d.left+(d.getWidth()-b.clientWidth)/2,d.top+(d.getHeight()-b.clientHeight)/2)};saw.answers.GrayLoadingMessage.prototype.createLoadingSignDiv=function(){var h=this.coveredArea.ownerDocument;var d=h.createElement("div");d.id="idAjaxLoadingSign_"+this.msgId;d.style.visibility="hidden";d.style.display="block";var g=saw.createChildElement(d,"div","AjaxLoadingOpacity");var e=saw.createChildElement(d,"div","AjaxLoadingIndicator");var a=saw.createChildElement(e,"img");a.src=saw.answers.getImgUrl("processing");a.alt="";var f=saw.createChildElement(e,"span","AjaxLoadingMessageText");saw.appendTextNode(f,this.message);if(this.cancelCallback){var b=saw.createChildElement(e,"A","AjaxLoadingMessageText");b.cancelCallback=this.cancelCallback;b.href="javascript:void(null)";b.name="cancel";var c=this;b.onclick=function(i){if(c!=null&&c.cancelCallback!=null){c.cancelCallback.exec(i)}c.hide();return false};saw.appendTextNode(b,saw.answers.getLocalizedString("kmsgPSEProcessCancelMsg"))}return d};saw.answers.GrayLoadingMessage.prototype._render=function(){var b=this.coveredArea.ownerDocument;var a=b.getElementById("idAjaxLoadingSign_"+this.msgId);if(!a){a=this.createLoadingSignDiv()}this.container=a;return this.container};saw.answers.GrayLoadingMessage.prototype.hide=function(){this.displayed=false;saw.removeEventListener(window,"resize",this.resize);if(this.timer!=null){clearTimeout(this.timer);this.timer=null}if(this.container&&this.container.parentNode){this.container.parentNode.removeChild(this.container)}};saw.answers.ViewPreviewLoadingMessage=function(a){saw.answers.ViewPreviewLoadingMessage.baseConstructor.call(this,"viewPreview",a);this.message=saw.answers.getLocalizedString("kmsgPreviewRetrievingView")};saw.extend(saw.answers.ViewPreviewLoadingMessage,saw.answers.GrayLoadingMessage);saw.answers.ViewPreviewLoadingMessage.prototype.renderAndPosition=function(){var f=this.coveredArea.ownerDocument;this.viewEditorDiv=f.getElementById("idViewDiv");if(!this.viewEditorDiv){return}var b=this._render();b.style.position="absolute";var d=saw.getFirstChildElement(b);d.style.width="0px";d.style.height="0px";d.style.top="-50px";var c=saw.getNextSiblingElement(d);c.style.top="-50px";var e=saw.layout.getContentRegion(this.coveredArea);var g=saw.layout.getContentRegion(this.viewEditorDiv);var a=g.bottom;e.bottom=Math.max(e.bottom,a);this.viewEditorDiv.parentNode.appendChild(b);saw.setElementXY(d,null,e.top);saw.setOuterWidth(d,e.getWidth());saw.setOuterHeight(d,e.getHeight());d.style.left="0px";var c=saw.getNextSiblingElement(d);saw.setElementOuterXY(c,e.left+(e.getWidth()-c.clientWidth)/2,e.top+(Math.min(e.getHeight(),g.getHeight())-c.clientHeight)/2)};saw.answers.ReportInfo=function(a){if(a){this.caption=a.caption;this.folder=obips.catalog.Path.getParentPath(a.path);this.itemName=obips.catalog.Path.getItemName(a.path);this.description=a.description;this.lastModified=a.lastModified}};saw.answers.ReportInfo.prototype.getPath=function(){return saw.encodeURIComponent(obips.catalog.Path.concat(this.folder,this.itemName))};saw.answers.ReportInfo.prototype.getPortalPath=function(){return this.portalPath?this.portalPath:null};saw.answers.ReportInfo.prototype.setPortalPath=function(a){this.portalPath=a};saw.answers.ReportInfo.prototype.getDashboardPage=function(){return this.dashboardPage?this.dashboardPage:null};saw.answers.ReportInfo.prototype.setDashboardPage=function(a){this.dashboardPage=a};saw.answers.ReportInfo.prototype.getReportStatePath=function(){return this.reportStatePath?this.reportStatePath:null};saw.answers.ReportInfo.prototype.setReportStatePath=function(a){this.reportStatePath=a};saw.answers.ReportInfo.prototype.getDashboardCaption=function(){return this.dashboardCaption?this.dashboardCaption:null};saw.answers.ReportInfo.prototype.setDashboardCaption=function(a){return this.dashboardCaption=a};saw.answers.ReportInfo.prototype.toHistoryState=function(){return clone(this)};saw.answers.ReportInfo.prototype.loadFromHistoryState=function(a){a=a||{};this.caption=a.caption;this.folder=a.folder;this.itemName=a.itemName;this.description=a.description;this.lastModified=a.lastModified};saw.answers.renderTabToolbar=function(d,b){if(!b||!b.length){return}var e=new obips.ToolbarHeader.Model(b,null,false);for(var a=0;a<b.length;a++){var c=b[a];if(c.disabled){e.disableButton(c.id)}}this.tbViewer=new obips.ToolbarHeader.Viewer(e,d)};saw.StatusIndicator=function(a){this.container=a};saw.StatusIndicator.knDefaultTimout=5;saw.StatusIndicator.prototype.showMessage=function(f,d,a){saw.clearInnerHTML(this.container);if(f){var c=saw.createChildElement(this.container,"img","StatusIndicatorIcon");c.src=f;c.alt=""}var e=saw.createChildElement(this.container,"span","StatusIndicatorText");e.appendChild(this.container.ownerDocument.createTextNode(d));if(a>0){var b=this;setTimeout(function(){b.hide()},a*1000)}};saw.StatusIndicator.prototype.hide=function(){saw.clearInnerHTML(this.container)};AnswersCommon=saw.answers;obips.ReportMetadataStub=function(){};obips.ReportMetadataStub.prototype.resetResolvedColumnHeadingValues=function(){};obips.ReportMetadataStub.prototype.setResolvedColumnHeadingValues=function(a){};if(typeof(obips.ReportMetadata)=="undefined"){obips.ReportMetadata=function(){};obips.ReportMetadata.GetInstance=function(a){if(typeof(obips.ReportMetadataImpl)!="undefined"){return obips.ReportMetadataImpl.GetInstance(a)}else{return new obips.ReportMetadataStub()}}}};