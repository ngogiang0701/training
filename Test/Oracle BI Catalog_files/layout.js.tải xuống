if(!saw.layout){saw.layout=function(){};obips.Observable=obips.Observable;saw.layout.kbSplitterActiveSizing=false;saw.layout.knDefaultSplitterWidth=7;saw.layout.knDefaultMinPaneSize=0;saw.layout.ksTypeAttribute="layoutType";saw.layout.ksOrientationAttribute="orientation";saw.layout.ksSizeShareAttribute="sizeShare";saw.layout.ksMinSizeAttribute="minSize";saw.layout.ksActiveSizeAttribute="activeSizing";saw.layout.ksTypeSplitterContainer="splitterContainer";saw.layout.ksTypeSplitter="splitter";saw.layout.ksTypeContentPane="contentPane";saw.layout.ksTypeNoDisclosureIcon="noDisclosureIcon";saw.layout.EventType=function(){};saw.layout.EventType.PANE_EXPANDED="paneExpanded";saw.layout.EventType.PANE_COLLAPSED="paneCollapsed";saw.layout.EventType.PANE_RESIZED="resized";saw.layout.EventType.PANE_SHOWN="paneShown";saw.layout.StateID=function(){};saw.layout.StateID.ACCORDION_PANE="accordionPane_";saw.layout.Panel=function(a){saw.layout.Panel.baseConstructor.call(this);this.parent=null;this.children=[];this.domNode=a;if(typeof(a)=="string"){this.domNode=document.getElementById(a)}this.sizeShare=this.domNode.getAttribute(saw.layout.ksSizeShareAttribute);this.minSize=parseInt(this.domNode.getAttribute(saw.layout.ksMinSizeAttribute));if(isNaN(this.minSize)){this.minSize=saw.layout.knDefaultMinPaneSize}this.actualSize=null;this.collapsible=true;this.collapsed=false};saw.extend(saw.layout.Panel,obips.Observable);saw.layout.Panel.prototype.getDomNode=function(){return this.domNode};saw.layout.Panel.prototype.getId=function(){return this.getDomNode().id};saw.layout.Panel.prototype.getParent=function(){return this.parent};saw.layout.Panel.prototype.getChild=function(a){if(a>=this.children.length){return null}return this.children[a]};saw.layout.Panel.prototype.isShown=function(){return this.collapsed?false:true};saw.layout.Panel.prototype.getSizeShare=function(){if(this.sizeShare==null&&this.parent){if(this.parent.isHorizontal()){this.sizeShare=this.domNode.offsetWidth+"px"}else{this.sizeShare=this.domNode.offsetHeight+"px"}}return this.sizeShare};saw.layout.Panel.prototype.getSizeShareValue=function(){var a=parseInt(this.getSizeShare());if(isNaN(a)){a=0}return a};saw.layout.Panel.prototype.isStatic=function(){if(this.isStaticSize==null){this.isStaticSize=this.getSizeShare().indexOf("%")==-1}return this.isStaticSize};saw.layout.Panel.prototype.setSizeShare=function(a){this.sizeShare=a;this.isStaticSize=a.indexOf("%")==-1};saw.layout.Panel.prototype._getContentRegion=function(a){return saw.layout.getContentRegion(this.getDomNode())};saw.layout.Panel.prototype.onResize=function(a){};saw.layout.Panel.prototype.setContent=function(a,b){var c=this.getDomNode();if(typeof(a)=="string"){saw.logicErrorAlert("tContent MUST be a HTMLElement")}else{saw.clearInnerHTML(c);if(b){while(a.firstChild){c.appendChild(a.firstChild)}}else{c.appendChild(a)}}};saw.layout.LayoutContainer=function(a,b){saw.layout.LayoutContainer.baseConstructor.call(this,a);this.bHorizontal=saw.layout.isHorizontal(b);this._resizable=new obips.BrowserEventFramework.Resizable(this.getDomNode())};saw.extend(saw.layout.LayoutContainer,saw.layout.Panel);saw.layout.LayoutContainer.prototype.isHorizontal=function(){return this.bHorizontal};saw.layout.LayoutContainer.prototype.countChildren=function(){return this.children.length};saw.layout.LayoutContainer.prototype.findChildIndex=function(b){for(var a=0;a<this.children.length;a++){if(this.children[a]==b){return a}}return -1};saw.layout.LayoutContainer.prototype.addChild=function(a){if(this.findChildIndex(a)==-1){this.children.push(a);a.parent=this;this.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_RESIZED,new obips.Callback(a,a.onResize)))}else{}};saw.layout.LayoutContainer.prototype.removeChild=function(b){var a=this.findChildIndex(b);if(a>=0){saw.arrayRemoveIndex(this.children,a);b.parent=null}else{}};saw.layout.LayoutContainer.prototype.getChild=function(a){if(a<0||a>this.children.length){return null}return this.children[a]};saw.layout.LayoutContainer.prototype._movePanel=function(a,d,b){if(saw.userAgent.is_webkit){this.contentRegion=this._getContentRegion()}var c=a.getDomNode();if(is_ie){c.style.position="absolute"}c.style.display="";b=b>0?b:0;if(this.isHorizontal()){if(saw.isRToL()){this.contentRegion=this._getContentRegion();saw.setElementOuterXY(c,this.contentRegion.right-d-c.offsetWidth,this.contentRegion.top)}else{saw.setElementOuterXY(c,this.contentRegion.left+d,this.contentRegion.top)}saw.setOuterWidth(c,b);saw.setOuterHeight(c,this.contentRegion.getHeight())}else{saw.setOuterWidth(c,this.contentRegion.getWidth());saw.setOuterHeight(c,b);saw.setElementOuterXY(c,this.contentRegion.left,this.contentRegion.top+d)}};saw.layout.LayoutContainer.prototype.getActualChildrenSize=function(d,n){var g=new Array();var m=0;var h=0;var b=0;var e=0;var j=0;for(var f=0;f<this.children.length;f++){if(!this.children[f].isShown()){continue}if(this.children[f].isStatic()){j=this.children[f].getSizeShareValue();m+=this.children[f].getSizeShareValue()}else{h+=this.children[f].getSizeShareValue();e++}b++}if(b==0){return g}var c=d-m;var a=1;if(c<0||(c==0&&e>0)){c=d*e/b;a=(d-c)/m}if(n&&e==0&&m-j<=d){a=1}var l=0;for(f=0;f<this.children.length;f++){if(!this.children[f].isShown()){continue}var k=this.children[f].getSizeShareValue();if(!this.children[f].isStatic()){k=Math.floor(c*this.children[f].getSizeShareValue()/h)}else{k=Math.floor(a*k)}g.push(k);l+=k}if(f>0&&l!=d){g[g.length-1]=Math.max(0,d-(l-g[g.length-1]))}return g};saw.layout.LayoutContainer.prototype.onResize=function(){this._handleLayout();this._resizable.notifyResize()};saw.layout.LayoutContainer.prototype.strechToFitParent=function(){saw.layout.strechToFitParent(null,this)};saw.layout.SimpleLayoutContainer=function(a,e){saw.layout.SimpleLayoutContainer.baseConstructor.call(this,a,e);var b=saw.getFirstChildElement(this.getDomNode());while(b){var d=b.getAttribute(saw.layout.ksTypeAttribute);var c=saw.layout.createFromDom(b,d);this.addChild(c);b=saw.getNextSiblingElement(b)}this._handleLayout()};saw.extend(saw.layout.SimpleLayoutContainer,saw.layout.LayoutContainer);saw.layout.SimpleLayoutContainer.prototype._handleLayout=function(){if(this.children.length==0){return}this.contentRegion=this._getContentRegion();var a=this.isHorizontal()?this.contentRegion.getWidth():this.contentRegion.getHeight();var d=0;for(var b=0;b<this.children.length;b++){var c=this.children[b].getSizeShareValue();if(b==this.children.length-1){c=a-d}this.children[b].actualSize=c;this._movePanel(this.children[b],d,c);d+=c}this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_RESIZED));this._resizable.notifyResize()};saw.layout.SinglePaneSelector=function(a){saw.layout.SinglePaneSelector.baseConstructor.call(this,a);this.displayedIndex=-1};saw.extend(saw.layout.SinglePaneSelector,saw.layout.LayoutContainer);saw.layout.SinglePaneSelector.prototype.addChild=function(b){saw.layout.SinglePaneSelector.superClass.addChild.call(this,b);var a=b.getDomNode();if(a.parentNode!=this.getDomNode()){this.getDomNode().appendChild(a)}if(this.countChildren()==1){this.displayedIndex=0}};saw.layout.SinglePaneSelector.prototype.addElementAsChild=function(b){var a=new saw.layout.Panel(b);this.addChild(a)};saw.layout.SinglePaneSelector.prototype._handleLayout=function(){for(var c=0;c<this.children.length;c++){var b=this.children[c];if(this.displayedIndex!=c){b.getDomNode().style.display="none"}}var a=this.children[this.displayedIndex];a.getDomNode().style.display="";saw.layout.strechToFitParent(a.getDomNode(),a);this._resizable.notifyResize()};saw.layout.SinglePaneSelector.prototype.displayPane=function(a){if(typeof(a)=="integer"||typeof(a)=="number"){if(a>=0&&a<this.countChildren()){this.displayedIndex=a;this._handleLayout()}}};saw.layout.SplitterContainer=function(a,g,c){saw.layout.SplitterContainer.baseConstructor.call(this,a,g);this.getDomNode().style.overflow="hidden";this.getDomNode().style.visibility="inherit";this.splitters=[];this.setActiveSizing(this.getDomNode().getAttribute(saw.layout.ksActiveSizingSAttribute));var b=saw.getFirstChildElement(this.getDomNode());while(b){var f=b.getAttribute(saw.layout.ksTypeAttribute);var d=saw.layout.createFromDom(b,f);this.addChild(d);b=saw.getNextSiblingElement(b);if(b){f=b.getAttribute(saw.layout.ksTypeAttribute);if(f==saw.layout.ksTypeSplitter){var e=saw.layout.createFromDom(b,f,g);b=saw.getNextSiblingElement(b)}else{var e=this._createDefaultSplitter(b,g)}this._addSplitter(e)}}if(!c){this._handleLayout()}};saw.extend(saw.layout.SplitterContainer,saw.layout.LayoutContainer);saw.layout.SplitterContainer.create2PaneHorizSplitter=function(h,b,g,f){var c=saw.createChildElement(h,"div","SplitterContentPane");c.setAttribute(saw.layout.ksTypeAttribute,saw.layout.ksTypeContentPane);if(b){c.setAttribute(saw.layout.ksSizeShareAttribute,b)}var d=saw.createChildElement(h,"div","HorizSplitter");d.setAttribute(saw.layout.ksTypeAttribute,"splitter");if(f&&f!="none"){if(f=="next"){d.setAttribute("collapseNextPane","true")}var e=saw.createTable(1,1,d);e.style.width="100%"}var a=saw.createChildElement(h,"div","SplitterContentPane");a.setAttribute(saw.layout.ksTypeAttribute,saw.layout.ksTypeContentPane);if(g){a.setAttribute(saw.layout.ksSizeShareAttribute,g)}return new saw.layout.SplitterContainer(h,"h")};saw.layout.SplitterContainer.prototype.onResize=function(){this._handleLayout()};saw.layout.SplitterContainer.prototype.getActiveSizing=function(){if(this.activeSizing){return true}else{if(this.activeSizing==null||typeof(this.activeSizing)=="undefined"){return saw.layout.kbSplitterActiveSizing}else{return false}}};saw.layout.SplitterContainer.prototype.setActiveSizing=function(a){if(typeof(a)=="string"){var b=b.toLowerCase();if(b=="ture"){this.activeSizing=true}if(b=="false"){this.activeSizing=false}}else{this.activeSizing=a}};saw.layout.SplitterContainer.prototype.getCollapseSplitter=function(b){var a=saw.arrayIndexOf(this.children,b);if(a==0){return this.splitters[0]}else{return this.splitters[0].collapseNextPane?this.splitters[0]:this.splitters[1]}};saw.layout.SplitterContainer.prototype.collapsePane=function(b){if(b.collapsible&&!b.collapsed){b.collapsed=true;this._handleLayout();var a=this.getCollapseSplitter(b);a.setButtonImage();NQWAddClassName(a.getDomNode(),"SplitterCollapsed");this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_COLLAPSED,b))}};saw.layout.SplitterContainer.prototype.restorePane=function(b){if(b.collapsible&&b.collapsed){b.collapsed=false;this._handleLayout();var a=this.getCollapseSplitter(b);a.setButtonImage();NQWRemoveClassName(a.getDomNode(),"SplitterCollapsed");this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_EXPANDED,b))}};saw.layout.SplitterContainer.prototype.hideSplitterPane=function(a){if(a>=this.children.length-1){return}this.splitters[a].getDomNode().style.display="none";this.collapsePane(this.getChild(a))};saw.layout.SplitterContainer.prototype.isPaneCollapsed=function(a){tPane=this.getChild(a);if(tPane){return tPane.collapsible&&tPane.collapsed}else{return false}};saw.layout.SplitterContainer.prototype.isPaneHidden=function(a){return this.isPaneCollapsed(a)};saw.layout.SplitterContainer.prototype.showSplitterPane=function(a){if(a>=this.children.length-1){return}this.splitters[a].getDomNode().style.display="block";this.restorePane(this.getChild(a))};saw.layout.SplitterContainer.prototype._handleLayout=function(){if(this.children.length==0){return}this.contentRegion=this._getContentRegion();var d=this.isHorizontal()?this.contentRegion.getWidth():this.contentRegion.getHeight();var h=0;var c=0;for(var e=0;e<this.splitters.length;e++){c+=this.splitters[e].getSize()}var b=this.getActualChildrenSize(d-c,true);var f=0;var a=0;var h=0;for(var e=0;e<this.children.length;e++){if(!this.children[e].collapsed){f=b[a];this.children[e].actualSize=f;this._movePanel(this.children[e],h,b[a]);a++}else{this._hidePanel(this.children[e],true);f=0}if(e!=this.children.length-1){h+=f;var g=this.splitters[e].getSize();if(g){this._movePanel(this.splitters[e],h,g)}h+=g}}this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_RESIZED));this._resizable.notifyResize();for(var e=0;e<this.splitters.length;e++){this.splitters[e]._setDragConstrain(this.children[e].actualSize-this.children[e].minSize,this.children[e+1].actualSize-this.children[e+1].minSize)}};saw.layout.SplitterContainer.prototype._hidePanel=function(a,b){if(b===false){a.getDomNode().style.display=""}else{a.getDomNode().style.display="none"}};saw.layout.SplitterContainer.prototype._addSplitter=function(a){this.splitters.push(a);a.parent=this;this.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_RESIZED,new obips.Callback(a,a.onResize)))};saw.layout.SplitterContainer.prototype._createDefaultSplitter=function(a,c){this.defaultSplitterSize=saw.layout.knDefaultSplitterWidth+"px";var b=a.ownerDocument.createElement("div");if(this.isHorizontal()){b.className="HorizSplitter";b.style.width=this.defaultSplitterSize}else{b.className="VertSplitter";b.style.height=this.defaultSplitterSize;if(is_ie){b.style.fontSize="1px"}}a.parentNode.insertBefore(b,a);return new saw.layout.Splitter(b,c)};saw.layout.Splitter=function(c,h){saw.layout.Splitter.baseConstructor.call(this,c);this.bHorizontal=saw.layout.isHorizontal(h);this.dropDropObj=new saw.layout.SplitterDragObj(this);if(this.bHorizontal){this.dropDropObj.setYConstraint(0,0);this.dropDropObj.draggingCursor="e-resize"}else{this.dropDropObj.setXConstraint(0,0);this.dropDropObj.draggingCursor="n-resize"}this.collapseNextPane=c.getAttribute("collapseNextPane")=="true";var b=saw.getFirstChildElement(this.getDomNode());if(b&&b.tagName=="TABLE"){this.button=b.rows[0].cells[0];if(this.button){var g=this;this.button.onclick=function(){g.onButtonClicked()};this.button.onkeyup=function(i){i=saw.getEvent(i);if(i.keyCode=="13"){g.onButtonClicked();saw.stopEventPropagation(i)}};this.button.tabIndex=0;saw.clearInnerHTML(this.button);saw.createChildElement(this.button,"span");var e=obips.ResourceManager.getSingleton().getResource("uicomponents/common/common.xml","kmsgHorizSplitterButton").getString();saw.setAriaProperty(this.button,"aria-label",e);saw.addEventListener(this.button,"mouseout",this.mouseOutButton,this,true);saw.addEventListener(this.button,"mouseover",this.mouseOverButton,this,true);var f=this.collapseNextPane^saw.isRToL();this.button.className="HorizSplitterButton HorizSplitterButton"+(f?"R":"L");var d=(f)?"masterSplitterHorizontalRestoreButtonEnabled":"masterSplitterHorizontalCollapseButtonEnabled";var a=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,d).url;this.button.style.backgroundImage="url("+a+")"}}};saw.extend(saw.layout.Splitter,saw.layout.Panel);saw.layout.Splitter.prototype.onButtonClicked=function(){var a=this.collapseNextPane?this._getPaneAfter():this._getPaneBefore();if(a.collapsed){this.getParent().restorePane(a)}else{this.getParent().collapsePane(a)}};saw.layout.Splitter.prototype.setButtonImage=function(){if(this.button){this.updateButtonImage(false)}};saw.layout.Splitter.prototype.mouseOverButton=function(){this.updateButtonImage(true)};saw.layout.Splitter.prototype.mouseOutButton=function(){this.updateButtonImage(false)};saw.layout.Splitter.prototype.updateButtonImage=function(d){var c=this.collapseNextPane?this._getPaneAfter().collapsed:this._getPaneBefore().collapsed;this.button.className="HorizSplitterButton HorizSplitterButton"+(c?"R":"L");var b;var e=this.collapseNextPane?!c:c;if(d){b=(e)?"masterSplitterHorizontalRestoreButtonHover":"masterSplitterHorizontalCollapseButtonHover"}else{b=(e)?"masterSplitterHorizontalRestoreButtonEnabled":"masterSplitterHorizontalCollapseButtonEnabled"}var a=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,b).url;this.button.style.backgroundImage="url("+a+")"};saw.layout.Splitter.prototype.onResize=function(){var a=saw.getFirstChildElement(this.getDomNode());if(a){var b=this._getContentRegion();if(b){if(this.bHorizontal){saw.setElementOuterXY(a,saw.getElementXY(a)[0],b.top+(b.getHeight()-a.offsetHeight)/2)}else{saw.setElementOuterXY(a,saw.getElementXY(b.right-10-a.offsetWidth,a)[1])}}}this.dropDropObj.resetConstraints()};saw.layout.Splitter.prototype.getSize=function(){if(this.bHorizontal){return this.getDomNode().offsetWidth}else{return this.getDomNode().offsetHeight}};saw.layout.Splitter.prototype._getPaneBefore=function(){var a=this.getParent();var b=saw.arrayIndexOf(a.splitters,this);return a.children[b]};saw.layout.Splitter.prototype._getPaneAfter=function(){var a=this.getParent();var b=saw.arrayIndexOf(a.splitters,this);return a.children[b+1]};saw.layout.Splitter.prototype._setDragConstrain=function(b,a){this.dropDropObj.setInitPosition(0,0);if(this.bHorizontal){if(saw.isRToL()){this.dropDropObj.setXConstraint(a,b)}else{this.dropDropObj.setXConstraint(b,a)}}else{this.dropDropObj.setYConstraint(b,a)}};saw.layout.Splitter.prototype._moveTo=function(g){var d=this.getParent();var f=saw.arrayIndexOf(d.splitters,this);var c=d.children[f];var e=d.children[f+1];var a=d.isHorizontal()?saw.getElementXY(this.getDomNode())[0]:saw.getElementXY(this.getDomNode())[1];var b=saw.isRToL()?a-g:g-a;c.sizeShare=c.actualSize+b;e.sizeShare=e.actualSize-b;d._handleLayout()};saw.layout.SplitterDragObj=function(a){saw.layout.SplitterDragObj.baseConstructor.call(this,a.getDomNode(),"splitter");this.splitter=a;this.bCanDropAnywhere=true;this.useShim=true};saw.extend(saw.layout.SplitterDragObj,saw.dnd.SimpleDragObj);saw.layout.SplitterDragObj.prototype.createDragObj=function(c){if(!c){c=document}var b=c.getElementById(saw.dnd.SimpleDragObj.dragObjID);if(!b){b=c.createElement("div");b.id=saw.dnd.SimpleDragObj.dragObjID;var a=b.style;a.position="absolute";a.display="none";a.cursor="move";a.zIndex=9999;c.body.appendChild(b)}return b};saw.layout.SplitterDragObj.prototype.setDragObjContents=function(){saw.layout.SplitterDragObj.superClass.setDragObjContents.call(this);var a=this.getDragObj();a.style.width="";NQWSetHasClassName(a,"HorizSplitterDrag",true)};saw.layout.SplitterDragObj.prototype.onDragDrop=function(a){return this._moveSplitter(a)};saw.layout.SplitterDragObj.prototype.onDrag=function(a){if(this.splitter.parent.getActiveSizing()){return this._moveSplitter(a)}else{return saw.layout.SplitterDragObj.superClass.onDrag.call(this,a)}};saw.layout.SplitterDragObj.prototype.startDrag=function(b,a,c){this.setInitPosition(0,0);this.resetConstraints();if(!this.splitter.parent.getActiveSizing()){return saw.layout.SplitterDragObj.superClass.startDrag.call(this,b,a,c)}};saw.layout.SplitterDragObj.prototype._moveSplitter=function(a){var c=saw.dnd.getEventPosToCtrlWindow(a);var b=this.getTargetCoord(c[0],c[1]);var d=this.splitter.bHorizontal?b.x:b.y;this.splitter._moveTo(d);return true};saw.layout.isHorizontal=function(a){if(typeof(a)=="string"){return a.charAt(0)!="v"&&a.charAt(0)!="V"}else{return true}};saw.layout.createFromDom=function(b,a,c){if(a==saw.layout.ksTypeSplitter){return new saw.layout.Splitter(b,c)}else{if(a==saw.layout.ksTypeSplitterContainer){return new saw.layout.SplitterContainer(b,b.getAttribute(saw.layout.ksOrientationAttribute),true)}else{return new saw.layout.Panel(b)}}};saw.layout.Accordion=function(a){saw.layout.Accordion.baseConstructor.call(this,a);var b=saw.getFirstChildElement(this.getDomNode());while(b){var d=new saw.layout.AccordionPane(b);var c=d.domNode.getAttribute(saw.layout.ksTypeNoDisclosureIcon);new saw.layout.AccordionPaneViewer(d,c);this.addChild(d);b=saw.getNextSiblingElement(b)}this.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_EXPANDED,new obips.Callback(this,this._handleLayout)));this.addEventListener(new obips.Observable.EventListener(saw.layout.EventType.PANE_COLLAPSED,new obips.Callback(this,this._handleLayout)));this._handleLayout()};saw.extend(saw.layout.Accordion,saw.layout.LayoutContainer);saw.layout.Accordion.prototype.onResize=function(a){this._handleLayout()};saw.layout.Accordion.prototype.getPane=function(b){if(typeof(b)=="string"){for(var a=0;a<this.children.length;a++){if(this.children[a].name==b){return this.children[a]}}return null}else{if(typeof(b)=="integer"||typeof(b)=="number"){if(b<this.children.length){return this.children[b]}else{return null}}}return b};saw.layout.Accordion.prototype.showPane=function(d,a,b){d=this.getPane(d);if(d){var c=d.isHidden;if(a||typeof(a)=="undefined"||a==null){d.isHidden=false}else{d.isHidden=true}if(d.isHidden!=c){if(b&&!d.isHidden&&d.collapsed){d.collapsed=false;d.disclosure.className="AccordionDisclosure AccordionDisclosureCollapse";d.disclosure.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterDisclosureExpandedButtonEnabled").url+")";NQWRemoveClassName(d.getDomNode(),"AccordionPaneCollapsed")}this._handleLayout();if(!d.isHidden){this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_SHOWN,d))}}}};saw.layout.Accordion.prototype._handleLayout=function(){this.contentRegion=this._getContentRegion();var h=this.contentRegion.getWidth();var l=this.contentRegion.getHeight();var c=0;var d=0;for(var f=0;f<this.children.length;f++){if(!this.children[f].isHidden){this.children[f].getDomNode().style.display="block";d+=this.children[f].getHeadHeight();if(!this.children[f].collapsed){c++}}}var m=this.getActualChildrenSize(l-d);var n=0;var j=0;for(var f=0;f<this.children.length;f++){if(!this.children[f].isHidden){if(!this.children[f].collapsed){this.children[f]._moveTo(j,m[n]);this.children[f].actualSize=m[n];j+=m[n];n++}else{this.children[f]._moveTo(j)}j+=this.children[f].getHeadHeight()}else{this.children[f].getDomNode().style.display="none"}}var k=saw.getLastChildElement(this.getDomNode());if(c==0){if(!k||k.getAttribute(saw.layout.ksTypeAttribute)!="dummy"){k=this.getDomNode().ownerDocument.createElement("div");k.setAttribute(saw.layout.ksTypeAttribute,"dummy");k.className="masterAccordionContentAreaPanel AccordionPaneBody";this.getDomNode().appendChild(k)}k.style.display="block";if(is_ie){k.style.position="absolute"}var b=this.contentRegion;saw.setOuterWidth(k,b.getWidth());saw.setOuterHeight(k,b.getHeight()-j);saw.setElementOuterXY(k,b.left,b.top+j)}else{if(k&&k.getAttribute(saw.layout.ksTypeAttribute)=="dummy"){k.style.display="none"}}for(var f=0;f<this.children.length;f++){var g=this.children[f];if(this._isPaneResizable(f)){g.resizeDragObj.unlock();g.resizeDragObj.setInitPosition(0,0);g.resizeDragObj.resetConstraints();var e=this._findExpandedPane(f-1,"backward");var a=this._findExpandedPane(f);g.resizeDragObj.setYConstraint(e.actualSize,a.actualSize)}else{g.resizeDragObj.lock()}}this.notify(new obips.Observable.Event(saw.layout.EventType.PANE_RESIZED));this._resizable.notifyResize()};saw.layout.Accordion.prototype._isPaneResizable=function(b){if(b<=0){return false}var c=this.getPane(b);if(c.isHidden){return false}var a=this._findExpandedPane(b-1,"backward");if(!a){return false}if(!this._findExpandedPane(b)){return false}return true};saw.layout.Accordion.prototype._findExpandedPane=function(b,c){var a=b;if(c==true||c=="backward"){while(a>=0){var d=this.getPane(a);if(!d.isHidden&&!d.collapsed){return d}a--}}else{while(a<this.children.length){var d=this.getPane(a);if(!d.isHidden&&!d.collapsed){return d}a++}}return null};saw.layout.AccordionPane=function(a){saw.layout.AccordionPane.baseConstructor.call(this,a);this.collapsed=this.domNode.getAttribute("expanded")&&this.domNode.getAttribute("expanded").toLowerCase()=="true"?false:true;this.isHidden=this.domNode.getAttribute("hidden")&&this.domNode.getAttribute("hidden").toLowerCase()=="true"?true:false;this.maintainState=this.domNode.getAttribute("maintainState")&&this.domNode.getAttribute("maintainState").toLowerCase()=="true"?true:false;this.name=this.domNode.getAttribute("paneName");this.headerNode=null;this.bodyNode=null;var d=saw.getFirstChildElement(this.domNode);if(d){if(d.getAttribute(saw.layout.ksTypeAttribute)=="accordianPaneBody"){this.bodyNode=d}else{this.headerNode=d;this.bodyNode=saw.getNextSiblingElement(d)}}if(this.maintainState&&saw.storage){var c=saw.storage.ClientStorageManager.getSingleton();var b=c.getState(saw.layout.StateID.ACCORDION_PANE+this.name);if(b){this.collapsed=b=="true"?true:false}}};saw.extend(saw.layout.AccordionPane,saw.layout.Panel);saw.layout.AccordionPane.createRoundCornerPaneHTML=function(g,a){var c=saw.createChildElement(g,"div","masterAccordionHeader masterAccordionTopHeader AccordionFirstPaneHead");var e=saw.createTable(1,3,c);e.className="AccordionPaneHeadRoundCorner";e.rows[0].cells[0].className="RoundCornerLeft";e.rows[0].cells[2].className="RoundCornerRight";var f=saw.createTable(1,2,e.rows[0].cells[1]);f.className="AccordionPaneHeadContent";f.rows[0].cells[0].setAttribute("valign","middel");var d=saw.createChildElement(f.rows[0].cells[0],"span","AccordionPaneHeaderText");d.appendChild(document.createTextNode(a));f.rows[0].cells[1].className="PaneHeadToolbar";saw.appendTextNode(f.rows[0].cells[1],"\u00a0");var b=saw.createChildElement(g,"div","masterAccordionContentAreaPanel AccordionPaneBody")};saw.layout.AccordionPane.prototype.isShown=function(){return !this.collapsed&&!this.isHidden};saw.layout.AccordionPane.prototype.onDisclosureClicked=function(){this.collapsed=!this.collapsed;if(!this.collapsed){this.disclosure.className="AccordionDisclosure AccordionDisclosureCollapse";this.disclosure.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterDisclosureExpandedButtonEnabled").url+")";NQWRemoveClassName(this.getDomNode(),"AccordionPaneCollapsed");this.getParent().notify(new obips.Observable.Event(saw.layout.EventType.PANE_EXPANDED,this))}else{this.disclosure.className="AccordionDisclosure AccordionDisclosureExpand";this.disclosure.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterDisclosureCollapsedButtonEnabled").url+")";NQWSetHasClassName(this.getDomNode(),"AccordionPaneCollapsed",true);this.getParent().notify(new obips.Observable.Event(saw.layout.EventType.PANE_COLLAPSED,this))}if(this.maintainState&&saw.storage){var a=saw.storage.ClientStorageManager.getSingleton();a.setState(saw.layout.StateID.ACCORDION_PANE+this.name,this.collapsed?"true":"false")}};saw.layout.AccordionPane.prototype.setTitle=function(b){var a=saw.findFirstDescendant(this.headerNode,"span","class","AccordionPaneHeaderText");if(!a){var c=saw.getNextSiblingElement(this.disclosure);if(c&&c.tagName=="IMG"){c=saw.getNextSiblingElement(c)}a=this.headerNode.ownerDocument.createElement("span");a.className="AccordionPaneHeaderText";this.headerNode.insertBefore(a,c)}saw.clearInnerHTML(a);a.appendChild(a.ownerDocument.createTextNode(b))};saw.layout.AccordionPane.prototype.getSizeShare=function(){if(!this.sizeShare&&this.parent){this.sizeShare=Math.floor(100/this.parent.children.length)+"%"}return this.sizeShare};saw.layout.AccordionPane.prototype.getHeadHeight=function(){return this.headerNode.offsetHeight};saw.layout.AccordionPane.prototype._moveTo=function(c,b){if(this.isHidden){return}if(!b){b=0}var a=this.getParent().contentRegion;if(is_ie){this.headerNode.style.position="absolute"}saw.setOuterWidth(this.headerNode,a.getWidth());saw.setElementOuterXY(this.headerNode,a.left,a.top+c);if(!this.collapsed){c+=this.getHeadHeight();this.bodyNode.style.display="";if(is_ie){this.bodyNode.style.position="absolute"}saw.setOuterWidth(this.bodyNode,a.getWidth());saw.setOuterHeight(this.bodyNode,b);saw.setElementOuterXY(this.bodyNode,a.left,a.top+c)}else{this.bodyNode.style.display="none"}};saw.layout.AccordionPane.prototype.getHeaderButtonContainer=function(){return saw.findFirstDescendant(this.headerNode,"td","class","PaneHeadToolbar")};saw.layout.AccordionPaneViewer=function(b,a){this.model=b;this.accordian=b.getParent();var c=b.getDomNode();var h=b.headerNode;if(!h){h=c.ownerDocument.createElement("div");h.className="masterAccordionHeader AccordionPaneHead";c.insertBefore(h,c.firstChild);b.headerNode=h}var g=h;var e=saw.getFirstChildElement(h);if(e.tagName=="TABLE"){g=e.rows[0].cells[0];if(g.className.indexOf("RoundCorner")!=-1){g=saw.getFirstChildElement(e.rows[0].cells[1]).rows[0].cells[0]}}var f=saw.getFirstChildElement(g);if(!a&&(!f||!NQWHasClassName(f,"AccordionDisclosure"))){f=g.ownerDocument.createElement("a");f.href="javascript:void(0)";f.className="AccordionDisclosure "+(b.collapsed?"AccordionDisclosureExpand":"AccordionDisclosureCollapse");if(b.collapsed){NQWSetHasClassName(c,"AccordionPaneCollapsed",true);f.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterDisclosureCollapsedButtonEnabled").url+")"}else{f.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterDisclosureExpandedButtonEnabled").url+")"}g.insertBefore(f,g.firstChild)}this.model.disclosure=f;f.onclick=function(){b.onDisclosureClicked();return false};var d=b.bodyNode;if(!d){d=c.ownerDocument.createElement("div");d.className="masterAccordionContentAreaPanel AccordionPaneBody";c.appendChild(d);b.bodyNode=d}this.model.resizeDragObj=new saw.layout.AccordionResizeDragObj(this.model)};saw.layout.AccordionResizeDragObj=function(a){saw.layout.AccordionResizeDragObj.baseConstructor.call(this,a.headerNode,"accordionResize");this.pane=a;this.bCanDropAnywhere=true;this.useShim=true;this.setXConstraint(0,0)};saw.extend(saw.layout.AccordionResizeDragObj,saw.dnd.SimpleDragObj);saw.layout.AccordionResizeDragObj.prototype.onDragDrop=function(i){var a=saw.dnd.getEventPosToCtrlWindow(i);var g=this.getTargetCoord(a[0],a[1]);var h=g.y;var e=g.y-saw.getElementXY(this.getSource())[1];var b=this.pane.getParent();var f=saw.arrayIndexOf(b.children,this.pane);var c=b._findExpandedPane(f-1,"backward");c.setSizeShare(c.actualSize+e+"px");var d=b._findExpandedPane(f);d.setSizeShare(d.actualSize-e+"px");b._handleLayout();return true};saw.layout.AccordionResizeDragObj.prototype.setDragObjContents=function(){var b=this.getDragObj();saw.setInnerText(b,"\u00a0");b.style.border="none";b.style.borderTop="2px solid gray";b.style.borderBottom="2px solid gray";b.style.width=this.pane.headerNode.offsetWidth+"px";var d=this.pane.getParent();var a=saw.arrayIndexOf(d.children,this.pane);var c=d._findExpandedPane(a-1,"backward");var e=d._findExpandedPane(a);b.style.height=saw.Region.getRegion(e.bodyNode).top-saw.Region.getRegion(c.bodyNode).bottom-4+"px"};saw.layout.AccordionResizeDragObj.prototype.setDragObjPos=function(f,e,j){var b=this.getDragObj();var g=this.getTargetCoord(f,e,j);var a=[g.x,g.y];var c=this.pane.getParent();var i=saw.arrayIndexOf(c.children,this.pane);var d=c._findExpandedPane(i-1,"backward");var h=saw.Region.getRegion(this.pane.headerNode).top-saw.Region.getRegion(d.bodyNode).bottom;saw.setElementXY(b,g.x,g.y-h);this.lastPageX=g.x;this.lastPageY=g.y};saw.layout.getContentRegion=function(b){var c=saw.Region.getRegion(b);if(c){var d=new saw.Region(c.top,c.right,c.bottom,c.left);var a=saw.getComputedStyle(b);d.left+=saw.cssLengthToInt(a.paddingLeft)+saw.cssLengthToInt(a.borderLeftWidth);d.right-=saw.cssLengthToInt(a.paddingRight)+saw.cssLengthToInt(a.borderRightWidth);d.top+=saw.cssLengthToInt(a.paddingTop)+saw.cssLengthToInt(a.borderTopWidth);d.bottom-=saw.cssLengthToInt(a.paddingBottom)+saw.cssLengthToInt(a.borderBottomWidth);return d}else{return null}};saw.layout.strechToFitParent=function(e,d){if(!e&&d){e=d.getDomNode()}var h=e.parentNode;var g=saw.layout.getContentRegion(h);if(g&&h.parentNode){var c=saw.getComputedStyle(h);var a=saw.layout.getContentRegion(h.parentNode);if(a){if(a.getWidth()<h.offsetWidth){g.right-=saw.cssLengthToInt(c.paddingLeft)+saw.cssLengthToInt(c.paddingRight)}if(c.height=="100%"&&a.getHeight()<h.offsetHeight){g.bottom-=saw.cssLengthToInt(c.paddingTop)+saw.cssLengthToInt(c.paddingBottom)}}}if(g==null||g.getWidth()<=0||isNaN(g.getWidth())){return}saw.setOuterWidth(e,g.getWidth());var f=saw.getElementXY(e)[1]-saw.cssLengthToInt(saw.getComputedStyle(e).marginTop);if(f<g.top){f=g.top}var b=g.bottom;saw.setOuterHeight(e,b-f-2);if(d){d.onResize()}};saw.layout.strenchToFitParent=saw.layout.strechToFitParent;saw.layout.LayoutContainer.prototype.strenchToFitParent=saw.layout.LayoutContainer.prototype.strechToFitParent};