obips.Dialog=function(){};obips.Dialog.resourceFile="uicomponents/obips.Dialog/obips.Dialog.xml";obips.Dialog.Model=function(d,b,e,c,a,f){c=c==null?true:c;obips.Dialog.Model.baseConstructor.call(this,c,a);this.titleText=d;this.callback=b;this.helpModel=e;this.okButtonText=f};extend(obips.Dialog.Model,obips.FloatingWindow.Model);obips.Dialog.Model.DIALOG_TYPE_CLOSE=1;obips.Dialog.Model.prototype.setTitle=function(a){this.titleText=a;this.notify(new obips.Observable.Event(obips.Dialog.Model.EventType.TITLE_CHANGED))};obips.Dialog.Model.prototype.setOKButtonText=function(a){this.okButtonText=a};obips.Dialog.Model.prototype.setCancelButtonHandler=function(a){this.onCancel=a};obips.Dialog.Model.RenderMode=function(){};obips.Dialog.Model.RenderMode.DEFAULT="";obips.Dialog.Model.RenderMode.INLINE="inline";obips.Dialog.Model.prototype.setRenderMode=function(b,a){this.renderMode=b;this.bodyDiv=a};obips.Dialog.Model.prototype.setHelpModel=function(a){this.helpModel=a};obips.Dialog.Model.prototype.setDialogType=function(a){this.dialogType=a};obips.Dialog.Model.EventType=function(){};obips.Dialog.Model.EventType.TITLE_CHANGED="titleChanged";obips.Dialog.Model.g_nUniqueDialogID=0;obips.Dialog.Model.getUniqueDialogID=function(){return ++obips.Dialog.Model.g_nUniqueDialogID};obips.Dialog.Viewer=function(w,r,s,e,i,q,a){this.focusFieldOnExit=null;if(document.querySelector){this.focusFieldOnExit=document.querySelector(":focus")}if(!this.focusFieldOnExit&&typeof(document.activeElement)=="undefined"){this.focusFieldOnExit=document.activeElement}if(w.renderMode==obips.Dialog.Model.RenderMode.INLINE){this.model=w;this.bodyDiv=w.bodyDiv;return}obips.Dialog.Viewer.baseConstructor.call(this,w,r||obips.FloatingWindow.Manager.getSingleton(),null,null,i,q);this.dialogDiv=document.createElement("div");obips.CSS.addClassToElement(this.floatingWindowDiv,"dialogBox");var p=(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()?true:false);var u=saw.createChildElement(this.floatingWindowDiv,"div","dialogShadow");this.layoutTable=saw.createTable(1,1,u,p);this.layoutTable.className="masterDialog dialogOuterContainer";var f=saw.createChildElement(this.layoutTable,"tbody");var d=saw.createChildElement(f,"tr");var k=saw.createChildElement(d,"td");k.style.width="100%";this._installWindowFocus();var v=(this.resourceManager.getStyleProperty("dialogRoundCornerImgsRequired")=="true")?true:false;var n=w.noRoundCorner||!v;oOuterContainer=this.layoutTable.rows[0].cells[0];if(s){oOuterContainer.style.width=s+"px"}if(e){oOuterContainer.style.height=e+"px"}if(n){oOuterContainer.className+=" dialogTopBottomBorder"}if(!n){this.addRoundCorner(oOuterContainer,"Top")}this.titleDiv=document.createElement("div");this.titleDiv.className="masterHeader dialogTitleBar";oOuterContainer.appendChild(this.titleDiv);this.titleSpan=document.createElement("span");this.titleSpan.className="dialogTitle";this.titleSpan.tabIndex=0;this.updateTitle();if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){var y=obips.Dialog.Model.getUniqueDialogID();this.dialogDiv.id="dialog_viewer_"+y;this.titleSpan.id="dialog_viewer_title_"+y;obips.TabStop.setWaiAriaAttrs([["role","dialog"],["aria-labelledby",this.titleSpan.id]],this.floatingWindowDiv)}var z=document.createElement("span");z.tabindex="0";z.border="0";z.className="dialogCloseIcon";z.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonEnabled").url+")";var j=this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogCloseDialog").getString();z.title=j;if(p){obips.TabStop.setWaiAriaAttrs([["role","button"]],z)}z.onclick=obips.Dialog.Controller.cancelButtonHandler;z.onmouseover=function(){obips.CSS.addClassToElement(this,"dialogCloseIconActive");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonHover").url+")"};z.onmousedown=function(C){obips.CSS.addClassToElement(this,"dialogCloseIconDown");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonDown").url+")";obips.CSS.removeClassFromElement(this,"dialogCloseIconActive");return true};z.onmouseout=function(){obips.CSS.removeClassFromElement(this,"dialogCloseIconDown");obips.CSS.removeClassFromElement(this,"dialogCloseIconActive");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonEnabled").url+")"};var m=this.resourceManager.getStyleProperty("dialogHelpPosition");var x="footer";if(m!=null&&m=="header"){x="header"}var o;if(x=="footer"){o=saw.createTable(1,2,this.titleDiv,p);o.rows[0].cells[0].appendChild(this.titleSpan);o.rows[0].cells[1].appendChild(z);o.rows[0].cells[1].className="dialogCloseIconCell"}else{if(x=="header"){o=saw.createTable(1,3,this.titleDiv,p);o.rows[0].cells[0].appendChild(this.titleSpan);if(this.model.helpModel){var B=this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogHelp").getString();var h=document.createElement("span");h.tabindex="0";h.border="0";h.className="dialogHelpIcon";h.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterHelpSmallButtonEnabled").url+")";h.title=B;var b=this;h.onclick=function(C){b._activeHelpButton(C);return false};h.onmouseover=function(){obips.CSS.addClassToElement(this,"dialogHelpIconActive");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterHelpSmallButtonHover").url+")"};h.onmousedown=function(C){obips.CSS.addClassToElement(this,"dialogHelpIconDown");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterHelpSmallButtonDown").url+")";obips.CSS.removeClassFromElement(this,"dialogHelpIconActive");return true};h.onmouseout=function(){obips.CSS.removeClassFromElement(this,"dialogHelpIconDown");obips.CSS.removeClassFromElement(this,"dialogHelpIconActive");this.style.backgroundImage="url("+obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterHelpSmallButtonEnabled").url+")"};if(p){obips.TabStop.setWaiAriaAttrs([["role","button"]],h)}o.rows[0].cells[1].appendChild(h);o.rows[0].cells[1].className="dialogHelpIconCell";o.rows[0].cells[1].id="id_helpDialog";this.helpButton=h}o.rows[0].cells[2].appendChild(z);o.rows[0].cells[2].className="dialogCloseIconCell"}}this.bodyDiv=document.createElement("div");this.bodyDiv.className="masterDialogBody dialogBody";oOuterContainer.appendChild(this.bodyDiv);this.footerDiv=document.createElement("div");this.footerDiv.className="masterDialogFooter dialogFooter";oOuterContainer.appendChild(this.footerDiv);if(this.model.helpModel&&x=="footer"){var A="";var c=this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogHelp");A=c.getString();var t=this._insertButton(A,"Help",this.footerDiv);var b=this;t.onclick=function(C){b._activeHelpButton(C);return false};this.helpButtonTabStop=new obips.SpaceBarAndEnterKeyTabStop(t,new obips.Callback(this,this._activeHelpButton));obips.CSS.addClassToElement(t,"dialogFloatLeft");this.helpButton=t}var l=(this.model.okButtonText)?this.model.okButtonText:this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogOK").getString();this.okButton=this._insertButton(l,"OK",this.footerDiv);this.cancelButton=this._insertButton(this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogCancel").getString(),"Cancel",this.footerDiv);if(this.model.dialogType&&(this.model.dialogType==obips.Dialog.Model.DIALOG_TYPE_CLOSE)){this.okButton.style.display="none";obips.Dialog.Viewer.updateButtonText(this.cancelButton,this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogCloseDialog").getString())}if(!n){this.addRoundCorner(oOuterContainer,"Bottom")}a=(a==null)?true:a;if(a){var g=new obips.Dialog.Viewer.DragObject(o.rows[0].cells[0],this.floatingWindowDiv)}if(obips.TabCircler){this.tabCircler=new obips.TabCircler();this.tabCircler.run(this.tabHandler,this)}};extend(obips.Dialog.Viewer,obips.FloatingWindow.Viewer);obips.Dialog.Viewer.prototype.tabHandler=function(a,b){b.tabCircler.handler(a,b.getFirstTabbedCtrl(),b.getLastTabbedCtrl())};obips.Dialog.Viewer.prototype.getFirstTabbedCtrl=function(){return this.titleSpan};obips.Dialog.Viewer.prototype.getLastTabbedCtrl=function(){if(this.cancelButton.offsetWidth>0){return this.cancelButton}else{return this.okButton}};obips.Dialog.Viewer.prototype._activeHelpButton=function(a){obips.launcher.launchHelp(this.model.helpModel,a)};obips.Dialog.Viewer.prototype.prepareDisplay=function(){if(this.model.renderMode!=obips.Dialog.Model.RenderMode.INLINE){this.floatingWindowManager.prepareDisplay(this)}};obips.Dialog.Viewer.prototype.insertCustomButton=function(c,b,f,d,e){var a=(typeof(d)=="string"?this.buttons[d]:d)||this.okButton;var g=this._insertButton(b,f,null,a);if(e){obips.CSS.addClassToElement(g,"dialogFloatLeft")}if(!c){saw.logicErrorAlert("Callback object is requred!")}g.onclick=function(h){if(!g.isButtonDisabled){c.exec(h)}return false};g.btnTabStop=new obips.SpaceBarAndEnterKeyTabStop(g,c);return g};obips.Dialog.Viewer.prototype.removeCustomButton=function(b){if(this.doesCustomButtonExist(b)){var a=this.buttons[b].parentNode;a.removeChild(this.buttons[b]);delete this.buttons[b]}return};obips.Dialog.Viewer.prototype._insertButton=function(c,d,g,b,f){if(this.model.renderMode==obips.Dialog.Model.RenderMode.INLINE){return null}var e;e=document.createElement("a");e.href="javascript:void(0)";e.appendChild(document.createTextNode(c));if(f){var a=document.createElement("img");a.src=f;a.alt="";a.border=0;a.hspace=3;e.appendChild(a)}e.className="masterToolbarTextButton button";e.name=d;obips.selenium.registerObject(d+"$"+this.model.titleText,e);if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){obips.TabStop.setWaiAriaAttrs([["role","button"]],e)}e.onmouseover=function(){if(!this.isButtonDisabled){obips.CSS.addClassToElement(this,"masterToolbarButtonHover");obips.CSS.addClassToElement(this,"buttonOver")}};e.onmouseout=function(){obips.CSS.removeClassFromElement(this,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this,"buttonOver");obips.CSS.removeClassFromElement(this,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this,"buttonDown")};e.onmousedown=function(){if(!this.isButtonDisabled){obips.CSS.addClassToElement(this,"masterToolbarButtonDown");obips.CSS.addClassToElement(this,"buttonDown")}};e.onmouseup=function(){obips.CSS.removeClassFromElement(this,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this,"buttonDown")};if(b){b.parentNode.insertBefore(e,b)}else{(g||thid.footerDiv).appendChild(e)}if(!this.buttons){this.buttons={}}this.buttons[d]=e;return e};obips.Dialog.Viewer.prototype.doesCustomButtonExist=function(a){return this.buttons[a]?true:false};obips.Dialog.Viewer.prototype._activeButton=function(){};obips.Dialog.Viewer.prototype.disableButton=function(a){var b=this.buttons[a];if(b){obips.CSS.addClassToElement(b,"masterToolbarTextButtonDisabled");obips.CSS.addClassToElement(b,"buttonDisabled");b.isButtonDisabled=true;if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){obips.TabStop.setWaiAriaAttrs([["aria-disabled","true"]],b)}b.btnTabStop?b.btnTabStop.disableTabStop():b.tabIndex=-1}};obips.Dialog.Viewer.prototype.enableButton=function(a){var b=this.buttons[a];if(b){obips.CSS.removeClassFromElement(b,"masterToolbarTextButtonDisabled");obips.CSS.removeClassFromElement(b,"buttonDisabled");b.isButtonDisabled=false;if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){obips.TabStop.setWaiAriaAttrs([["aria-disabled","false"]],b)}b.btnTabStop?b.btnTabStop.enableTabStop():b.tabIndex=0}};obips.Dialog.Viewer.prototype.addRoundCorner=function(e,c){var b=document.createElement("div");b.className="dialogRoundCorner"+c;var f=saw.createChildElement(b,"table");if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){saw.setAriaRole(f,"presentation")}f.cellSpacing=0;f.cellPadding=0;f.style.width="100%";var d=f.insertRow(0);var a=d.insertCell(0);saw.appendNBSP(a);a.className="dialogLeftCorner";a=d.insertCell(1);saw.appendNBSP(a);a.className="dialogCenterCorner";a=d.insertCell(2);saw.appendNBSP(a);a.className="dialogRightCorner";e.appendChild(b)};obips.Dialog.Viewer.prototype.updateTitle=function(){obips.HTMLDOM.removeChildNodes(this.titleSpan);this.titleSpan.appendChild(document.createTextNode(this.model.titleText));if(obips.TabStop.isSupportWaiAriaOnSimpleControls()&&obips.TabStop.isSupport508()){obips.TabStop.setWaiAriaAttrs([["aria-label",this.model.titleText]],this.titleSpan)}};obips.Dialog.Viewer.prototype.show=function(a){if(this.model.renderMode!=obips.Dialog.Model.RenderMode.INLINE){this.floatingWindowManager.displayAtPosition(this,a);if(saw.userAgent.is_ie){var b=this.titleSpan;var c=saw.cssLengthToInt(saw.getComputedStyle(b).maxWidth);if(c&&b.offsetWidth>=c){b.style.width=c+"px";b.style.overflow="hidden";b.title=this.model.titleText}}this.focusWindow()}};obips.Dialog.Viewer.prototype.centerDialog=function(){saw.positionPopup(this.floatingWindowDiv,{xPos:this.xPixels,yPos:this.yPixels})};obips.Dialog.Viewer.prototype.setFocusOnExit=function(a){this.focusFieldOnExit=a};obips.Dialog.Viewer.prototype._installWindowFocus=function(){this.layoutTable.tabIndex=0;this.dialogDiv.tabIndex=-1};obips.Dialog.Viewer.prototype.focusWindow=function(){try{this.titleSpan.focus();return}catch(a){}if(this.layoutTable&&this.layoutTable.focus){this.layoutTable.focus()}};obips.Dialog.Viewer.DragObject=function(a,b){obips.Dialog.Viewer.DragObject.baseConstructor.call(this,a,"independent");this.floatingWindowDiv=b;if(this.floatingWindowDiv.id==""){this.floatingWindowDiv.id="id_"+new Date().valueOf()}this.setDragObj(this.floatingWindowDiv);this.draggingCursor="move";this.scroll=false};extend(obips.Dialog.Viewer.DragObject,saw.dnd.DragObject);obips.Dialog.Viewer.DragObject.prototype.alignDragObjToMouse=function(d,a){if(!saw.dnd.bSupportCrossIFrameDrag){this.setDragObjPos(saw.getEventPageX(d),saw.getEventPageY(d));return}var c=a?a:saw.dnd._getMouseOverFrame(d);var f=saw.dnd.getEventPosToCtrlWindow(d);if(this.getDragObj().ownerDocument==saw.dnd._getControllerWindow().document){if(f[1]<10){f[1]=10}else{if(f[1]>saw.getClientHeight(c.document)){f[1]=saw.getClientHeight(c.document)}}this.setDragObjPos(f[0],f[1]);return}var b=saw.dnd._getFramePosToCtrlWindow(c);if(c==saw.dnd._getControllerWindow()){this.setDragObjPos(f[0]-b[0],f[1]-b[1])}else{this.setDragObjPos(f[0]-b[0]+saw.getDocumentScrollLeft(c.document),f[1]-b[1]+saw.getDocumentScrollTop(c.document))}};obips.Dialog.Viewer.DragObject.prototype.onMouseDown=function(b){var a=saw.getEventPageX(b);var c=saw.getEventPageY(b);this.autoOffset(a,c);this.setDragObjPos(a,c)};obips.Dialog.Viewer.DragObject.prototype.startDrag=function(b,a,c){saw.disableSelectionOnNode();saw.dnd._disableBrowserDrag()};obips.Dialog.Viewer.DragObject.prototype.onDrag=function(a){this.alignDragObjToMouse(a)};obips.Dialog.Viewer.DragObject.prototype.endDrag=function(a){saw.enableSelectionOnNode();saw.dnd._enableBrowserDrag()};obips.Dialog.Viewer.updateButtonText=function(b,a){if(b.tagName=="A"){b.replaceChild(document.createTextNode(a),b.firstChild)}else{b.value=a}};obips.Dialog.Controller=function(b){obips.Dialog.Controller.baseConstructor.call(this,b);if(b.model.renderMode!=obips.Dialog.Model.RenderMode.INLINE){var c=new obips.Callback(this,this._EnterKeyPressHandler);var a=new obips.Callback(this,this.cancelDialog);this.tDialogTabStop=new obips.SimpleEnterAndEscapeKeyTabStop(this.viewer.layoutTable,c,a);this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.Dialog.Model.EventType.TITLE_CHANGED,new obips.Callback(this,this.titleChangedHandler)));this.viewer.cancelButton.onclick=obips.Dialog.Controller.cancelButtonHandler;this.viewer.okButton.onclick=obips.Dialog.Controller.okButtonHandler;this.viewer.okButtonTabStop=new obips.SpaceBarAndEnterKeyTabStop(this.viewer.cancelButton,a);this.viewer.cancelButtonTabStop=new obips.SpaceBarAndEnterKeyTabStop(this.viewer.okButton,new obips.Callback(this,this._okDialogInternal))}};extend(obips.Dialog.Controller,obips.FloatingWindow.Controller);obips.Dialog.Controller.prototype._okDialogInternal=function(){this.okDialog()};obips.Dialog.Controller.prototype.titleChangedHandler=function(a){this.viewer.updateTitle()};obips.Dialog.Controller.prototype._EnterKeyPressHandler=function(b){var c=saw.getEventTarget(b);if(c){var a=c.tagName;if(a){a=a.toLowerCase()}if(c!=this.viewer.cancelButton){if(a!="textarea"&&a!="a"&&!(a=="input"&&b.target.type=="button")){this.okDialog()}}}};obips.Dialog.Controller.cancelButtonHandler=function(a){var b=obips.FloatingWindow.Viewer.getViewerFromEvent(a);if(!b.cancelButton.isButtonDisabled){b.controller.cancelDialog.call(b.controller,a);obips.BrowserEventFramework.cancelBubble(a)}return false};obips.Dialog.Controller.okButtonHandler=function(a){var b=obips.FloatingWindow.Viewer.getViewerFromEvent(a);if(!b.okButton.isButtonDisabled){b.controller.okDialog.call(b.controller)}return false};obips.Dialog.Controller.prototype.cancelDialog=function(){this.closeDialog();if(this.viewer.model.onCancel){this.viewer.model.onCancel.exec()}};obips.Dialog.Controller.prototype.okDialog=function(){if(!this.viewer.okButton.isButtonDisabled){var a=this.validateDialog();if(a){this.updateModel();this.closeDialog();if(this.viewer.model.callback){this.viewer.model.callback.exec(this.viewer.model)}}}};obips.Dialog.Controller.prototype.closeDialog=function(){this.destroyWindow();this.viewer.floatingWindowManager.hideTransientWindow();var a=this;setTimeout(function(){a.viewer.focusLaunchElement()},200);if(this.viewer.focusFieldOnExit){obips.asyncCall(new obips.Callback(null,function(c){try{c.focus()}catch(b){}}),200,this.viewer.focusFieldOnExit)}};obips.Dialog.Controller.prototype.updateModel=function(){};obips.Dialog.Controller.prototype.validateDialog=function(){return true};obips.Dialog.XUIDialog=function(){};obips.Dialog.XUIDialog.Model=function(c,b,a){this.dialogDef=b;this.contentDiv=a;obips.Dialog.XUIDialog.Model.baseConstructor.call(this,this.dialogDef.title,c)};extend(obips.Dialog.XUIDialog.Model,obips.Dialog.Model);obips.Dialog.XUIDialog.Viewer=function(tModel,tAdaptor){obips.Dialog.XUIDialog.Viewer.baseConstructor.call(this,tModel,obips.FloatingWindow.Manager.getSingleton());var tDialogDef=this.model.dialogDef;var eid=tAdaptor.id;if(tDialogDef.buttonText){var tButtonId=eid+"ExtraButtonSpan";this.customButton=this._insertButton(tDialogDef.buttonText,tButtonId,null,this.okButton,tDialogDef.buttonIconSrc);this.customButton.id=tButtonId;var customButtonFloatClass;if(tDialogDef.buttonFloatOrientation.toLowerCase()=="right"){customButtonFloatClass="dialogFloatRight"}else{customButtonFloatClass="dialogFloatLeft"}obips.CSS.addClassToElement(this.customButton,customButtonFloatClass);this.customButton.title=tDialogDef.buttonTip;this.customButton.onclick=function(event){eval(tDialogDef.buttonScript);return false}}if(tAdaptor.type=="YesNo"){obips.Dialog.Viewer.updateButtonText(this.okButton,this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogYes").getString());this.okButton.id=eid+"ButtonYes";this.noButton=this._insertButton(this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogNo").getString(),"No",null,this.buttons.Cancel);this.noButton.id=eid+"ButtonNo";this.noButton.onclick=obips.Dialog.Controller.cancelButtonHandler;this.cancelButton.id=eid+"ButtonCancel";if(!tDialogDef.showCancel){this.cancelButton.style.display="none"}}else{if(tAdaptor.type=="Close"){this.okButton.style.display="none";this.cancelButton.id=eid+"Button";obips.Dialog.Viewer.updateButtonText(this.cancelButton,this.resourceManager.getResource(obips.Dialog.resourceFile,"kmsgUICDialogCloseDialog").getString())}else{this.okButton.id=eid+"xuidialogok";this.cancelButton.id=eid+"xuidialogcancel";this.okButton.name="xuidialogok";this.cancelButton.name="xuidialogcancel"}}this.controller=new obips.Dialog.XUIDialog.Controller(this);this.contentDiv=this.model.contentDiv;saw.moveAllChildren(this.contentDiv,this.bodyDiv);var sDivID=this.contentDiv.id;this.contentDiv.id="";this.bodyDiv.id=sDivID;this.bodyDiv.editor=tAdaptor.editor;this.bodyDiv.panel=tAdaptor;if(is_ie7){this.bodyDiv.style.overflow="auto"}this.prepareDisplay()};extend(obips.Dialog.XUIDialog.Viewer,obips.Dialog.Viewer);obips.Dialog.XUIDialog.Controller=function(a){obips.Dialog.XUIDialog.Controller.baseConstructor.call(this,a)};extend(obips.Dialog.XUIDialog.Controller,obips.Dialog.Controller);obips.Dialog.XUIDialog.Controller.prototype.cleanupBeforeDestroy=function(){saw.moveAllChildren(this.viewer.bodyDiv,this.viewer.contentDiv);var a=this.viewer.bodyDiv.id;this.viewer.bodyDiv.id="";this.viewer.contentDiv.id=a};obips.Dialog.XUIDialog.Controller.prototype.okDialog=function(){if(this.viewer.okButton.isButtonDisabled){return}var a=this.validateDialog();if(a){this.updateModel();if(this.viewer.model.callback){if(this.viewer.model.callback.functionPointer.call(this.viewer.model.callback.thisContext,this.viewer.model)){this.closeDialog()}}}};obips.Dialog.XUIDialog.Controller.prototype.cancelDialog=function(a){var b=this.viewer.model.onCancel&&this.viewer.model.onCancel.exec(a);if(b!==false){this.closeDialog()}};