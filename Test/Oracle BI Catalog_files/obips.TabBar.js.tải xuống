obips.TabBar=function(){};obips.TabBar.resourceFile="uicomponents/obips.TabBar/obips.TabBar.xml";obips.TabBar.getImgUrl=function(a){return obips.ResourceManager.getSingleton().getURL(obips.TabBar.resourceFile,a).url};obips.TabBar.Model=function(g,i,c,a,b,e,j,k,h,f,d){obips.TabBar.Model.baseConstructor.call(this);this.id=g;this.level=i;this.tabs=c;this.selectedTabIndex=a||0;this.supportsTabClosing=b;this.isTabBarOnly=e||false;this.tabs[this.selectedTabIndex].isSelected=true;this.additionalToolbarDOMElement=j;this.additionalToolbarCSSClass=k;this.additionalTabBarCSSClass=h;this.prepareResizeCallback=f;this.overflowRequired=(d==false)?d:true};extend(obips.TabBar.Model,obips.Observable);obips.TabBar.Model.Level=function(){};obips.TabBar.Model.Level.PRIMARY_LEVEL="primaryLevel";obips.TabBar.Model.Level.SECONDARY_LEVEL="secondaryLevel";obips.TabBar.Model.Level.TERTIARY_LEVEL="tertiaryLevel";obips.TabBar.Model.Level.QUATERNARY_LEVEL="quaternaryLevel";obips.TabBar.Model.prototype.enableNonSelectedTabs=function(b){for(var a=0;a<this.tabs.length;a++){if(!this.tabs[a].isSelected){if(b){this.enableTab(this.tabs[a].id)}else{this.disableTab(this.tabs[a].id)}}}};obips.TabBar.Model.prototype.enableTab=function(b){var a=this.getTabById(b);if(a&&!a.isEnabled){a.isEnabled=true;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_ENABLED,a))}};obips.TabBar.Model.prototype.disableTab=function(b){var a=this.getTabById(b);if(a&&a.isEnabled){a.isEnabled=false;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_DISABLED,a))}};obips.TabBar.Model.prototype.addTab=function(a){for(var d=0;d<this.tabs.length;d++){var c=this.tabs[d];if(this.level!=obips.TabBar.Model.Level.QUATERNARY_LEVEL){if(!c.id||saw.trim(c.id)==""){throw new Error("Cannot add a tab with a null or blank ID.")}if(!c.name||saw.trim(c.name)==""){throw new Error("Cannot add a tab with a null or blank caption.")}}if(c.id==a.id){this.selectTab(a.id);throw new Error("A tab with the ID "+a.id+" already exists in the tabbar.")}}if(this.tabs.length>1&&this.level==obips.TabBar.Model.Level.QUATERNARY_LEVEL){var b=new obips.TabBar.TabModel.Icon(obips.TabBar.getImgUrl("obips.TabBar/l4_spacer_bg")," ");var e=new obips.TabBar.TabModel("Separator"+this.tabs.length,"","",false,null,b);obips.Array.append(this.tabs,e,true)}obips.Array.append(this.tabs,a,true);this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_ADDED,a));this.selectTab(a.id)};obips.TabBar.Model.prototype.removeTab=function(c){var b=this.getTabById(c);if(b){var d;var a=obips.Array.indexOf(this.tabs,b);obips.Array.remove(this.tabs,b);if(b.isSelected){d=(this.selectedTabIndex>0)?this.selectedTabIndex-1:0;this.selectedTabIndex=null;this.selectTab(this.tabs[d].id);b.isSelected=false}else{if(this.selectedTabIndex>a){this.selectedTabIndex--}}this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_REMOVED,b))}};obips.TabBar.Model.prototype.renameTab=function(b,c){var a=this.getTabById(b);if(a&&a.name!=c){a.name=c;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_RENAMED,a))}};obips.TabBar.Model.prototype.changeTabDescription=function(b,c){var a=this.getTabById(b);if(a&&a.description!=c){a.description=c;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_DESCRIPTION_CHANGED,a))}};obips.TabBar.Model.prototype.changeTabID=function(d,a){if(!a||saw.trim(a)==""){throw new Error("Cannot change the Tab ID to null or blank.")}var c=this.getTabById(d);if(c&&c.id!=a){c.id=a;var b=new obips.TabBar.EventContext.TabIDChangedEventContext(c,d);this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_ID_CHANGED,b))}};obips.TabBar.Model.prototype.getTabById=function(d){var a=null;for(var b=0;b<this.tabs.length;b++){var c=this.tabs[b];if(c.id==d){a=c;break}}return a};obips.TabBar.Model.prototype.getTabIDs=function(){var a=new Array();for(var b=0;b<this.tabs.length;b++){a.push(this.tabs[b].id)}return a};obips.TabBar.Model.prototype.getTabCaptions=function(){var a=new Array();for(var b=0;b<this.tabs.length;b++){a.push(this.tabs[b].name)}return a};obips.TabBar.Model.prototype.getSelectedTabId=function(){var a=null;for(var b=0;b<this.tabs.length;b++){var c=this.tabs[b];if(c.isSelected){a=c.id;break}}return a};obips.TabBar.Model.prototype.selectTab=function(c){if(this.tabLocker&&this.tabLocker.exec(c)){return}var b=this.getTabById(c);if(b&&!b.isSelected){this.preSelectedTabIndex=this.selectedTabIndex;var a=(this.selectedTabIndex!=null)?this.tabs[this.selectedTabIndex]:null;if(a){a.isSelected=false;this.selectedTabIndex=null;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_DESELECTED,a))}b.isSelected=true;var d=obips.Array.indexOf(this.tabs,b);this.selectedTabIndex=d;this.notify(new obips.Observable.Event(obips.TabBar.EventType.TAB_SELECTED,b));this.notify(new obips.Observable.Event(obips.TabBar.EventType.AFTER_TAB_SELECTED,b))}};obips.TabBar.Model.prototype.resetToPriorTabIndex=function(){if(this.preSelectedTabIndex==null||this.preSelectedTabIndex==this.selectedTabIndex||this.preSelectedTabIndex>=this.tabs.length||this.preSelectedTabIndex<0){return false}var b=this.tabs[this.preSelectedTabIndex];if(b==null){return false}var a=(this.selectedTabIndex!=null)?this.tabs[this.selectedTabIndex]:null;if(a){a.isSelected=false}b.isSelected=true;this.selectedTabIndex=this.preSelectedTabIndex;return true};obips.TabBar.Model.prototype.setTabLocker=function(a){this.tabLocker=a};obips.TabBar.Model.prototype.setIcon=function(a,b){};obips.TabBar.Model.prototype.setAdditionalToolbarDOMElement=function(a){this.additionalToolbarDOMElement=a};obips.TabBar.TabModel=function(b,a,e,d,g,c,f){this.id=b;this.name=a;this.description=e;this.isEnabled=d;this.closeCallback=g;this.reloadCallback=f;this.isSelected=false;if(c){this.icon=c}if(!this.id||saw.trim(this.id)==""){throw new Error("Cannot create a tab with a null or blank ID.")}};obips.TabBar.TabModel.prototype.setIcon=function(a){this.icon=a};obips.TabBar.TabModel.Icon=function(b,a){this.imageUrl=b;this.toolTipText=a};obips.TabBar.EventType=function(){};obips.TabBar.EventType.TAB_ENABLED="tabEnabled";obips.TabBar.EventType.TAB_DISABLED="tabDisabled";obips.TabBar.EventType.TAB_ADDED="tabAdded";obips.TabBar.EventType.TAB_REMOVED="tabRemoved";obips.TabBar.EventType.TAB_SELECTED="tabSelected";obips.TabBar.EventType.TAB_DESELECTED="tabDeselected";obips.TabBar.EventType.TAB_CLOSE_ATTEMPT="tabCloseAttempt";obips.TabBar.EventType.TAB_CLOSE_FORCED="tabCloseForced";obips.TabBar.EventType.TAB_RENAMED="tabRenamed";obips.TabBar.EventType.TAB_ID_CHANGED="tabIDChanged";obips.TabBar.EventType.TAB_ICON_CHANGED="tabIconChanged";obips.TabBar.EventType.TAB_DESCRIPTION_CHANGED="tabDescriptionChanged";obips.TabBar.EventType.AFTER_TAB_SELECTED="tabAfterSelected";obips.TabBar.EventContext=function(){};obips.TabBar.EventContext.TabIDChangedEventContext=function(b,a){this.tab=b;this.oldID=a};obips.TabBar.Viewer=function(b,c,a){this.model=b;this.container=c;this.resourceManager=a;this.resourceManager.load(obips.TabBar.resourceFile);this.controller=new obips.TabBar.Controller(this);this.render()};obips.TabBar.Viewer.prototype._renderTabsAndSetFocusToSelectedTab=function(a){var g=null;var f=this._getTabViewerConstructor();for(var d=0;d<this.model.tabs.length;d++){var e=this.model.tabs[d];var b=new f(this,e);if(a){new obips.TabBar.TabBodyViewer(b)}if(e.isSelected){g=e.id}}if(g){var c=this.getTabViewerByTabModelID(g);if(c.hasLayout){c.focus()}}};obips.TabBar.Viewer.prototype.render=function(j){if(j==null){j=true}var s=j&&!this.model.isTabBarOnly;if(!this.containingDiv){this.containingDiv=document.createElement("div");this.containingDiv.className="tabAreaContainer";this.containingDiv.tabBarViewer=this;var l=new obips.BrowserEventFramework.EventRouter(this.containingDiv,"onkeydown");l.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this.controller,this.controller._keyDownHandler)))}var i=null;var k=null;var p=null;var b=null;var c=null;if(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL){i="masterPrimaryLayer primaryContentRegion";k="primaryTabBarSpacer";tabBarClassName="tabBar";p=obips.TabBar.getImgUrl("obips.TabBar/l1_tabbar_start");b=obips.TabBar.getImgUrl("overflow_global_left_ena");c=obips.TabBar.getImgUrl("overflow_global_right_ena")}else{if(this.model.level==obips.TabBar.Model.Level.SECONDARY_LEVEL){i="masterSecondaryLayer secondaryContentRegion";k="secondaryTabBarSpacer";tabBarClassName="tabBar";p=obips.TabBar.getImgUrl("obips.TabBar/l2_tabbar_start");b=obips.TabBar.getImgUrl("overflow_left_ena");c=obips.TabBar.getImgUrl("overflow_right_ena")}else{if(this.model.level==obips.TabBar.Model.Level.TERTIARY_LEVEL){i="masterTertiaryLayer tertiaryContentRegion";k="tertiaryTabBarSpacer";tabBarClassName="tertiaryTabBar";p=null;b=obips.TabBar.getImgUrl("overflow_left_ena");c=obips.TabBar.getImgUrl("overflow_right_ena")}else{if(this.model.level==obips.TabBar.Model.Level.QUATERNARY_LEVEL){i="quaternaryContentRegion";k="quaternaryTabBarSpacer";tabSeparatorClassName="quaternaryTabBarSeparator";tabBarClassName="quaternaryTabBar";p=null;b=obips.TabBar.getImgUrl("overflow_left_ena");c=obips.TabBar.getImgUrl("overflow_right_ena")}}}}if(this.tabBarTable){this.tabBarTable.parentNode.removeChild(this.tabBarTable)}this.tabBarTable=document.createElement("table");if(saw.getSessionInfos().isScreenReaderMode()){this.tabBarTable.setAttribute("role","presentation")}this.tabBarTable.className=tabBarClassName;this.tabBarTable.width="100%";this.tabBarTable.cellPadding="0px";this.tabBarTable.cellSpacing="0px";if(this.model.overflowRequired){this.tabBarTable.style.tableLayout="fixed"}if(this.model.additionalTabBarCSSClass){obips.CSS.addClassToElement(this.tabBarTable,this.model.additionalTabBarCSSClass)}var a=document.createElement("tbody");this.tabBarTable.appendChild(a);var u=document.createElement("tr");a.appendChild(u);this.tabBarTableCellStart=document.createElement("td");this.tabBarTableCellStart.className=k+" tabBarTableCellStartWidth";this.tabBarTableCellStart.style.width="0px";u.appendChild(this.tabBarTableCellStart);this.tabBarOverflowStartImg=document.createElement("img");this.tabBarOverflowStartImg.src=b;this.tabBarOverflowStartImg.alt=this.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgUICTabBarMorePageIcon").getString();var o=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowStartImg,"onmouseover");o.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseOverOverflowIconHandler)));var n=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowStartImg,"onmouseout");n.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseOutOverflowIconHandler)));var t=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowStartImg,"onmousedown");t.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseDownOverflowIconHandler)));var r=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowStartImg,"onclick");r.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._clickOverflowIconHandler)));this.tabBarTableCellStart.appendChild(this.tabBarOverflowStartImg);if(p!=null){this.tabBarTableCellStart.className+=" tabImageStart";this.tabBarOverflowStartImg.className="obipsTabBarOverflow"}this.tabBarTabsCell=document.createElement("td");this.tabBarTabsCell.className=k;if(!this.resizeEL){this.resizeEL=new obips.Observable.EventListener(null,new obips.Callback(this,this._resizeHandler));obips.BrowserEventFramework.EventRouter.getEventRouter(window,"onresize").addEventListener(this.resizeEL)}u.appendChild(this.tabBarTabsCell);this.tabBarTabsDiv=document.createElement("div");this.tabBarTabsDiv.style.overflow="hidden";this.tabBarTabsCell.appendChild(this.tabBarTabsDiv);this.tabBarTabsTable=document.createElement("table");if(saw.getSessionInfos().isScreenReaderMode()){this.tabBarTabsTable.setAttribute("role","presentation")}this.tabBarTabsTable.border="0";this.tabBarTabsTable.cellSpacing="0";this.tabBarTabsTable.cellPadding="0";this.tabBarTabsDiv.appendChild(this.tabBarTabsTable);var e=document.createElement("tbody");this.tabBarTabsTable.appendChild(e);this.tabBarTabsTR=document.createElement("tr");e.appendChild(this.tabBarTabsTR);this.tabBarTableCellToolbar=document.createElement("td");this.tabBarTableCellToolbar.className=k+" obipsTabBarToolbarCell";if(this.model.additionalToolbarCSSClass){obips.CSS.addClassToElement(this.tabBarTableCellToolbar,this.model.additionalToolbarCSSClass)}u.appendChild(this.tabBarTableCellToolbar);this.tabBarOverflowEndImg=document.createElement("img");this.tabBarOverflowEndImg.src=c;this.tabBarOverflowEndImg.alt=this.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgUICTabBarMorePageIcon").getString();this.tabBarOverflowEndImg.style.display="none";this.tabBarOverflowEndImg.className="obipsTabBarOverflow";var h=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowEndImg,"onmouseover");h.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseOverOverflowIconHandler)));var f=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowEndImg,"onmouseout");f.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseOutOverflowIconHandler)));var m=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowEndImg,"onmousedown");m.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._mouseDownOverflowIconHandler)));var v=new obips.BrowserEventFramework.EventRouter(this.tabBarOverflowEndImg,"onclick");v.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._clickOverflowIconHandler)));this.tabBarTableCellToolbar.appendChild(this.tabBarOverflowEndImg);if(this.model.supportsTabClosing){this.closeButton=document.createElement("img");this.closeButton.alt="";if(this.model.selectedTabIndex!=null&&this.model.tabs[this.model.selectedTabIndex].closeCallback!=null){this.closeButton.src=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonEnabled").url;this.closeButton.className="obipsTabBarCloseButton";this.closeButton.id=this.model.id+"_closeButton";this.closeButton.onmouseover=this.controller.mouseOverCloseButtonHandler;this.closeButton.onmouseout=this.controller.mouseOutCloseButtonHandler;this.closeButton.onmousedown=this.controller.mouseDownCloseButtonHandler;this.closeButton.onclick=this.controller.clickCloseButtonHandler;var q=this.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgUICTabBarCloseTab").getString();this.closeButton.alt=q;this.closeButton.title=q;this.closeButton.tabIndex=0;var d=new obips.BrowserEventFramework.EventRouter(this.closeButton,"onkeypress");d.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this.controller,this.controller._closeButtonKeyPressHandler)))}else{this.closeButton.src=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonDisabled").url}this.tabBarTableCellToolbar.appendChild(this.closeButton)}if(this.model.additionalToolbarDOMElement){this.tabBarTableCellToolbar.appendChild(this.model.additionalToolbarDOMElement)}if(!this.tabBodiesDiv){this.tabBodiesDiv=document.createElement("div");this.tabBodiesDiv.className=i;this.containingDiv.appendChild(this.tabBodiesDiv)}this.containingDiv.insertBefore(this.tabBarTable,this.tabBodiesDiv);if(this.containingDiv.parentNode==null||this.containingDiv.parentNode.tagName==null){this.container.appendChild(this.containingDiv)}this._renderTabsAndSetFocusToSelectedTab(s);this.ensureVisibleSelectedTab();var g=new obips.BrowserEventFramework.EventRouter(window,"onload");g.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this._onViewLoaded)))};obips.TabBar.Viewer.prototype._onViewLoaded=function(){this._showHideTabBottomBorder()};obips.TabBar.Viewer.prototype._getTabViewerConstructor=function(){var a=obips.TabBar.TabViewer;switch(this.model.level){case"primaryLevel":a=obips.TabBar.PrimaryTabViewer;break;case"secondaryLevel":a=obips.TabBar.SecondaryTabViewer;break;case"tertiaryLevel":a=obips.TabBar.TertiaryTabViewer;break;case"quaternaryLevel":a=obips.TabBar.QuaternaryTabViewer;break}return a};obips.TabBar.Viewer.prototype.focusSelectedTab=function(){var a=this.model.getSelectedTabId();if(a){var b=this.getTabViewerByTabModelID(a);try{b.focus()}catch(c){}}};obips.TabBar.Viewer.prototype.setTabWidth=function(a){this.tabBarTable.setAttribute("width",a);this.tabBarTable.style.width=a+"px"};obips.TabBar.Viewer.prototype.resize=function(){this._resizeHandler()};obips.TabBar.Viewer.prototype._resizeHandler=function(){if(saw.userAgent.is_ie){if(this.resizeHanderTimer){clearTimeout(this.resizeHanderTimer)}var a=this;this.resizeHanderTimer=setTimeout(function(){a._doResizeImmediately()},100)}else{this._doResizeImmediately()}};obips.TabBar.Viewer.prototype._doResizeImmediately=function(){if(typeof(obips)=="undefined"||!obips||!top){return}if(this.tabBarTabsDiv.offsetWidth==0){return}if(this.model.prepareResizeCallback){this.model.prepareResizeCallback.exec()}this.ensureVisibleSelectedTab()};obips.TabBar.Viewer.prototype._mouseOverOverflowIconHandler=function(b){var c=null;var a=null;if(b.target==this.tabBarOverflowStartImg){c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_left_ovr":"overflow_left_ovr";a=this.tabBarOverflowStartImg}else{c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_right_ovr":"overflow_right_ovr";a=this.tabBarOverflowEndImg}a.src=obips.TabBar.getImgUrl(c);a.alt=this.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgUICTabBarMorePageIcon").getString();a.className="obipsTabBarOverflowOver"};obips.TabBar.Viewer.prototype._mouseOutOverflowIconHandler=function(b){var c=null;var a=null;if(b.target.src==this.tabBarOverflowStartImg.src){c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_left_ena":"overflow_left_ena";a=this.tabBarOverflowStartImg}else{c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_right_ena":"overflow_right_ena";a=this.tabBarOverflowEndImg}a.src=obips.TabBar.getImgUrl(c);a.alt=this.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgUICTabBarMorePageIcon").getString();a.className="obipsTabBarOverflow"};obips.TabBar.Viewer.prototype._mouseDownOverflowIconHandler=function(b){var c=null;var a=null;if(b.target==this.tabBarOverflowStartImg){c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_left_ovr":"overflow_left_dwn";a=this.tabBarOverflowStartImg}else{c=(this.model.level==obips.TabBar.Model.Level.PRIMARY_LEVEL)?"overflow_global_right_ovr":"overflow_right_dwn";a=this.tabBarOverflowEndImg}a.src=obips.TabBar.getImgUrl(c);a.alt="";a.className="obipsTabBarOverflowDown"};obips.TabBar.Viewer.prototype._clickOverflowIconHandler=function(k){var e=new Array();var c=this.model.tabs.length;var b=this._getTabBarTabsDivScrollLeft();var d=saw.calcAbsoluteLeft(this.tabBarTabsDiv);if(k.target==this.tabBarOverflowStartImg){for(var f=0;f<c;f++){var a=this.model.tabs[f];var g=this.getTabViewerByTabModelID(a.id);var j=saw.isRToL()?saw.calcAbsoluteLeft(g.tabTable.offsetParent)-d:g.tabTable.offsetParent.offsetLeft;if(j<b){e.unshift(new obips.TabBar.Viewer.OverflowMenuOption(a.id,a.name,a.description,new obips.Callback(this,this._overflowMenuOptionClicked)))}else{break}}}else{for(var f=c-1;f>=0;f--){var a=this.model.tabs[f];var g=this.getTabViewerByTabModelID(a.id);var j=saw.isRToL()?saw.calcAbsoluteLeft(g.tabTable.offsetParent)-d:g.tabTable.offsetParent.offsetLeft;if(j+g.tabTable.offsetParent.offsetWidth>b+this.tabBarTabsDiv.offsetWidth){e.unshift(new obips.TabBar.Viewer.OverflowMenuOption(a.id,a.name,a.description,new obips.Callback(this,this._overflowMenuOptionClicked)))}else{break}}}var h=new obips.ContextMenu.Model(k,e);obips.ContextMenu.Manager.getSingleton().display(h,k)};obips.TabBar.Viewer.prototype._overflowMenuOptionClicked=function(b){var a=b.context.menuOption.id;this.model.selectTab(a)};obips.TabBar.Viewer.prototype.getTabViewerByTabModelID=function(e){var a=null;var d=this.container.getElementsByTagName("TABLE");for(var c=0;c<d.length;c++){var b=d[c];if((b.className.indexOf("tabContainer")>-1)&&b.tabViewer.tab.id==e){a=b.tabViewer;break}}return a};obips.TabBar.Viewer.prototype.getTabBodyViewerByTabModelID=function(e){var a=null;if(!this.model.isTabBarOnly){var c=this.tabBodiesDiv.getElementsByTagName("DIV");for(var b=0;b<c.length;b++){var d=c[b];if(d.id==e+"_body"){a=d.tabBodyViewer;break}}}return a};obips.TabBar.Viewer.getTabBarViewerFromEvent=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);var b=a.target;while(b&&b.tagName!="DIV"){b=b.parentNode}return((b)?b.tabBarViewer:null)};obips.TabBar.Viewer.prototype.getTabBarTableHeight=function(){if(this.tabBarTable){return this.tabBarTable.offsetHeight}};obips.TabBar.Viewer.prototype._showHideTabBottomBorder=function(){if(this.container.offsetWidth>0){for(var a=0;a<this.model.tabs.length;a++){this.getTabViewerByTabModelID(this.model.tabs[a].id)._showHideTabBottomBorder()}}};obips.TabBar.Viewer.prototype.ensureVisibleSelectedTab=function(){var a=this.model.getSelectedTabId();if(a){this.ensureVisibleTab(a)}};obips.TabBar.Viewer.prototype.ensureVisibleTab=function(b){var a=this.getTabViewerByTabModelID(b);if(a){this._ensureVisibleTab(a)}this._updateOverflowIconsVisibility();this._showHideTabBottomBorder()};obips.TabBar.Viewer.prototype._ensureVisibleTab=function(c){var b=c.tabTable.offsetParent;if(!b){return}if(!saw.isRToL()){var g=c.tabTable.offsetLeft+b.offsetLeft+c.tabTable.offsetWidth-this.tabBarTabsDiv.offsetWidth;var d=Math.max(0,g);this.tabBarTabsDiv.scrollLeft=Math.min(d,c.tabTable.offsetLeft+b.offsetLeft)}else{var a=saw.calcAbsoluteLeft(b);var e=saw.calcAbsoluteLeft(this.tabBarTabsDiv)+this.tabBarTabsDiv.offsetWidth;var f=Math.min(Math.max(0,a+b.offsetWidth-e),a);if(saw.userAgent.is_nav&&f>0){f=-f}if(saw.userAgent.is_ie7||saw.userAgent.is_safari||saw.userAgent.is_chrome){this.scrollLeft=f;this.tabBarTabsDiv.scrollLeft=b.offsetLeft}else{this.tabBarTabsDiv.scrollLeft=f}}};obips.TabBar.Viewer.prototype._getTabBarTabsDivScrollLeft=function(){var a=null;if(typeof(this.scrollLeft)=="undefined"||this.scrollLeft==null){a=Math.abs(this.tabBarTabsDiv.scrollLeft)}else{a=this.scrollLeft}return a};obips.TabBar.Viewer.prototype._updateOverflowIconsVisibility=function(){var c=this.tabBarTabsDiv;var a=this.tabBarTabsTable.offsetWidth;var b=c.offsetWidth;var d=this._getTabBarTabsDivScrollLeft();if(d>0){if(saw.userAgent.is_ie7){this.tabBarOverflowStartImg.style.display=""}this.tabBarOverflowStartImg.style.display="inline";this.tabBarTableCellStart.style.width=""}else{this.tabBarOverflowStartImg.style.display="none";this.tabBarTableCellStart.style.width="0px"}this.tabBarOverflowEndImg.style.display=(d+b<a)?"inline":"none"};obips.TabBar.Viewer.OverflowMenuOption=function(b,c,d,a){obips.TabBar.Viewer.OverflowMenuOption.baseConstructor.call(this,c,d,null,a,null,false);this.id=b};extend(obips.TabBar.Viewer.OverflowMenuOption,obips.ContextMenu.MenuOption);obips.TabBar.Viewer.prototype.getTabBodiesDivHorizontalPadding=function(){if(this.tabBodiesDiv){var a=saw.getComputedStyle(this.tabBodiesDiv);return saw.cssLengthToInt(a.paddingLeft)+saw.cssLengthToInt(a.paddingRight)}return 0};obips.TabBar.Viewer.prototype.getTabBodiesDivVerticalPadding=function(){if(this.tabBodiesDiv){var a=saw.getComputedStyle(this.tabBodiesDiv);return saw.cssLengthToInt(a.paddingTop)+saw.cssLengthToInt(a.paddingBottom)}return 0};obips.TabBar.TabViewer=function(l,m){this.tabBarViewer=l;this.tab=m;var j=obips.Array.indexOf(this.tabBarViewer.model.tabs,this.tab);var p=(j==0)?true:false;var n=(j==this.tabBarViewer.model.tabs.length-1)?true:false;var c=this.tabBarViewer.model.level;var k=this.tab.isSelected;var e=(this.tabBarViewer.model.selectedTabIndex==j-1);var h=(this.tabBarViewer.model.selectedTabIndex==j+1);var w=this.tab.isEnabled;var b=document.createElement("td");this.tabTable=document.createElement("table");if(saw.getSessionInfos().isScreenReaderMode()){this.tabTable.setAttribute("role","presentation")}this.tabTable.cellPadding=0;this.tabTable.cellSpacing=0;this.tabTable.border=0;var t=(this.tabBarViewer.resourceManager.getStyleProperty("tabBarTabStartImgRequired")=="true")?true:false;var q=(this.tabBarViewer.resourceManager.getStyleProperty("tabBarTabEndImgRequired")=="true")?true:false;if(k){if(!t&&!q){obips.CSS.addClassToElement(this.tabTable,this._getSelectedCSSClassName())}obips.CSS.addClassToElement(this.tabTable,"tabContainerSelected");if(c==obips.TabBar.Model.Level.QUATERNARY_LEVEL){obips.CSS.addClassToElement(this.tabTable,"quarternaryTabContainerSelected")}}else{if(!t&&!q){if(this.tab.isEnabled){obips.CSS.addClassToElement(this.tabTable,this._getUnselectedCSSClassName())}else{obips.CSS.addClassToElement(this.tabTable,this._getDisabledCSSClassName())}}obips.CSS.addClassToElement(this.tabTable,"tabContainer");if(c==obips.TabBar.Model.Level.QUATERNARY_LEVEL){obips.CSS.addClassToElement(this.tabTable,"quarternaryTabContainer")}}this.tabTable.id=this.tab.id+"_tab";this.tabTable.tabViewer=this;if(this.tab.isEnabled&&!k){this.tabTable.onmouseover=this.tabBarViewer.controller.mouseOverEnabledTabHandler;this.tabTable.onmouseout=this.tabBarViewer.controller.mouseOutEnabledTabHandler;this.tabTable.onclick=this.tabBarViewer.controller.clickEnabledTabHandler;var u=new obips.BrowserEventFramework.EventRouter(this.tabTable,"onkeypress");u.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this.tabBarViewer.controller,this.tabBarViewer.controller._keyDownHandler)))}var a=document.createElement("tbody");this.tabTable.appendChild(a);var d=document.createElement("tr");a.appendChild(d);if(t){var i=document.createElement("td");if(c!=obips.TabBar.Model.Level.QUATERNARY_LEVEL){this.startImage=document.createElement("img");this.startImage.className="tabImage";this.startImage.alt="";if(k){this.startImage.src=obips.TabBar.getImgUrl(this._getSelectedStartImgID())}else{if(e){this.startImage.src=obips.TabBar.getImgUrl(this._getPreviousSelectedStartImgID())}else{this.startImage.src=obips.TabBar.getImgUrl(this._getUnselectedStartImgID())}}i.appendChild(this.startImage)}d.appendChild(i)}this.middleCell=document.createElement("td");if(t||q){if(k){this.middleCell.className=this._getSelectedCSSClassName()}else{if(w){this.middleCell.className=this._getUnselectedCSSClassName()}else{this.middleCell.className=this._getDisabledCSSClassName()}}}this.middleCell.title=this.tab.description||this.tab.name;var s=document.createElement("div");if(saw.getSessionInfos().isScreenReaderMode()){s.setAttribute("role","tab");var v=this.tab.name;if(this.tabBarViewer.model.id=="DashboardPageTabs"){v=this.tabBarViewer.resourceManager.getResource(obips.TabBar.resourceFile,"kmsgPortalDashboardPage").getString();v=v.replace(/@1/g,this.tab.name)}s.setAttribute("aria-label",v)}s.tabIndex=0;this.middleCell.appendChild(s);if(saw.userAgent.is_ie8up){s.style.marginLeft="1px";s.style.marginRight="1px"}if(m.icon){var f=document.createElement("IMG");f.border=0;f.src=m.icon.imageUrl;f.title=m.icon.toolTipText||"";f.alt=m.icon.toolTipText||"";var r=document.createTextNode(" ");s.appendChild(f);s.appendChild(r)}var o=document.createTextNode(this.tab.name);s.appendChild(o);s.title=this.tab.description||this.tab.name;d.appendChild(this.middleCell);if(q){var g=document.createElement("td");if(c!=obips.TabBar.Model.Level.QUATERNARY_LEVEL){this.endImage=document.createElement("img");this.endImage.className="tabImage";this.endImage.alt="";if(n){if(k){this.endImage.src=obips.TabBar.getImgUrl(this._getLastSelectedEndImgID())}else{this.endImage.src=obips.TabBar.getImgUrl(this._getLastUnselectedEndImgID())}}else{if(k){this.endImage.src=obips.TabBar.getImgUrl(this._getNotLastSelectedEndImgID())}else{this.endImage.src=obips.TabBar.getImgUrl(this._getNotLastUnselectedEndImgID())}}g.appendChild(this.endImage)}d.appendChild(g)}b.appendChild(this.tabTable);if(this.tabBarViewer.resourceManager.getStyleProperty("tabBarBottomBorderBlockerRequired")==="true"){this.borderBlocker=document.createElement("div");this.borderBlocker.className="masterTabBarTabBottomBorderBlocker";this.borderBlocker.style.display="none";b.appendChild(this.borderBlocker)}this.tabBarViewer.tabBarTabsTR.appendChild(b)};obips.TabBar.TabViewer.prototype._showHideTabBottomBorder=function(){if(this.borderBlocker){if(this.tab.isSelected){this.borderBlocker.style.display="block";this.borderBlocker.style.left="0px";offsetleft=this.borderBlocker.getBoundingClientRect().left;this.borderBlocker.style.left=this.tabTable.getBoundingClientRect().left-offsetleft+1+"px";var a=this.tabBarViewer.tabBarOverflowEndImg.getBoundingClientRect().left;if(a>0&&a<parseInt(this.borderBlocker.style.left)+this.tabTable.offsetWidth){this.borderBlocker.style.width=(a-parseInt(this.borderBlocker.style.left)-2)+"px"}else{this.borderBlocker.style.width=(this.tabTable.offsetWidth-2)+"px"}}else{this.borderBlocker.style.display="none"}}};obips.TabBar.TabViewer.prototype._getSelectedStartImgID=function(){};obips.TabBar.TabViewer.prototype._getPreviousSelectedStartImgID=function(){};obips.TabBar.TabViewer.prototype._getUnselectedStartImgID=function(){};obips.TabBar.TabViewer.prototype._getLastSelectedEndImgID=function(){};obips.TabBar.TabViewer.prototype._getLastUnselectedEndImgID=function(){};obips.TabBar.TabViewer.prototype._getNotLastSelectedEndImgID=function(){};obips.TabBar.TabViewer.prototype._getNotLastUnselectedEndImgID=function(){};obips.TabBar.TabViewer.prototype._getSelectedCSSClassName=function(){};obips.TabBar.TabViewer.prototype._getUnselectedCSSClassName=function(){};obips.TabBar.TabViewer.prototype._getDisabledCSSClassName=function(){};obips.TabBar.TabViewer.getTabViewerFromEvent=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);var c=a.target;while(c&&c.className.indexOf("tabContainer")==-1){c=c.parentNode}var b=(c)?c.tabViewer:null;return b};obips.TabBar.TabViewer.prototype.focus=function(){this.middleCell.firstChild.focus()};obips.TabBar.TabViewer.prototype.hover=function(){obips.CSS.addClassToElement(this.middleCell,"tabHover")};obips.TabBar.TabViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.middleCell,"tabHover")};obips.TabBar.TabViewer.prototype.showBody=function(){var b=this.tabBarViewer.getTabBodyViewerByTabModelID(this.tab.id).bodyDiv;var a=b.style.display;if(a=="none"){b.style.display="block"}b.style.visibility="visible";if(b.origHeight){b.style.height=b.origHeight}if(b.origWidth){b.style.width=b.origWidth}obips.BrowserEventFramework.queueResizeEvent(500)};obips.TabBar.TabViewer.prototype.hideBody=function(){this.saveHeight();this.saveWidth();var a=this.tabBarViewer.getTabBodyViewerByTabModelID(this.tab.id).bodyDiv;a.style.visibility="hidden";a.style.height="0px";a.style.width="0px"};obips.TabBar.TabViewer.prototype.saveHeight=function(){var a=this.tabBarViewer.getTabBodyViewerByTabModelID(this.tab.id).bodyDiv;var b=(typeof(a.style.height)!="undefined");var c=(b)?a.style.height:"";if(c!=null&&c!=""&c!="0px"){a.origHeight=c}else{a.origHeight="100%"}};obips.TabBar.TabViewer.prototype.saveWidth=function(){var b=this.tabBarViewer.getTabBodyViewerByTabModelID(this.tab.id).bodyDiv;var c=(typeof(b.style.width)!="undefined");var a=(c)?b.style.width:"";if(a!=null&&a!=""&a!="0px"){b.origWidth=a}else{b.origWidth="100%"}};obips.TabBar.TabViewer.prototype.updateIcon=function(){};obips.TabBar.PrimaryTabViewer=function(b,a){obips.TabBar.PrimaryTabViewer.baseConstructor.call(this,b,a)};extend(obips.TabBar.PrimaryTabViewer,obips.TabBar.TabViewer);obips.TabBar.PrimaryTabViewer.prototype._getSelectedStartImgID=function(){return"obips.TabBar/l1_t1_sel_start"};obips.TabBar.PrimaryTabViewer.prototype._getPreviousSelectedStartImgID=function(){return"obips.TabBar/l1_t2_presel_start"};obips.TabBar.PrimaryTabViewer.prototype._getUnselectedStartImgID=function(){return"obips.TabBar/l1_t1_unsel_start"};obips.TabBar.PrimaryTabViewer.prototype._getLastSelectedEndImgID=function(){return"obips.TabBar/l1_tn_sel_end"};obips.TabBar.PrimaryTabViewer.prototype._getLastUnselectedEndImgID=function(){return"obips.TabBar/l1_tn_unsel_end"};obips.TabBar.PrimaryTabViewer.prototype._getNotLastSelectedEndImgID=function(){return"obips.TabBar/l1_t2_sel_end"};obips.TabBar.PrimaryTabViewer.prototype._getNotLastUnselectedEndImgID=function(){return"obips.TabBar/l1_t2_unsel_end"};obips.TabBar.PrimaryTabViewer.prototype._getSelectedCSSClassName=function(){return"masterTabBarTabPrimarySelected masterH3 primaryTabSelected"};obips.TabBar.PrimaryTabViewer.prototype._getUnselectedCSSClassName=function(){return"masterTabBarTabPrimaryEnabled masterH3 primaryTabEnabled"};obips.TabBar.PrimaryTabViewer.prototype._getDisabledCSSClassName=function(){return"masterTabBarTabPrimaryDisabled masterH3 primaryTabDisabled"};obips.TabBar.SecondaryTabViewer=function(b,a){obips.TabBar.SecondaryTabViewer.baseConstructor.call(this,b,a)};extend(obips.TabBar.SecondaryTabViewer,obips.TabBar.TabViewer);obips.TabBar.SecondaryTabViewer.prototype._getSelectedStartImgID=function(){return"obips.TabBar/l2_t1_sel_start"};obips.TabBar.SecondaryTabViewer.prototype._getPreviousSelectedStartImgID=function(){return"obips.TabBar/l2_t2_presel_start"};obips.TabBar.SecondaryTabViewer.prototype._getUnselectedStartImgID=function(){return"obips.TabBar/l2_t1_unsel_start"};obips.TabBar.SecondaryTabViewer.prototype._getLastSelectedEndImgID=function(){return"obips.TabBar/l2_tn_sel_end"};obips.TabBar.SecondaryTabViewer.prototype._getLastUnselectedEndImgID=function(){return"obips.TabBar/l2_tn_unsel_end"};obips.TabBar.SecondaryTabViewer.prototype._getNotLastSelectedEndImgID=function(){return"obips.TabBar/l2_t2_sel_end"};obips.TabBar.SecondaryTabViewer.prototype._getNotLastUnselectedEndImgID=function(){return"obips.TabBar/l2_t2_unsel_end"};obips.TabBar.SecondaryTabViewer.prototype._getSelectedCSSClassName=function(){return"masterH3 masterTabBarTabSecondarySelected secondaryTabSelected"};obips.TabBar.SecondaryTabViewer.prototype._getUnselectedCSSClassName=function(){return"masterH3 masterTabBarTabSecondaryEnabled secondaryTabEnabled"};obips.TabBar.SecondaryTabViewer.prototype._getDisabledCSSClassName=function(){return"masterH3 masterTabBarTabSecondaryDisabled secondaryTabDisabled"};obips.TabBar.TertiaryTabViewer=function(b,a){obips.TabBar.TertiaryTabViewer.baseConstructor.call(this,b,a)};extend(obips.TabBar.TertiaryTabViewer,obips.TabBar.TabViewer);obips.TabBar.TertiaryTabViewer.prototype._getSelectedStartImgID=function(){return"obips.TabBar/l3_t1_sel_start"};obips.TabBar.TertiaryTabViewer.prototype._getPreviousSelectedStartImgID=function(){return"obips.TabBar/l3_t2_presel_start"};obips.TabBar.TertiaryTabViewer.prototype._getUnselectedStartImgID=function(){return"obips.TabBar/l3_t1_unsel_start"};obips.TabBar.TertiaryTabViewer.prototype._getLastSelectedEndImgID=function(){return"obips.TabBar/l3_tn_sel_end"};obips.TabBar.TertiaryTabViewer.prototype._getLastUnselectedEndImgID=function(){return"obips.TabBar/l3_tn_unsel_end"};obips.TabBar.TertiaryTabViewer.prototype._getNotLastSelectedEndImgID=function(){return"obips.TabBar/l3_t2_sel_end"};obips.TabBar.TertiaryTabViewer.prototype._getNotLastUnselectedEndImgID=function(){return"obips.TabBar/l3_t2_unsel_end"};obips.TabBar.TertiaryTabViewer.prototype._getSelectedCSSClassName=function(){return"masterH3 masterTabBarTabTertiarySelected tertiaryTabSelected"};obips.TabBar.TertiaryTabViewer.prototype._getUnselectedCSSClassName=function(){return"masterH3 masterTabBarTabTertiaryEnabled tertiaryTabEnabled"};obips.TabBar.TertiaryTabViewer.prototype._getDisabledCSSClassName=function(){return"masterH3 masterTabBarTabTertiaryDisabled tertiaryTabDisabled"};obips.TabBar.QuaternaryTabViewer=function(b,a){obips.TabBar.QuaternaryTabViewer.baseConstructor.call(this,b,a)};extend(obips.TabBar.QuaternaryTabViewer,obips.TabBar.TabViewer);obips.TabBar.QuaternaryTabViewer.prototype._getSelectedCSSClassName=function(){return"masterH3 masterTabBarTabQuaternarySelected quaternaryTabSelected"};obips.TabBar.QuaternaryTabViewer.prototype._getUnselectedCSSClassName=function(){return"masterH3 masterTabBarTabQuaternaryEnabled quaternaryTabEnabled"};obips.TabBar.QuaternaryTabViewer.prototype._getDisabledCSSClassName=function(){return"masterH3 masterTabBarTabQuaternaryDisabled quaternaryTabDisabled"};obips.TabBar.TabBodyViewer=function(a){this.tabViewer=a;this.bodyDiv=document.createElement("div");this.bodyDiv.className="obips_tabBody";this.bodyDiv.id=this.tabViewer.tab.id+"_body";this.bodyDiv.style.display=(this.tabViewer.tab.isSelected)?"block":"none";this.bodyDiv.tabBodyViewer=this;this.tabViewer.tabBarViewer.tabBodiesDiv.appendChild(this.bodyDiv)};obips.TabBar.TabBodyViewer.prototype.remove=function(){this.tabViewer.tabBarViewer.tabBodiesDiv.removeChild(this.bodyDiv);if(this.bodyDiv.parentNode){this.bodyDiv.parentNode.removeChild(this.bodyDiv)}};obips.TabBar.TabBodyViewer.prototype.destroy=function(){this.remove();this.bodyDiv.tabBodyViewer=null;this.bodyDiv=null;this.tabViewer=null};obips.TabBar.Controller=function(a){this.tabBarViewer=a;this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_DESELECTED,new obips.Callback(this,this.tabDeselectedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_SELECTED,new obips.Callback(this,this.tabSelectedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_ADDED,new obips.Callback(this,this.tabAddedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_REMOVED,new obips.Callback(this,this.tabRemovedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_ENABLED,new obips.Callback(this,this.tabStateChangedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_DISABLED,new obips.Callback(this,this.tabStateChangedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_RENAMED,new obips.Callback(this,this.tabRenamedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_DESCRIPTION_CHANGED,new obips.Callback(this,this.tabDescriptionChangedHandler)));this.tabBarViewer.model.addEventListener(new obips.Observable.EventListener(obips.TabBar.EventType.TAB_ID_CHANGED,new obips.Callback(this,this.tabIDChangedHandler)))};obips.TabBar.Controller.prototype._closeButtonKeyPressHandler=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);if(a.keyCode==32||a.keyCode==13){this.clickCloseButtonHandler(a);obips.BrowserEventFramework.cancelBubble(a);a.returnValue=false}};obips.TabBar.Controller.prototype._keyDownHandler=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);if(a.keyCode==32||a.keyCode==13){this.clickEnabledTabHandler(a)}};obips.TabBar.Controller.prototype.mouseOverEnabledTabHandler=function(a){var b=obips.TabBar.TabViewer.getTabViewerFromEvent(a);b.hover()};obips.TabBar.Controller.prototype.mouseOutEnabledTabHandler=function(a){var b=obips.TabBar.TabViewer.getTabViewerFromEvent(a);b.noHover()};obips.TabBar.Controller.prototype.clickEnabledTabHandler=function(b){var a=obips.TabBar.TabViewer.getTabViewerFromEvent(b);if(a){setTimeout(function(){a.tabBarViewer.model.selectTab(a.tab.id)},1);b=obips.BrowserEventFramework.normalizeEvent(b);if(b&&b.keyCode==13){saw.stopEvent(b)}}};obips.TabBar.Controller.prototype.tabDeselectedHandler=function(b){var a=this.tabBarViewer.getTabViewerByTabModelID(b.context.id);if(!this.tabBarViewer.model.isTabBarOnly){a.hideBody()}};obips.TabBar.Controller.prototype.selectTabById=function(b){var a=this.tabBarViewer.getTabViewerByTabModelID(b);if(!this.tabBarViewer.model.isTabBarOnly){a.showBody()}this.tabBarViewer.render(false);this.tabBarViewer.focusSelectedTab()};obips.TabBar.Controller.prototype.tabSelectedHandler=function(a){this.selectTabById(a.context.id)};obips.TabBar.Controller.prototype.restoreToPriorTabIndex=function(){if(this.tabBarViewer.model.resetToPriorTabIndex()){this.selectTabById(this.tabBarViewer.model.getSelectedTabId())}};obips.TabBar.Controller.prototype.tabAddedHandler=function(b){this.tabBarViewer.render(false);var a=this.tabBarViewer.getTabViewerByTabModelID(b.context.id);if(!this.tabBarViewer.model.isTabBarOnly){new obips.TabBar.TabBodyViewer(a)}};obips.TabBar.Controller.prototype.tabRemovedHandler=function(b){this.tabBarViewer.render(false);if(!this.tabBarViewer.model.isTabBarOnly){var a=this.tabBarViewer.getTabBodyViewerByTabModelID(b.context.id);a.remove()}};obips.TabBar.Controller.prototype.tabStateChangedHandler=function(a){this.tabBarViewer.render(false)};obips.TabBar.Controller.prototype.tabRenamedHandler=function(a){this.tabBarViewer.render(false)};obips.TabBar.Controller.prototype.tabDescriptionChangedHandler=function(a){this.tabBarViewer.render(false)};obips.TabBar.Controller.prototype.tabIDChangedHandler=function(d){var e=d.context.oldID+"_tab";var a=d.context.tab.id+"_tab";document.getElementById(e).setAttribute("id",a);if(!this.tabBarViewer.model.isTabBarOnly){var c=d.context.oldID+"_body";var b=d.context.tab.id+"_body";document.getElementById(c).setAttribute("id",b)}};obips.TabBar.Controller.prototype.setTabBodyHTML=function(a,b){if(!this.tabBarViewer.model.isTabBarOnly){var c=this.tabBarViewer.getTabBodyViewerByTabModelID(a);obips.HTMLDOM.innerHTML(c.bodyDiv,b)}};obips.TabBar.Controller.prototype.replaceTabBodyWithElement=function(a,c){if(!this.tabBarViewer.model.isTabBarOnly){var b=this.tabBarViewer.getTabBodyViewerByTabModelID(a);obips.HTMLDOM.innerHTML(b.bodyDiv,"");b.bodyDiv.appendChild(c)}};obips.TabBar.Controller.prototype.mouseOverCloseButtonHandler=function(a){var b=obips.TabBar.Viewer.getTabBarViewerFromEvent(a);if(b){b.closeButton.src=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonHover").url}};obips.TabBar.Controller.prototype.mouseOutCloseButtonHandler=function(a){var b=obips.TabBar.Viewer.getTabBarViewerFromEvent(a);if(b){b.closeButton.src=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonEnabled").url}};obips.TabBar.Controller.prototype.mouseDownCloseButtonHandler=function(a){var b=obips.TabBar.Viewer.getTabBarViewerFromEvent(a);if(b){b.closeButton.src=obips.ResourceManager.getSingleton().getURL(obips.masterResourceBundlePath,"masterCloseButtonDown").url}};obips.TabBar.Controller.prototype.clickCloseButtonHandler=function(a){var c=obips.TabBar.Viewer.getTabBarViewerFromEvent(a);var b=c.model.tabs[c.model.selectedTabIndex];c.controller.closeAndRemoveTabIfOK(b,false)};obips.TabBar.Controller.prototype.closeAndRemoveTabIfOK=function(a,c){if(typeof(obips)=="undefined"){return}if(a){var b=(c)?obips.TabBar.EventType.TAB_CLOSE_FORCED:obips.TabBar.EventType.TAB_CLOSE_ATTEMPT;if(!a.closeCallback||!a.closeCallback.functionPointer||a.closeCallback.functionPointer.call(a.closeCallback.thisContext,new obips.Observable.Event(b,a))){this.tabBarViewer.model.removeTab(a.id)}}};obips.TabBar.Controller.prototype.forceRemoveTabWithID=function(a){if(typeof(obips)=="undefined"){return}this.tabBarViewer.model.removeTab(a)};