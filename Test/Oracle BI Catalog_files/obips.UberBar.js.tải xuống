obips.UberBar=function(){};obips.UberBar.resourceBundlePath="uicomponents/obips.UberBar/obips.UberBar.xml";obips.UberBar.Model=function(b,c,a){obips.UberBar.Model.baseConstructor.call(this);this.id=b;this.buttons=c||new Array();this.isOverflowEnabled=a!==false};extend(obips.UberBar.Model,obips.Observable);obips.UberBar.Model.prototype.getButtonByID=function(d){var c=null;for(var e=0;e<this.buttons.length;e++){var a=this.buttons[e];if(a&&a.id==d){c=a;break}}return c};obips.UberBar.Model.prototype.enable=function(a){var b=this.getButtonByID(a);if(b&&!b.isEnabled){b.isEnabled=true;this.notify(new obips.Observable.Event(obips.UberBar.Model.EventType.BUTTON_ENABLED,b))}};obips.UberBar.Model.prototype.setTooltip=function(b,d){var c=this.getButtonByID(b);if(c){c.tooltip=d;var a=new Object();a.button=c;a.tooltip=d;this.notify(new obips.Observable.Event(obips.UberBar.Model.EventType.BUTTON_TOOLTIP_CHANGED,a))}};obips.UberBar.Model.prototype.overflowEnabled=function(){return this.isOverflowEnabled};obips.UberBar.Model.prototype.enableOverflow=function(a){this.isOverflowEnabled=a!==false;this.notify(new obips.Observable.Event(obips.UberBar.Model.EventType.OVERFLOW_SUPPORT_CHANGED,this.isOverflowEnabled))};obips.UberBar.Model.prototype.disable=function(a){var b=this.getButtonByID(a);if(b&&b.isEnabled){b.isEnabled=false;this.notify(new obips.Observable.Event(obips.UberBar.Model.EventType.BUTTON_DISABLED,b))}};obips.UberBar.Model.prototype.setToggleState=function(b,a){var d=this.getButtonByID(b);if(d&&d.isToggle&&d.isDown!=a){d.isDown=a;var c=(a)?obips.UberBar.Model.EventType.BUTTON_TOGGLE_DOWN:obips.UberBar.Model.EventType.BUTTON_TOGGLE_UP;this.notify(new obips.Observable.Event(c,d))}};obips.UberBar.Model.prototype.setMemoryButtonSelectedOption=function(e,c,a){var b=this.getButtonByID(e);if(b&&b.menuOptions){var d=b.menuOptions[0].radioGroupID;var f=b.getSelectedRadioGroupOption(d);if(b.selectedMenuOptionID&&(f.id!=c||a)){b.setRadioGroupSelectedOption(d,c);b.selectedMenuOptionID=c;this.notify(new obips.Observable.Event(obips.UberBar.Model.EventType.MEMORY_BUTTON_SELECTION_CHANGED,b))}}};obips.UberBar.Model.EventType=function(){};obips.UberBar.Model.EventType.BUTTON_ADDED="buttonAdded";obips.UberBar.Model.EventType.BUTTON_REMOVED="buttonRemoved";obips.UberBar.Model.EventType.BUTTON_ENABLED="buttonEnabled";obips.UberBar.Model.EventType.BUTTON_DISABLED="masterToolbarTextButtonDisabled buttonDisabled";obips.UberBar.Model.EventType.BUTTON_TOGGLE_DOWN="buttonToggleDown";obips.UberBar.Model.EventType.BUTTON_TOGGLE_UP="buttonToggleUp";obips.UberBar.Model.EventType.BUTTON_TOOLTIP_CHANGED="buttonTooltipChanged";obips.UberBar.Model.EventType.MEMORY_BUTTON_SELECTION_CHANGED="memoryButtonSelectionChanged";obips.UberBar.Model.EventType.OVERFLOW_SUPPORT_CHANGED="overflowSupportChanged";obips.UberBar.BaseButtonModel=function(f,a,c,e,d,b){this.type=f;this.id=a;this.tooltip=c;this.isToggle=(e==true)?e:false;this.isEnabled=(d==false)?d:true;this.isDown=(this.isToggle)?false:null;this.additionalCSSClass=b};obips.UberBar.BaseButtonModel.prototype.attachMenuOption=function(a){this.menuOption=a};obips.UberBar.IconButtonModel=function(d,c,f,b,h,g,e,a){obips.UberBar.IconButtonModel.baseConstructor.call(this,"obips.UberBar.IconButtonModel",d,f,h,g,e);this.iconSet=c;this.callback=b;this.additionalImgCSSClass=a};extend(obips.UberBar.IconButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.SelectButtonModel=function(d,b,a,c,e){obips.UberBar.IconButtonModel.baseConstructor.call(this,"obips.UberBar.SelectButtonModel",d,"",false,true,e);this.selectID=b;this.callback=c;this.options=a};extend(obips.UberBar.SelectButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.TextButtonModel=function(b,c,e,a,g,f,d){obips.UberBar.TextButtonModel.baseConstructor.call(this,"obips.UberBar.TextButtonModel",b,e,g,f,d);this.text=c;this.callback=a};extend(obips.UberBar.TextButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.IconTextButtonModel=function(c,b,d,f,a,h,g,e){obips.UberBar.IconTextButtonModel.baseConstructor.call(this,"obips.UberBar.IconTextButtonModel",c,f,h,g,e);this.iconSet=b;this.text=d;this.callback=a};extend(obips.UberBar.IconTextButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.BaseMenuButtonModel=function(g,b,e,f,a,c,d){obips.UberBar.BaseMenuButtonModel.baseConstructor.call(this,g,b,e,false,f,d);this.menuType=a;this.menuOptions=c};extend(obips.UberBar.BaseMenuButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.BaseMenuButtonModel.prototype.getNumEnabledMenuOptions=function(){var a=0;for(var c=0;c<this.menuOptions.length;c++){var b=this.menuOptions[c];if(b&&b.isEnabled){a++}}return a};obips.UberBar.BaseMenuButtonModel.prototype.getMenuOptionByID=function(b){var a=null;for(var c=0;c<this.menuOptions.length;c++){var d=this.menuOptions[c];if(d){if(d.id==b){a=d;break}else{if(d.menuOptions){a=d.getMenuOptionByID(b);if(a){break}}}}}return a};obips.UberBar.BaseMenuButtonModel.prototype.setRadioGroupSelectedOption=function(c,b){for(var a=0;a<this.menuOptions.length;a++){var d=this.menuOptions[a];if(d){if(d.radioGroupID==c){d.isChecked=(d.id==b)?true:false}}}};obips.UberBar.BaseMenuButtonModel.prototype.getSelectedRadioGroupOption=function(c){var e=this.menuOptions[0].radioGroupID;var a=null;for(var b=0;b<this.menuOptions.length;b++){var d=this.menuOptions[b];if(d){if(d.radioGroupID==c){if(d.isChecked){a=d;break}}else{break}}}return a};obips.UberBar.IconMenuButtonModel=function(c,b,f,g,a,d,e){obips.UberBar.IconMenuButtonModel.baseConstructor.call(this,"obips.UberBar.IconMenuButtonModel",c,f,g,a,d,e);this.iconSet=b};extend(obips.UberBar.IconMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.IconTextMenuButtonModel=function(c,b,e,g,h,a,d,f){obips.UberBar.IconTextMenuButtonModel.baseConstructor.call(this,"obips.UberBar.IconTextMenuButtonModel",c,g,h,a,d,f);this.iconSet=b;this.text=e};extend(obips.UberBar.IconTextMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.TextMenuButtonModel=function(b,d,f,g,a,c,e){obips.UberBar.TextMenuButtonModel.baseConstructor.call(this,"obips.UberBar.TextMenuButtonModel",b,f,g,a,c,e);this.text=d};extend(obips.UberBar.TextMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.OverflowMenuButtonModel=function(a,c){var b=obips.ResourceManager.getSingleton().getResource(obips.UberBar.resourceBundlePath,"kmsgUICUberBarShowMoreButtons").getString();obips.UberBar.OverflowMenuButtonModel.baseConstructor.call(this,"obips.UberBar.OverflowMenuButtonModel","_overflowButton",b,c,obips.UberBar.MenuTypes.ICON_TEXT_MENU);this.callback=a};extend(obips.UberBar.OverflowMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.ContextMenuButtonModel=function(c,b,d,f,h,a,g,e){obips.UberBar.ContextMenuButtonModel.baseConstructor.call(this,"obips.UberBar.ContextMenuButtonModel",c,f,h,a,g,e);this.iconSet=b;this.text=d;this.contextMenuModel=new obips.ContextMenu.Model(this,g)};extend(obips.UberBar.ContextMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.PopupMenuButtonModel=function(b,a,c,f,h,e,d,g){obips.UberBar.PopupMenuButtonModel.baseConstructor.call(this,b,a,c,f,h,obips.UberBar.MenuTypes.POPUP_MENU,[],d);this.type="obips.UberBar.PopupMenuButtonModel";this.sHTMLId=e;this.callback=new obips.Callback(this,this._onPopupMenuCallback);this.isPopupMenuOpened=false;this.popupMenuStateObservable=new obips.Observable();this.isDropDownImgNeeded=g?false:true};extend(obips.UberBar.PopupMenuButtonModel,obips.UberBar.ContextMenuButtonModel);obips.UberBar.PopupMenuButtonModel.EventType=function(){};obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuOpened="popupMenuOpened";obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuClosed="popupMenuClosed";obips.UberBar.PopupMenuButtonModel.prototype.addEventListener=function(a){this.popupMenuStateObservable.addEventListener(a)};obips.UberBar.PopupMenuButtonModel.prototype.removeEventListener=function(a){this.popupMenuStateObservable.removeEventListener(a)};obips.UberBar.PopupMenuButtonModel.prototype._onPopupMenuCallback=function(f){var e=document.getElementById(this.sHTMLId),b,d,a,c;if(e){b=obips.BrowserEventFramework.normalizeEvent(f);d=obips.BrowserEventFramework.getViewerFromElement(b.target,"uberBarButtonViewer");c=new obips.Callback(this,this._popupMenuCloseHandler);if(d&&d.buttonSpan){saw.menu.popupByRefObj(f,d.buttonSpan,this.sHTMLId,null,null,null,c)}else{a=saw.Position.createByEvent(f);saw.menu.popupAt(e,a.xPos,a.yPos,c)}this._setPopupMenuOpenState(true)}};obips.UberBar.PopupMenuButtonModel.prototype._setPopupMenuOpenState=function(b){if(this.isPopupMenuOpened!=b){this.isPopupMenuOpened=b;var a=b?obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuOpened:obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuClosed;this.popupMenuStateObservable.notify(new obips.Observable.Event(a,this))}};obips.UberBar.PopupMenuButtonModel.prototype._popupMenuCloseHandler=function(){this._setPopupMenuOpenState(false)};obips.UberBar.LinkButtonModel=function(b,c,d,a,e){obips.UberBar.LinkButtonModel.baseConstructor.call(this,"obips.UberBar.LinkButtonModel",b,d,false,e);this.text=c;this.callback=a};extend(obips.UberBar.LinkButtonModel,obips.UberBar.BaseButtonModel);obips.UberBar.SplitIconMenuButtonModel=function(c,b,f,g,a,d,e){obips.UberBar.SplitIconMenuButtonModel.baseConstructor.call(this,"obips.UberBar.SplitIconMenuButtonModel",c,f,g,a,d,e);this.iconSet=b};extend(obips.UberBar.SplitIconMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.BaseMemoryMenuButtonModel=function(a,g,i,b,e,d,c,f,h){obips.UberBar.BaseMemoryMenuButtonModel.baseConstructor.call(this,a,g,i,d,c,f,h);this.selectedMenuOptionID=b;this.isToggle=(e==true)?e:false;this.menuOptions=f};extend(obips.UberBar.BaseMemoryMenuButtonModel,obips.UberBar.BaseMenuButtonModel);obips.UberBar.BaseMemoryMenuButtonModel.prototype.getRememberedMenuOption=function(){var a=this.menuOptions[0];var e=a.radioGroupID;var b=null;for(var c=0;c<this.menuOptions.length;c++){var d=this.menuOptions[c];if(d){if(d.radioGroupID!=e){break}else{if(d.isChecked){b=d;break}}}}if(b==null){b=a}return b};obips.UberBar.MemoryIconMenuButtonModel=function(b,f,e,h,g,a,c,d){obips.UberBar.MemoryIconMenuButtonModel.baseConstructor.call(this,"obips.UberBar.MemoryIconMenuButtonModel",b,f,e,h,g,a,c,d)};extend(obips.UberBar.MemoryIconMenuButtonModel,obips.UberBar.BaseMemoryMenuButtonModel);obips.UberBar.MemoryTextMenuButtonModel=function(b,f,e,h,g,a,c,d){obips.UberBar.MemoryTextMenuButtonModel.baseConstructor.call(this,"obips.UberBar.MemoryTextMenuButtonModel",b,f,e,h,g,a,c,d)};extend(obips.UberBar.MemoryTextMenuButtonModel,obips.UberBar.BaseMemoryMenuButtonModel);obips.UberBar.MemoryIconTextMenuButtonModel=function(b,f,e,g,a,c,d){obips.UberBar.MemoryIconTextMenuButtonModel.baseConstructor.call(this,"obips.UberBar.MemoryIconTextMenuButtonModel",b,f,e,false,g,a,c,d)};extend(obips.UberBar.MemoryIconTextMenuButtonModel,obips.UberBar.BaseMemoryMenuButtonModel);obips.UberBar.LabelModel=function(a,b,d,c){obips.UberBar.LabelModel.baseConstructor.call(this,"obips.UberBar.LabelModel",a,d,false,true,c);this.text=b};extend(obips.UberBar.LabelModel,obips.UberBar.BaseButtonModel);obips.UberBar.BaseMenuOption=function(h,d,f,c,g,b,e,a){this.type=h;this.id=d;this.tooltip=f;this.callback=c;this.isEnabled=(g==false)?false:true;this.isChecked=b||false;this.radioGroupID=e;this.menuOptions=a};obips.UberBar.BaseMenuOption.prototype.getMenuOptionByID=function(b){var a=null;if(this.menuOptions){for(var c=0;c<this.menuOptions.length;c++){var d=this.menuOptions[c];if(d){if(d.id==b){a=d;break}else{if(d.menuOptions){a=d.getMenuOptionByID(b);if(a){break}}}}}}return a};obips.UberBar.BaseMenuOption.prototype.setRadioGroupSelectedOption=function(c,b){for(var a=0;a<this.menuOptions.length;a++){var d=this.menuOptions[a];if(d){if(d.radioGroupID==c){d.isChecked=(d.id==b)?true:false}}}};obips.UberBar.IconMenuOption=function(c,b,e,a,f,d){obips.UberBar.IconMenuOption.baseConstructor.call(this,"obips.UberBar.IconMenuOption",c,e,a,f,false,d,null);this.iconSet=b};extend(obips.UberBar.IconMenuOption,obips.UberBar.BaseMenuOption);obips.UberBar.TextMenuOption=function(d,e,g,c,h,b,f,a){obips.UberBar.TextMenuOption.baseConstructor.call(this,"obips.UberBar.TextMenuOption",d,g,c,h,b,f,a);this.text=e};extend(obips.UberBar.TextMenuOption,obips.UberBar.BaseMenuOption);obips.UberBar.IconTextMenuOption=function(e,c,b,h,g,a,f,i,d){obips.UberBar.IconTextMenuOption.baseConstructor.call(this,"obips.UberBar.IconTextMenuOption",e,h,g,a,f,i,d);this.iconSet=c;this.text=b};extend(obips.UberBar.IconTextMenuOption,obips.UberBar.BaseMenuOption);obips.UberBar.BaseContextMenuOption=function(k,b,p,i,c,n,o,a,q,s){var e=p?p:i,m=i,f,r=o===false,j=null,t,d,l,h,g;if(c){if(r){f=c.disabledIcon}else{f=c.enabledIcon}}else{if(a){if(q){f=obips.ResourceManager.getSingleton().getURL(obips.UberBar.resourceBundlePath,"radioGroupMenuOption").url}else{f=obips.ResourceManager.getSingleton().getURL(obips.UberBar.resourceBundlePath,"tickMenuOption").url}}else{f=""}}obips.UberBar.BaseContextMenuOption.baseConstructor.call(this,e,m,f,n,s,r,j,t,d,l,h,g);this.type=k;this.id=b;this.tooltip=i;this.callback=n;this.isEnabled=!r;this.isChecked=a||false;this.radioGroupID=q;this.menuOptions=s};extend(obips.UberBar.BaseContextMenuOption,obips.ContextMenu.MenuOption);obips.UberBar.BaseContextMenuOption.prototype.markAsEnabled=function(a){this.disabled=a===false;if(this.iconSet){if(this.disabled){this.icon=this.iconSet.disabledIcon}else{this.icon=this.iconSet.enabledIcon}}this.isEnabled=!this.disabled};obips.UberBar.BaseContextMenuOption.prototype.getMenuOptionByID=function(b){var a=null;if(this.menuOptions){for(var c=0;c<this.menuOptions.length;c++){var d=this.menuOptions[c];if(d){if(d.id==b){a=d;break}else{if(d.menuOptions){a=d.getMenuOptionByID(b);if(a){break}}}}}}return a};obips.UberBar.BaseContextMenuOption.prototype.setRadioGroupSelectedOption=function(c,b){for(var a=0;a<this.menuOptions.length;a++){var d=this.menuOptions[a];if(d){if(d.radioGroupID==c){d.isChecked=(d.id==b)?true:false}}}};obips.UberBar.IconContextMenuOption=function(c,b,e,a,f,d){obips.UberBar.IconMenuOption.baseConstructor.call(this,"obips.UberBar.IconContextMenuOption",c,"",e,b,a,f,false,d,null);this.iconSet=b};extend(obips.UberBar.IconContextMenuOption,obips.UberBar.BaseContextMenuOption);obips.UberBar.TextContextMenuOption=function(d,e,g,c,h,b,f,a){obips.UberBar.TextContextMenuOption.baseConstructor.call(this,"obips.UberBar.TextContextMenuOption",d,e,g,null,c,h,b,f,a);this.text=e};extend(obips.UberBar.TextContextMenuOption,obips.UberBar.BaseContextMenuOption);obips.UberBar.IconTextContextMenuOption=function(e,c,b,h,g,a,f,i,d){obips.UberBar.IconTextContextMenuOption.baseConstructor.call(this,"obips.UberBar.IconTextContextMenuOption",e,b,h,c,g,a,f,i,d);this.iconSet=c;this.text=b};extend(obips.UberBar.IconTextContextMenuOption,obips.UberBar.BaseContextMenuOption);obips.UberBar.IconSet=function(a,c,b,d){this.enabledIcon=a;this.disabledIcon=c;this.hoverIcon=b;this.downIcon=d};obips.UberBar.Icon=function(a){obips.UberBar.Icon.baseConstructor.call(this,a,a,a,a)};extend(obips.UberBar.Icon,obips.UberBar.IconSet);obips.UberBar.MenuTypes=function(){};obips.UberBar.MenuTypes.ICON_MENU="iconMenu";obips.UberBar.MenuTypes.TEXT_MENU="textMenu";obips.UberBar.MenuTypes.ICON_TEXT_MENU="iconTextMenu";obips.UberBar.MenuTypes.CONTEXT_MENU="contextMenu";obips.UberBar.MenuTypes.POPUP_MENU="popupMenu";obips.UberBar.Viewer=function(d,b,j,g){this.model=d;this.container=b;this.isTransparent=j||false;this.aaButtonViewerFactoryMethods=obips.Array.clone(obips.UberBar.Viewer.DefaultButtonViewFactoryMethods);this.aaMenuViewerFactoryMethods=obips.Array.clone(obips.UberBar.Viewer.DefaultMenuViewFactoryMethods);this.aaButtonViewers=new Array();this.controller=new obips.UberBar.Controller(this);this.aRoleTraits=(g?g:null);this.uberBarDiv=document.createElement("div");this.uberBarDiv.className="masterBackground uberBarMainDiv";this.uberBarDiv.onselectstart=new Function("return false;");this.uberBarDiv.id=this.model.id;this.uberBarDiv.uberBarViewer=this;var a=this._getRoleArray();if(a[0]&&a[0]!=""){saw.setAriaRole(this.uberBarDiv,a[0])}if(this.isTransparent){this.uberBarDiv.style.backgroundColor="transparent";this.uberBarDiv.style.borderStyle="none"}var h=new obips.Callback(this,this._populateOverflowButtonMenuOptions),f=new obips.UberBar.OverflowMenuButtonModel(h,false);this.overflowButtonViewer=new obips.UberBar.OverflowMenuButtonViewer(this,f);for(var c=0;c<this.model.buttons.length;c++){var e=this.model.buttons[c];if(e){this.aaButtonViewers[e.id]=new this.aaButtonViewerFactoryMethods[e.type](this,e)}else{new obips.UberBar.ButtonSeparatorViewer(this)}}this.container.appendChild(this.uberBarDiv);this.controller.overflowSupportHandler()};obips.UberBar.Viewer.prototype.updateOverflowSupport=function(){if(this.model.overflowEnabled()){this.uberBarDiv.style.whiteSpace="normal"}else{this.overflowButtonViewer.disable();this.uberBarDiv.style.whiteSpace="nowrap"}};obips.UberBar.Viewer.prototype.hideMenu=function(){var a=this.displayedMenuViewer;if(a){if(a.buttonViewer){a.buttonViewer.hideMenu()}else{if(a.hideMenu){a.hideMenu()}}}this.displayedMenuViewer=null};obips.UberBar.Viewer.prototype._getRoleArray=function(){return this.aRoleTraits?this.aRoleTraits:["toolbar","button"]};obips.UberBar.Viewer.prototype._populateOverflowButtonMenuOptions=function(){var k=this.overflowButtonViewer,e,c,l;var f=null;var a=this.model.buttons.length;var g=k.buttonSpan.offsetTop+k.buttonSpan.offsetHeight;for(e=0;e<a;e++){c=this.model.buttons[e];if(c){l=this.aaButtonViewers[c.id].buttonSpan;if(l.offsetTop>g){f=e;break}}}var j=[],h=false,b=obips.UberBar.MenuTypes;for(e=f;e<a;e++){c=this.model.buttons[e];if(c){if(c.menuType&&c.menuType!==b.CONTEXT_MENU&&c.menuType!==b.POPUP_MENU){h=true}j.push(c)}else{if(e>f){j.push(null)}}}var d;if(h){d=[];for(e=f;e<a;e++){c=this.model.buttons[e];if(c){d.push(new obips.UberBar.IconTextMenuOption(c.id,c.iconSet,c.text,c.tooltip,c.callback,c.isEnabled,false,null,c.menuOptions))}else{if(e>f){d.push(null)}}}}else{d=this._createContextMenuOptions(j);this.overflowButtonViewer.attachContextualMenu(d)}this.overflowButtonViewer.buttonModel.menuOptions=d};obips.UberBar.Viewer.prototype._createContextMenuOptions=function(j){var d,a,g,c,f,e,h,l,k,b=obips.UberBar.MenuTypes;if(j&&j.length){d=[];for(g=0;g<j.length;g++){c=j[g];if(c){if(c.menuOption){k=c.menuOption}else{if(c.menuType===b.CONTEXT_MENU||c.menuType===b.POPUP_MENU){a=c.menuOptions}else{a=this._createContextMenuOptions(c.menuOptions)}f=c.text?c.text:c.tooltip;e=c.isEnabled===false;if(c.iconSet){if(e){h=c.iconSet.disabledIcon}else{h=c.iconSet.enabledIcon}}else{h=""}if(c.callback){l=new obips.Callback(null,this._onSubContextMenuOptionCallback(c.callback))}else{l=c.callback}k=new obips.ContextMenu.MenuOption(f,c.tooltip,h,l,a,e);if(c.menuType===b.POPUP_MENU){k.setNonLeafMenuClickable(true)}}}else{k=null}d.push(k)}}return d};obips.UberBar.Viewer.prototype._onSubContextMenuOptionCallback=function(a){return function(b){if(obips.ContextMenu.EventType.CONTEXT_MENU_OPTION_PICKED===b.type){b=b.context.tBrowserEvt}a.exec(b)}};obips.UberBar.Viewer.prototype.addButtonViewerFactoryMethod=function(b,a){this.aaButtonViewerFactoryMethods[b]=a};obips.UberBar.Viewer.prototype.addMenuViewerFactoryMethod=function(a,b){this.aaMenuViewerFactoryMethods[a]=b};obips.UberBar.ButtonSeparatorViewer=function(a){this.uberBarViewer=a;this.img=document.createElement("span");this.img.className="masterToolbarSeparator uberBarSeparator";this.uberBarViewer.uberBarDiv.appendChild(this.img)};obips.UberBar.BaseButtonViewer=function(b,a){this.uberBarViewer=b;this.buttonModel=a;this.buttonSpan=document.createElement("span");this.buttonSpan.uberBarButtonViewer=this;this.buttonSpan.tabIndex=0;this.buttonSpan.id=this.uberBarViewer.model.id+"_"+this.buttonModel.id;this.uberBarViewer.uberBarDiv.appendChild(this.buttonSpan);saw.setAriaRole(this.buttonSpan,"button");this.onclickER=new obips.BrowserEventFramework.EventRouter(this.buttonSpan,"onclick");this.onclickEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.clickButtonHandler));this.onMouseOverER=new obips.BrowserEventFramework.EventRouter(this.buttonSpan,"onmouseover");this.onMouseOverEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.mouseOverButtonHandler));this.onMouseOutER=new obips.BrowserEventFramework.EventRouter(this.buttonSpan,"onmouseout");this.onMouseOutEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.mouseOutButtonHandler));this.onMouseDownER=new obips.BrowserEventFramework.EventRouter(this.buttonSpan,"onmousedown");this.onMouseDownEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.mouseDownButtonHandler));this.onKeyDownER=new obips.BrowserEventFramework.EventRouter(this.buttonSpan,"onkeydown");this.onKeyDownEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.keyDownButtonHandler))};obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);var b=obips.BrowserEventFramework.getViewerFromElement(a.target,"uberBarButtonViewer");return b};obips.UberBar.BaseButtonViewer.prototype.enable=function(){this.onclickER.addEventListener(this.onclickEL);this.onMouseOverER.addEventListener(this.onMouseOverEL);this.onMouseOutER.addEventListener(this.onMouseOutEL);this.onMouseDownER.addEventListener(this.onMouseDownEL);this.onKeyDownER.addEventListener(this.onKeyDownEL);this.buttonSpan.alt=this.buttonModel.tooltip;this.buttonSpan.title=this.buttonModel.tooltip};obips.UberBar.BaseButtonViewer.prototype.disable=function(){this.noHover();this.onclickER.removeEventListener(this.onclickEL);this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.onMouseDownER.removeEventListener(this.onMouseDownEL);this.onKeyDownER.removeEventListener(this.onKeyDownEL);this.buttonSpan.alt=this.buttonModel.tooltip;this.buttonSpan.title=this.buttonModel.tooltip;saw.setAriaProperty(this.buttonSpan,"aria-disabled","true")};obips.UberBar.BaseButtonViewer.prototype.changeTooltip=function(a){this.buttonSpan.title=a;this.buttonSpan.alt=a};obips.UberBar.BaseButtonViewer.prototype.hover=function(){};obips.UberBar.BaseButtonViewer.prototype.noHover=function(){};obips.UberBar.BaseButtonViewer.prototype.depress=function(){};obips.UberBar.IconButtonViewer=function(b,a){obips.UberBar.IconButtonViewer.baseConstructor.call(this,b,a);this.buttonSpan.className="masterToolbarButton uberBarButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.iconImg=document.createElement("img");this.iconImg.className="uberBarButtonIconImg";this.iconImg.id=this.uberBarViewer.model.id+"_"+this.buttonModel.id+"_image";this.iconImg.alt=this.buttonModel.tooltip;this.iconImg.title=this.buttonModel.tooltip;saw.setAriaRole(this.iconImg,"button");if(this.buttonModel.additionalImgCSSClass){obips.CSS.addClassToElement(this.iconImg,this.buttonModel.additionalImgCSSClass)}this.buttonSpan.appendChild(this.iconImg);if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.IconButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.IconButtonViewer.prototype.enable=function(){obips.UberBar.IconButtonViewer.superClass.enable.call(this);if(this.buttonModel.isToggle&&this.buttonModel.isDown){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");this.iconImg.src=this.buttonModel.iconSet.downIcon}else{this.iconImg.src=this.buttonModel.iconSet.enabledIcon}};obips.UberBar.IconButtonViewer.prototype.disable=function(){obips.UberBar.IconButtonViewer.superClass.disable.call(this);this.iconImg.src=this.buttonModel.iconSet.disabledIcon};obips.UberBar.IconButtonViewer.prototype.changeTooltip=function(a){this.iconImg.title=a;this.iconImg.alt=a};obips.UberBar.IconButtonViewer.prototype.hover=function(){if(this.buttonModel.isEnabled){if(!this.buttonModel.isDown){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanHover");this.iconImg.src=this.buttonModel.iconSet.hoverIcon;if(this.buttonModel.isToggle){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}}}};obips.UberBar.IconButtonViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");if(!this.buttonModel.isDown){this.iconImg.src=this.buttonModel.iconSet.enabledIcon;obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.IconButtonViewer.prototype.depress=function(){if(this.buttonModel.isEnabled){this.iconImg.src=this.buttonModel.iconSet.downIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");if(this.buttonModel.isToggle){if(this.buttonModel.isDown){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown")}else{obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}}}};obips.UberBar.SelectButtonViewer=function(c,b){obips.UberBar.SelectButtonViewer.baseConstructor.call(this,c,b);this.buttonSpan.className="masterToolbarButton uberBarButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}var a=document.createElement("select");a.id=this.buttonModel.selectID;for(var d in this.buttonModel.options){var e=this.buttonModel.options[d];a.options.add(new Option(e,d))}this.onchangeER=new obips.BrowserEventFramework.EventRouter(a,"onchange");this.onchangeEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.clickButtonHandler));this.buttonSpan.appendChild(a);if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.SelectButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.SelectButtonViewer.prototype.enable=function(){obips.UberBar.SelectButtonViewer.superClass.enable.call(this);this.onchangeER.addEventListener(this.onchangeEL)};obips.UberBar.SelectButtonViewer.prototype.disable=function(){obips.UberBar.SelectButtonViewer.superClass.disable.call(this);this.onchangeER.removeEventListener(this.onchangeEL)};obips.UberBar.LinkButtonViewer=function(b,a){obips.UberBar.LinkButtonViewer.baseConstructor.call(this,b,a);this.buttonSpan.className="uberBarTextButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}var c=document.createElement("a");c.setAttribute("name",this.buttonModel.id);c.href="javascript:void(null)";c.appendChild(document.createTextNode(this.buttonModel.text));this.buttonSpan.appendChild(c);if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.LinkButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.LinkButtonViewer.prototype.hrefOnclickHandler=function(a){obips.BrowserEventFramework.cancelBubble(a);obips.launcher.launchURL(this.buttonModel.url);return true};obips.UberBar.LinkButtonViewer.prototype.enable=function(){obips.UberBar.LinkButtonViewer.superClass.enable.call(this);obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled");var a=saw.getFirstChildElement(this.buttonSpan);if(a.tagName=="A"){a.setAttribute("href",this.buttonModel.url);saw.addEventListener(a,"click",this.hrefOnclickHandler,this,true)}};obips.UberBar.LinkButtonViewer.prototype.disable=function(){obips.UberBar.LinkButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled");var a=saw.getFirstChildElement(this.buttonSpan);if(a.tagName=="A"){a.setAttribute("href","javascript:void(null);");saw.removeEventListener(a,"click",this.hrefOnclickHandler)}};obips.UberBar.TextButtonViewer=function(b,a){obips.UberBar.TextButtonViewer.baseConstructor.call(this,b,a);this.buttonSpan.className="masterToolbarTextButton uberBarTextButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.buttonSpan.appendChild(document.createTextNode(this.buttonModel.text));if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.TextButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.TextButtonViewer.prototype.enable=function(){obips.UberBar.TextButtonViewer.superClass.enable.call(this);if(this.buttonModel.isToggle&&this.buttonModel.isDown){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown")}obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.TextButtonViewer.prototype.disable=function(){obips.UberBar.TextButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.TextButtonViewer.prototype.hover=function(){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")};obips.UberBar.TextButtonViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");if((this.buttonModel.isToggle&&!this.buttonModel.isDown)||!this.buttonModel.isToggle){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}else{obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.TextButtonViewer.prototype.depress=function(){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover")};obips.UberBar.IconTextButtonViewer=function(b,a){obips.UberBar.IconTextButtonViewer.baseConstructor.call(this,b,a);this.buttonSpan.appendChild(document.createTextNode(this.buttonModel.text))};extend(obips.UberBar.IconTextButtonViewer,obips.UberBar.IconButtonViewer);obips.UberBar.IconTextButtonViewer.prototype.enable=function(){obips.UberBar.IconTextButtonViewer.superClass.enable.call(this);obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.IconTextButtonViewer.prototype.disable=function(){obips.UberBar.IconTextButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.IconMenuButtonViewer=function(b,a){obips.UberBar.IconMenuButtonViewer.baseConstructor.call(this,b,a);saw.setAriaProperty(this.buttonSpan,"aria-haspopup","true");this.buttonSpan.className="masterToolbarButton uberBarButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.menuViewer=null;this.buttonSpan.className="masterToolbarIconButtonEnabled uberBarButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.iconImg=document.createElement("img");this.iconImg.className="uberBarButtonIconImg";this.iconImg.id=this.uberBarViewer.model.id+"_"+this.buttonModel.id+"_image";this.iconImg.alt=a.tooltip;this.buttonSpan.appendChild(this.iconImg);if(this.needDropDownImg()){this.dropDownImg=document.createElement("span")}if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}if(this.dropDownImg){this.buttonSpan.appendChild(this.dropDownImg)}};extend(obips.UberBar.IconMenuButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.IconMenuButtonViewer.prototype.enable=function(){obips.UberBar.IconMenuButtonViewer.superClass.enable.call(this);this.iconImg.src=this.buttonModel.iconSet.enabledIcon;if(this.dropDownImg){this.dropDownImg.className="masterDropDownButtonEnabled uberBarDropDownButtonIconImg"}};obips.UberBar.IconMenuButtonViewer.prototype.disable=function(){obips.UberBar.IconMenuButtonViewer.superClass.disable.call(this);this.iconImg.src=this.buttonModel.iconSet.disabledIcon;if(this.dropDownImg){this.dropDownImg.className="masterDropDownButtonDisabled uberBarDropDownButtonIconImgDisabled"}};obips.UberBar.IconMenuButtonViewer.prototype.hover=function(){if(this.uberBarViewer.displayedMenuViewer==null){this.iconImg.src=this.buttonModel.iconSet.hoverIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.IconMenuButtonViewer.prototype.noHover=function(){if(this.uberBarViewer.displayedMenuViewer==null){this.iconImg.src=this.buttonModel.iconSet.enabledIcon;obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.IconMenuButtonViewer.prototype.depress=function(){this.iconImg.src=this.buttonModel.iconSet.downIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover")};obips.UberBar.IconMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();this.iconImg.src=this.buttonModel.iconSet.downIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.uberBarViewer.displayedMenuViewer=new this.uberBarViewer.aaMenuViewerFactoryMethods[this.buttonModel.menuType](this)};obips.UberBar.IconMenuButtonViewer.prototype.hideMenu=function(){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown");if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}this.uberBarViewer.displayedMenuViewer=null;this.onMouseOverER.addEventListener(this.onMouseOverEL);this.onMouseOutER.addEventListener(this.onMouseOutEL)};obips.UberBar.IconMenuButtonViewer.prototype.needDropDownImg=function(){return true};obips.UberBar.IconTextMenuButtonViewer=function(b,a){obips.UberBar.IconTextMenuButtonViewer.baseConstructor.call(this,b,a);this.buttonSpan.insertBefore(document.createTextNode(this.buttonModel.text),this.buttonSpan.lastChild)};extend(obips.UberBar.IconTextMenuButtonViewer,obips.UberBar.IconMenuButtonViewer);obips.UberBar.IconTextMenuButtonViewer.prototype.enable=function(){obips.UberBar.IconTextMenuButtonViewer.superClass.enable.call(this);obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.IconTextMenuButtonViewer.prototype.disable=function(){obips.UberBar.IconTextMenuButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.IconTextMenuButtonViewer.prototype.hideMenu=function(){obips.UberBar.IconTextMenuButtonViewer.superClass.hideMenu.call(this);if(this.uberBarViewer.displayedMenuViewer){this.hideSubMenus(this.uberBarViewer.displayedMenuViewer.menuOptionViewers)}this.uberBarViewer.displayedMenuViewer=null};obips.UberBar.IconTextMenuButtonViewer.prototype.hideSubMenus=function(a){var b,c,d;for(b=0;b<a.length;b++){c=a[b];d=c.menuViewer;if(d){this.hideSubMenus(d.menuOptionViewers);if(d.menuDiv.parentNode!==null){d.menuDiv.parentNode.removeChild(d.menuDiv)}c.menuViewer=null;break}}};obips.UberBar.ContextMenuButtonViewer=function(c,b){obips.UberBar.ContextMenuButtonViewer.baseConstructor.call(this,c,b);if(this.buttonModel.text){this.buttonSpan.insertBefore(document.createTextNode(this.buttonModel.text),this.buttonSpan.lastChild)}var a=new obips.Callback(this,this.hideMenu);this._onDestroyContextMenuEventListener=new obips.Observable.EventListener(obips.ContextMenu.EventType.CONTEXT_MENU_DESTROYED,a)};extend(obips.UberBar.ContextMenuButtonViewer,obips.UberBar.IconMenuButtonViewer);obips.UberBar.ContextMenuButtonViewer.prototype.enable=function(){obips.UberBar.ContextMenuButtonViewer.superClass.enable.call(this);obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.ContextMenuButtonViewer.prototype.disable=function(){obips.UberBar.ContextMenuButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.ContextMenuButtonViewer.prototype.hideMenu=function(b){this.iconImg.src=this.buttonModel.iconSet.enabledIcon;obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown");this.buttonModel.contextMenuModel.removeEventListener(this._onDestroyContextMenuEventListener);var a=obips.ContextMenu.Manager.getSingleton();if(a.getDisplayedMenuModel()){a.hide(b)}this.uberBarViewer.displayedMenuViewer=null;this.onMouseOverER.addEventListener(this.onMouseOverEL);this.onMouseOutER.addEventListener(this.onMouseOutEL)};obips.UberBar.ContextMenuButtonViewer.prototype.displayMenu=function(){this.iconImg.src=this.buttonModel.iconSet.downIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.uberBarViewer.hideMenu();var d=this.buttonModel.contextMenuModel,b=obips.ContextMenu.Manager.getSingleton(),a=saw.Position.createByDOMElement(this.buttonSpan),c=false;if(b.getDisplayedMenuModel()){b.hide()}d.addEventListener(this._onDestroyContextMenuEventListener);this.uberBarViewer.displayedMenuViewer=this;b.displayAtPosition(d,a,c)};obips.UberBar.PopupMenuButtonViewer=function(b,a){obips.UberBar.PopupMenuButtonViewer.baseConstructor.call(this,b,a);this.onPopupMenuOpenEL=new obips.Observable.EventListener(obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuOpened,new obips.Callback(this,this.popupMenuOpenHandler));this.opPopupMenuCloseEL=new obips.Observable.EventListener(obips.UberBar.PopupMenuButtonModel.EventType.PopupMenuClosed,new obips.Callback(this,this.popupMenuCloseHandler));if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.PopupMenuButtonViewer,obips.UberBar.ContextMenuButtonViewer);obips.UberBar.PopupMenuButtonViewer.prototype.enable=function(){obips.UberBar.PopupMenuButtonViewer.superClass.enable.call(this);if(this.buttonModel.addEventListener){this.buttonModel.addEventListener(this.onPopupMenuOpenEL);this.buttonModel.addEventListener(this.opPopupMenuCloseEL)}};obips.UberBar.PopupMenuButtonViewer.prototype.disable=function(){obips.UberBar.PopupMenuButtonViewer.superClass.disable.call(this);if(this.buttonModel.removeEventListener){this.buttonModel.removeEventListener(this.onPopupMenuOpenEL);this.buttonModel.removeEventListener(this.opPopupMenuCloseEL)}};obips.UberBar.PopupMenuButtonViewer.prototype.popupMenuOpenHandler=function(a){this.depress()};obips.UberBar.PopupMenuButtonViewer.prototype.popupMenuCloseHandler=function(a){this.noHover()};obips.UberBar.PopupMenuButtonViewer.prototype.hover=function(){if(!this.buttonModel.isPopupMenuOpened){this.iconImg.src=this.buttonModel.iconSet.hoverIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.PopupMenuButtonViewer.prototype.noHover=function(){if(!this.buttonModel.isPopupMenuOpened){this.iconImg.src=this.buttonModel.iconSet.enabledIcon;obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown")}};obips.UberBar.PopupMenuButtonViewer.prototype.depress=function(){this.iconImg.src=this.buttonModel.iconSet.downIcon;obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover")};obips.UberBar.PopupMenuButtonViewer.prototype.needDropDownImg=function(){var a=true;if(this.buttonModel.isDropDownImgNeeded!="undefined"&&this.buttonModel.isDropDownImgNeeded!=null){a=this.buttonModel.isDropDownImgNeeded}return a};obips.UberBar.PopupMenuButtonViewer.prototype._onPopupMenuClosed=function(){var a=obips.BrowserEventFramework.getViewerFromElement(this,"uberBarButtonViewer");if(a&&a.buttonModel.isPopupMenuOpened){a.buttonModel.isPopupMenuOpened=false;a.noHover()}};obips.UberBar.TextMenuButtonViewer=function(b,a){obips.UberBar.TextMenuButtonViewer.baseConstructor.call(this,b,a);saw.setAriaProperty(this.buttonSpan,"aria-haspopup","true");this.menuOptionViewers=new Array();this.buttonSpan.className="masterMenuButton uberBarTextMenuButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.buttonSpan.appendChild(document.createTextNode(this.buttonModel.text));this.dropDownImg=document.createElement("span");this.dropDownImg.className="masterDropDownButtonEnabled uberBarDropDownButtonIconImg";this.buttonSpan.appendChild(this.dropDownImg);if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.TextMenuButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.TextMenuButtonViewer.prototype.enable=function(){obips.UberBar.TextMenuButtonViewer.superClass.enable.call(this);obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.TextMenuButtonViewer.prototype.disable=function(){obips.UberBar.TextMenuButtonViewer.superClass.disable.call(this);obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDisabled")};obips.UberBar.TextMenuButtonViewer.prototype.hover=function(){if(this.uberBarViewer.displayedMenuViewer==null){obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanHover")}};obips.UberBar.TextMenuButtonViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover")};obips.UberBar.TextMenuButtonViewer.prototype.depress=function(){};obips.UberBar.TextMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.buttonSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanHover");this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.menuOptionViewers=new Array();this.uberBarViewer.displayedMenuViewer=new this.uberBarViewer.aaMenuViewerFactoryMethods[this.buttonModel.menuType](this)};obips.UberBar.TextMenuButtonViewer.prototype.hideMenu=function(){if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.buttonSpan,"uberBarButtonSpanDown");this.onMouseOverER.addEventListener(this.onMouseOverEL);this.onMouseOutER.addEventListener(this.onMouseOutEL);if(this.uberBarViewer.displayedMenuViewer){this.hideSubMenus(this.uberBarViewer.displayedMenuViewer.menuOptionViewers)}this.uberBarViewer.displayedMenuViewer=null};obips.UberBar.TextMenuButtonViewer.prototype.hideSubMenus=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.subMenuViewer){this.hideSubMenus(c.subMenuViewer.menuOptionViewers);c.subMenuViewer.menuDiv.parentNode.removeChild(c.subMenuViewer.menuDiv);c.subMenuViewer=null;break}}};obips.UberBar.SplitIconMenuButtonViewer=function(b,a){obips.UberBar.SplitIconMenuButtonViewer.baseConstructor.call(this,b,a);obips.CSS.addClassToElement(this.buttonSpan,"uberBarSplitButtonSpan");this.iconImg.className="uberBarButtonIconImg uberBarSplitButtonIconImg"};extend(obips.UberBar.SplitIconMenuButtonViewer,obips.UberBar.IconMenuButtonViewer);obips.UberBar.SplitIconMenuButtonViewer.prototype.displayMenu=function(a){if(a.target==this.iconImg){var b=this.buttonModel.menuOptions[0];var c=new obips.Observable.Event(obips.UberBar.Controller.EventType.MENU_OPTION_PICKED,this);this.hover();b.callback.exec(c)}else{obips.UberBar.SplitIconMenuButtonViewer.superClass.displayMenu.call(this)}};obips.UberBar.OverflowMenuButtonViewer=function(b,a){obips.UberBar.OverflowMenuButtonViewer.baseConstructor.call(this,b,a);saw.setAriaProperty(this.buttonSpan,"aria-haspopup","true");this.menuViewer=null;this.buttonSpan.className="masterOverflowRightButton obipsUberBarButtonOverflowSpan"};extend(obips.UberBar.OverflowMenuButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.OverflowMenuButtonViewer.prototype.attachContextualMenu=function(c){var b=this._oContextMenuModel,a=new obips.Callback(this,this.hideMenu),d=new obips.Observable.EventListener(obips.ContextMenu.EventType.CONTEXT_MENU_DESTROYED,a);if(b){b.removeEventListener(this._onDestroyContextMenuEventListener)}b=new obips.ContextMenu.Model(this,c);b.addEventListener(d);this._oContextMenuModel=b;this._onDestroyContextMenuEventListener=d};obips.UberBar.OverflowMenuButtonViewer.prototype.enable=function(){obips.UberBar.OverflowMenuButtonViewer.superClass.enable.call(this);this.buttonSpan.style.display=""};obips.UberBar.OverflowMenuButtonViewer.prototype.disable=function(){obips.UberBar.OverflowMenuButtonViewer.superClass.disable.call(this);this.buttonSpan.style.display="none"};obips.UberBar.OverflowMenuButtonViewer.prototype.hover=function(){this.buttonSpan.className="masterOverflowRightButton masterOverflowRightButtonHover obipsUberBarButtonOverflowSpan obipsUberBarButtonOverflowSpanMouseOver"};obips.UberBar.OverflowMenuButtonViewer.prototype.noHover=function(){this.buttonSpan.className="masterOverflowRightButton obipsUberBarButtonOverflowSpan"};obips.UberBar.OverflowMenuButtonViewer.prototype.depress=function(){this.buttonSpan.className="masterOverflowRightButton masterOverflowRightButtonDown obipsUberBarButtonOverflowSpan obipsUberBarButtonOverflowSpanMouseDown"};obips.UberBar.OverflowMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.buttonSpan.className="masterOverflowRightButton masterOverflowRightButtonDown obipsUberBarButtonOverflowSpan obipsUberBarButtonOverflowSpanMouseDown";var c;if(this._oContextMenuModel){var b=obips.ContextMenu.Manager.getSingleton(),a=saw.Position.createByDOMElement(this.buttonSpan),d=false;if(b.getDisplayedMenuModel()){b.hide()}b.displayAtPosition(this._oContextMenuModel,a,d);c=this}else{c=new this.uberBarViewer.aaMenuViewerFactoryMethods[obips.UberBar.MenuTypes.ICON_TEXT_MENU](this)}this.uberBarViewer.displayedMenuViewer=c};obips.UberBar.OverflowMenuButtonViewer.prototype.hideMenu=function(){this.buttonSpan.className="masterOverflowRightButton obipsUberBarButtonOverflowSpan";if(this._oContextMenuModel){this._oContextMenuModel.removeEventListener(this._onDestroyContextMenuEventListener);var a=obips.ContextMenu.Manager.getSingleton();if(a.getDisplayedMenuModel()){a.hide()}}else{if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.hideSubMenus(this.menuViewer.menuOptionViewers);this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}}this.uberBarViewer.displayedMenuViewer=null;this.onMouseOverER.addEventListener(this.onMouseOverEL);this.onMouseOutER.addEventListener(this.onMouseOutEL)};obips.UberBar.OverflowMenuButtonViewer.prototype.hideSubMenus=function(a){var b,c,d;for(b=0;b<a.length;b++){c=a[b];d=c.subMenuViewer;if(d){this.hideSubMenus(d.menuOptionViewers);if(d.menuDiv.parentNode!==null){d.menuDiv.parentNode.removeChild(d.menuDiv)}c.subMenuViewer=null;break}}};obips.UberBar.BaseMemoryMenuButtonViewer=function(b,a){obips.UberBar.BaseMemoryMenuButtonViewer.baseConstructor.call(this,b,a);this.menuViewer=null;this.buttonSpan.className="masterToolbarTextButton";this.buttonSpan.tabIndex=-1;this.primarySpan=document.createElement("span");this.primarySpan.className="uberBarMemoryButtonPrimarySpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.primarySpan,this.buttonModel.additionalCSSClass)}this.primarySpan.tabIndex=0;this.buttonSpan.appendChild(this.primarySpan);saw.setAriaProperty(this.buttonSpan,"aria-haspopup","true");this.dropDownSpan=document.createElement("span");this.dropDownSpan.className="uberBarDropDownButtonSpan";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.dropDownSpan,this.buttonModel.additionalCSSClass)}this.dropDownSpan.tabIndex=0;this.buttonSpan.appendChild(this.dropDownSpan);this.dropDownImg=document.createElement("span");this.dropDownImg.className="masterDropDownButtonEnabled uberBarDropDownButtonIconImg";this.dropDownSpan.appendChild(this.dropDownImg);this.onclickER.removeEventListener(this.onclickEL);this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.onMouseDownER.removeEventListener(this.onMouseDownEL);this.onKeyDownER.removeEventListener(this.onKeyDownEL);this.onclickPrimaryER=new obips.BrowserEventFramework.EventRouter(this.primarySpan,"onclick");this.onclickMemoryButtonEL=new obips.Observable.EventListener(null,new obips.Callback(this,this.clickMemoryButtonHandler));this.onclickPrimaryER.addEventListener(this.onclickMemoryButtonEL);this.onMouseOverPrimaryER=new obips.BrowserEventFramework.EventRouter(this.primarySpan,"onmouseover");this.onMouseOverPrimaryER.addEventListener(this.onMouseOverEL);this.onMouseOutPrimaryER=new obips.BrowserEventFramework.EventRouter(this.primarySpan,"onmouseout");this.onMouseOutPrimaryER.addEventListener(this.onMouseOutEL);this.onMouseDownPrimaryER=new obips.BrowserEventFramework.EventRouter(this.primarySpan,"onmousedown");this.onMouseDownPrimaryER.addEventListener(this.onMouseDownEL);this.onKeyDownPrimaryER=new obips.BrowserEventFramework.EventRouter(this.primarySpan,"onkeydown");this.onKeyDownPrimaryEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.keyDownMemoryButtonHandler));this.onKeyDownPrimaryER.addEventListener(this.onKeyDownPrimaryEL);this.onclickDropDownER=new obips.BrowserEventFramework.EventRouter(this.dropDownSpan,"onclick");this.onclickDropDownEL=new obips.Observable.EventListener(null,new obips.Callback(this,this.clickDropDownButtonHandler));this.onMouseOverDropDownER=new obips.BrowserEventFramework.EventRouter(this.dropDownSpan,"onmouseover");this.onMouseOverDropDownEL=new obips.Observable.EventListener(null,new obips.Callback(this,this.mouseOverDropDownButtonHandler));this.onMouseOutDropDownER=new obips.BrowserEventFramework.EventRouter(this.dropDownSpan,"onmouseout");this.onMouseOutDropDownEL=new obips.Observable.EventListener(null,new obips.Callback(this,this.mouseOutDropDownButtonHandler));this.onMouseDownDropDownER=new obips.BrowserEventFramework.EventRouter(this.dropDownSpan,"onmousedown");this.onMouseDownDropDownEL=new obips.Observable.EventListener(null,new obips.Callback(this,this.mouseDownDropDownButtonHandler));this.onKeyDownDropDownER=new obips.BrowserEventFramework.EventRouter(this.dropDownSpan,"onkeydown");this.onKeyDownDropDownEL=new obips.Observable.EventListener(null,new obips.Callback(this.uberBarViewer.controller,this.uberBarViewer.controller.keyDownButtonHandler));if(this.buttonModel.isEnabled){this.enable()}else{this.disable()}};extend(obips.UberBar.BaseMemoryMenuButtonViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.BaseMemoryMenuButtonViewer.prototype.clickDropDownButtonHandler=function(b){var a;if(this.buttonModel.callback){this.buttonModel.callback.exec(b)}if(this.buttonModel.menuOptions&&this.buttonModel.getNumEnabledMenuOptions()>0){a=this.uberBarViewer.displayedMenuViewer;if(a&&(a===this||a.buttonViewer===this)){this.hideMenu();this.onMouseOverDropDownER.addEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.addEventListener(this.onMouseOutDropDownEL)}else{this.displayMenu();this.onMouseOverDropDownER.removeEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.removeEventListener(this.onMouseOutDropDownEL)}}else{this.uberBarViewer.hideMenu()}obips.BrowserEventFramework.cancelBubble(b)};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.mouseOverDropDownButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);if(b){b.hoverDropDown()}};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.mouseOutDropDownButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);if(b){b.noHoverDropDown()}};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.mouseDownDropDownButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);if(b){b.depressDropDown()}};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.hoverDropDown=function(){this.dropDownSpan.className="uberBarDropDownButtonSpanHover"};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.noHoverDropDown=function(){this.dropDownSpan.className="uberBarDropDownButtonSpan"};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.depressDropDown=function(){this.dropDownSpan.className="uberBarDropDownButtonSpanDown"};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.enable=function(){obips.UberBar.BaseMemoryMenuButtonViewer.superClass.enable.call(this);this.onclickER.removeEventListener(this.onclickEL);this.onMouseOverER.removeEventListener(this.onMouseOverEL);this.onMouseOutER.removeEventListener(this.onMouseOutEL);this.onMouseDownER.removeEventListener(this.onMouseDownEL);this.onclickPrimaryER.addEventListener(this.onclickMemoryButtonEL);this.onMouseOverPrimaryER.addEventListener(this.onMouseOverEL);this.onMouseOutPrimaryER.addEventListener(this.onMouseOutEL);this.onMouseDownPrimaryER.addEventListener(this.onMouseDownEL);this.onclickDropDownER.addEventListener(this.onclickDropDownEL);this.onMouseOverDropDownER.addEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.addEventListener(this.onMouseOutDropDownEL);this.onMouseDownDropDownER.addEventListener(this.onMouseDownDropDownEL);this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan";this.dropDownSpan.className="uberBarDropDownButtonSpan"};obips.UberBar.BaseMemoryMenuButtonViewer.prototype.disable=function(){obips.UberBar.BaseMemoryMenuButtonViewer.superClass.disable.call(this);this.onclickPrimaryER.removeEventListener(this.onclickMemoryButtonEL);this.onMouseOverPrimaryER.removeEventListener(this.onMouseOverEL);this.onMouseOutPrimaryER.removeEventListener(this.onMouseOutEL);this.onMouseDownPrimaryER.removeEventListener(this.onMouseDownEL);this.onclickDropDownER.removeEventListener(this.onclickDropDownEL);this.onMouseOverDropDownER.removeEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.removeEventListener(this.onMouseOutDropDownEL);this.onMouseDownDropDownER.removeEventListener(this.onMouseDownDropDownEL);this.buttonSpan.className="masterToolbarTextButton masterToolbarTextButtonDisabled";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDisabled";this.dropDownSpan.className="uberBarDropDownButtonSpanDisabled"};obips.UberBar.MemoryIconMenuButtonViewer=function(b,a){this.iconImg=document.createElement("img");obips.UberBar.MemoryIconMenuButtonViewer.baseConstructor.call(this,b,a);this.iconImg.className="uberBarIconMemoryButtonIconImg";this.iconImg.id=this.uberBarViewer.model.id+"_"+this.buttonModel.id;this.primarySpan.appendChild(this.iconImg)};extend(obips.UberBar.MemoryIconMenuButtonViewer,obips.UberBar.BaseMemoryMenuButtonViewer);obips.UberBar.MemoryIconMenuButtonViewer.prototype.enable=function(){obips.UberBar.MemoryIconMenuButtonViewer.superClass.enable.call(this);var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.enabledIcon};obips.UberBar.MemoryIconMenuButtonViewer.prototype.disable=function(){obips.UberBar.MemoryIconMenuButtonViewer.superClass.disable.call(this);var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.disabledIcon};obips.UberBar.MemoryIconMenuButtonViewer.prototype.hover=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.hoverIcon;this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonHover";this.primarySpan.className="uberBarMemoryButtonPrimarySpanHover";if(this.uberBarViewer.displayedMenuViewer==null){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.primarySpan,"uberBarButtonSpanDown")}};obips.UberBar.MemoryIconMenuButtonViewer.prototype.noHover=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.enabledIcon;this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan"};obips.UberBar.MemoryIconMenuButtonViewer.prototype.depress=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.downIcon;this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonDown";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDown"};obips.UberBar.MemoryIconMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();this.uberBarViewer.displayedMenuViewer=new this.uberBarViewer.aaMenuViewerFactoryMethods[this.buttonModel.menuType](this)};obips.UberBar.MemoryIconMenuButtonViewer.prototype.hideMenu=function(){if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}this.uberBarViewer.displayedMenuViewer=null;var b=this.buttonModel.menuOptions[0].radioGroupID;var a=this.buttonModel.getSelectedRadioGroupOption(b);if(a){this.iconImg.src=a.iconSet.enabledIcon}this.noHoverDropDown();this.onMouseOverDropDownER.addEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.addEventListener(this.onMouseOutDropDownEL)};obips.UberBar.MemoryIconMenuButtonViewer.prototype.clickMemoryButtonHandler=function(a){var c=this.buttonModel.getRememberedMenuOption();var d=new obips.Observable.Event(obips.UberBar.Controller.EventType.MENU_OPTION_PICKED,this);var b=this.buttonModel.menuOptions[0].radioGroupID;this.hover();c.callback.exec(d)};obips.UberBar.MemoryTextMenuButtonViewer=function(b,a){obips.UberBar.MemoryTextMenuButtonViewer.baseConstructor.call(this,b,a);var c=this.buttonModel.getSelectedRadioGroupOption(this.buttonModel.menuOptions[0].radioGroupID);this.primarySpan.appendChild(document.createTextNode(c.text))};extend(obips.UberBar.MemoryTextMenuButtonViewer,obips.UberBar.BaseMemoryMenuButtonViewer);obips.UberBar.MemoryTextMenuButtonViewer.prototype.enable=function(){obips.UberBar.MemoryTextMenuButtonViewer.superClass.enable.call(this);this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan"};obips.UberBar.MemoryTextMenuButtonViewer.prototype.disable=function(){obips.UberBar.MemoryIconMenuButtonViewer.superClass.disable.call(this);this.buttonSpan.className="masterToolbarTextButton masterToolbarTextButtonDisabled";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDisabled"};obips.UberBar.MemoryTextMenuButtonViewer.prototype.hover=function(){var a=this.buttonModel.getRememberedMenuOption();this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonHover";this.primarySpan.className="uberBarMemoryButtonPrimarySpanHover"};obips.UberBar.MemoryTextMenuButtonViewer.prototype.noHover=function(){if(this.buttonModel.isToggle&&this.buttonModel.isDown){this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonDown";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDown"}else{this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan"}};obips.UberBar.MemoryTextMenuButtonViewer.prototype.depress=function(){this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonDown";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDown"};obips.UberBar.MemoryTextMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.dropDownSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.dropDownSpan,"uberBarButtonSpanHover");this.uberBarViewer.displayedMenuViewer=new this.uberBarViewer.aaMenuViewerFactoryMethods[this.buttonModel.menuType](this)};obips.UberBar.MemoryTextMenuButtonViewer.prototype.hideMenu=function(){if(this.buttonModel.isToggle&&this.buttonModel.isDown){this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonDown";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDown"}else{this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan"}if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}this.uberBarViewer.displayedMenuViewer=null;var b=this.buttonModel.menuOptions[0].radioGroupID;var a=this.buttonModel.getSelectedRadioGroupOption(b);this.primarySpan.removeChild(this.primarySpan.lastChild);this.primarySpan.appendChild(document.createTextNode(a.text));this.noHoverDropDown();this.onMouseOverDropDownER.addEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.addEventListener(this.onMouseOutDropDownEL)};obips.UberBar.MemoryTextMenuButtonViewer.prototype.clickMemoryButtonHandler=function(a){var c=this.buttonModel.getRememberedMenuOption();var d=new obips.Observable.Event(obips.UberBar.Controller.EventType.MENU_OPTION_PICKED,this);var b=this.buttonModel.menuOptions[0].radioGroupID;this.hover();c.callback.exec(d)};obips.UberBar.MemoryIconTextMenuButtonViewer=function(b,a){this.iconImg=document.createElement("img");obips.UberBar.MemoryIconTextMenuButtonViewer.baseConstructor.call(this,b,a);this.iconImg.className="uberBarMemoryButtonIconImg";this.iconImg.id=this.uberBarViewer.model.id+"_"+this.buttonModel.id;this.primarySpan.appendChild(this.iconImg);this.textSpan=document.createElement("span");this.textSpan.className="uberBarIconTextMemoryButtonTextSpan";this.primarySpan.appendChild(this.textSpan);var c=this.buttonModel.getSelectedRadioGroupOption(this.buttonModel.menuOptions[0].radioGroupID);this.textSpan.appendChild(document.createTextNode(c.text))};extend(obips.UberBar.MemoryIconTextMenuButtonViewer,obips.UberBar.BaseMemoryMenuButtonViewer);obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.enable=function(){obips.UberBar.MemoryIconTextMenuButtonViewer.superClass.enable.call(this);var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.enabledIcon};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.disable=function(){obips.UberBar.MemoryIconTextMenuButtonViewer.superClass.disable.call(this);var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.disabledIcon};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.hover=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.hoverIcon;this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonHover";this.primarySpan.className="uberBarMemoryButtonPrimarySpanHover"};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.noHover=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.enabledIcon;this.buttonSpan.className="masterToolbarTextButton";this.primarySpan.className="uberBarMemoryButtonPrimarySpan"};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.depress=function(){var a=this.buttonModel.getRememberedMenuOption();this.iconImg.src=a.iconSet.downIcon;this.buttonSpan.className="masterToolbarTextButton masterToolbarButtonDown";this.primarySpan.className="uberBarMemoryButtonPrimarySpanDown"};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.displayMenu=function(){this.uberBarViewer.hideMenu();obips.CSS.addClassToElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.addClassToElement(this.dropDownSpan,"uberBarButtonSpanDown");obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonHover");obips.CSS.removeClassFromElement(this.dropDownSpan,"uberBarButtonSpanHover");this.uberBarViewer.displayedMenuViewer=new this.uberBarViewer.aaMenuViewerFactoryMethods[this.buttonModel.menuType](this)};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.hideMenu=function(){obips.CSS.removeClassFromElement(this.buttonSpan,"masterToolbarButtonDown");obips.CSS.removeClassFromElement(this.dropDownSpan,"uberBarButtonSpanDown");if(this.menuViewer!=null&&this.menuViewer.menuDiv.parentNode!=null){this.menuViewer.menuDiv.parentNode.removeChild(this.menuViewer.menuDiv)}this.uberBarViewer.displayedMenuViewer=null;var b=this.buttonModel.menuOptions[0].radioGroupID;var a=this.buttonModel.getSelectedRadioGroupOption(b);this.iconImg.src=a.iconSet.enabledIcon;this.textSpan.removeChild(this.textSpan.lastChild);this.textSpan.appendChild(document.createTextNode(a.text));this.noHoverDropDown();this.onMouseOverDropDownER.addEventListener(this.onMouseOverDropDownEL);this.onMouseOutDropDownER.addEventListener(this.onMouseOutDropDownEL)};obips.UberBar.MemoryIconTextMenuButtonViewer.prototype.clickMemoryButtonHandler=function(a){var c=this.buttonModel.getRememberedMenuOption();var d=new obips.Observable.Event(obips.UberBar.Controller.EventType.MENU_OPTION_PICKED,this);var b=this.buttonModel.menuOptions[0].radioGroupID;this.hover();c.callback.exec(d)};obips.UberBar.LabelViewer=function(b,a){obips.UberBar.LabelViewer.baseConstructor.call(this,b,a);this.buttonSpan.className="masterPrompt uberBarLabel";if(this.buttonModel.additionalCSSClass){obips.CSS.addClassToElement(this.buttonSpan,this.buttonModel.additionalCSSClass)}this.buttonSpan.appendChild(document.createTextNode(this.buttonModel.text))};extend(obips.UberBar.LabelViewer,obips.UberBar.BaseButtonViewer);obips.UberBar.BaseMenuViewer=function(b){this.buttonViewer=b;var a=obips.HTMLDOM.calculateAbsoluteOffsetLeft(this.buttonViewer.buttonSpan);var c=obips.HTMLDOM.calculateAbsoluteOffsetTop(this.buttonViewer.buttonSpan)+this.buttonViewer.buttonSpan.offsetHeight;obips.UberBar.BaseMenuViewer.baseConstructor.call(this,new obips.FloatingWindow.Model(false,true),obips.FloatingWindow.Manager.getSingleton(),null,null,a,c);this.setHideOnScroll(true);this.setDestroyedWindowCallback(new obips.Callback(this.buttonViewer,this.buttonViewer.hideMenu));this.menuDiv=this.floatingWindowDiv;this.menuDiv.menuViewer=this;saw.setAriaRole(this.menuDiv,"menu");this.menuOptionViewers=new Array()};extend(obips.UberBar.BaseMenuViewer,obips.FloatingWindow.Viewer);obips.UberBar.BaseMenuViewer.prototype.getMenuOptionViewerById=function(c){var a=this.buttonViewer.menu.id+"$"+c;var b=document.getElementById(a);return b};obips.UberBar.IconMenuViewer=function(d){obips.UberBar.IconMenuViewer.baseConstructor.call(this,d);this.menuDiv.className+=" masterMenu uberBarMenuPanel";var a=this.buttonViewer.buttonModel.menuOptions;if(a&&a.length>0){for(var c=0;c<a.length;c++){var b=a[c];if(b){this.menuOptionViewers.push(new obips.UberBar.IconMenuOptionViewer(this,b))}else{new obips.UberBar.IconMenuOptionSeparatorViewer(this)}}this.buttonViewer.menuViewer=this;this.floatingWindowManager.displayAtPosition(this,saw.Position.createByDOMElement(this.buttonViewer.buttonSpan));this.menuOptionViewers[0].menuOptionDiv.focus()}};extend(obips.UberBar.IconMenuViewer,obips.UberBar.BaseMenuViewer);obips.UberBar.TextMenuViewer=function(d){obips.UberBar.TextMenuViewer.baseConstructor.call(this,d);this.menuDiv.className+=" masterMenu uberBarTextMenuPanel";this.buttonViewer.menuViewer=this;var a=this.buttonViewer.buttonModel.menuOptions;if(a&&a.length>0){for(var c=0;c<a.length;c++){var b=a[c];if(b){this.menuOptionViewers.push(new obips.UberBar.TextMenuOptionViewer(this,b))}else{new obips.UberBar.TextMenuOptionSeparatorViewer(this)}}this.floatingWindowManager.displayAtPosition(this,saw.Position.createByDOMElement(this.buttonViewer.buttonSpan));this.menuOptionViewers[0].menuOptionDiv.focus()}};extend(obips.UberBar.TextMenuViewer,obips.UberBar.BaseMenuViewer);obips.UberBar.IconTextMenuViewer=function(d){obips.UberBar.IconTextMenuViewer.baseConstructor.call(this,d);this.menuDiv.className+=" masterMenu uberBarMenuPanel";var a=this.buttonViewer.buttonModel.menuOptions;if(a&&a.length>0){for(var c=0;c<a.length;c++){var b=a[c];if(b){this.menuOptionViewers.push(new obips.UberBar.IconTextMenuOptionViewer(this,b))}else{new obips.UberBar.IconTextMenuOptionSeparatorViewer(this)}}this.floatingWindowManager.displayAtPosition(this,saw.Position.createByDOMElement(this.buttonViewer.buttonSpan));this.buttonViewer.menuViewer=this;this.menuOptionViewers[0].menuOptionDiv.focus()}this.buttonViewer.uberBarViewer.displayedMenuViewer=this};extend(obips.UberBar.IconTextMenuViewer,obips.UberBar.BaseMenuViewer);obips.UberBar.BaseSubMenuViewer=function(a){obips.UberBar.BaseSubMenuViewer.baseConstructor.call(this,a.menuViewer.buttonViewer);this.parentMenuOptionViewer=a;this.parentFloatingWindow=a.menuViewer;this.menuOptionViewers=new Array()};extend(obips.UberBar.BaseSubMenuViewer,obips.UberBar.BaseMenuViewer);obips.UberBar.TextSubMenuViewer=function(b){obips.UberBar.TextSubMenuViewer.baseConstructor.call(this,b);this.menuDiv.className="masterMenu uberBarTextMenuPanel";var c=this.parentMenuOptionViewer.menuOption.menuOptions;if(c&&c.length>0){for(var a=0;a<c.length;a++){this.menuOptionViewers.push(new obips.UberBar.TextMenuOptionViewer(this,c[a]))}this.floatingWindowManager.displayAtPosition(this,saw.Position.createByDOMElement(this.parentMenuOptionViewer.menuOptionDiv,"right"))}};extend(obips.UberBar.TextSubMenuViewer,obips.UberBar.BaseSubMenuViewer);obips.UberBar.IconTextSubMenuViewer=function(c){obips.UberBar.IconTextSubMenuViewer.baseConstructor.call(this,c);this.menuDiv.className+=" masterMenu uberBarMenuPanel";var d=this.parentMenuOptionViewer.menuOption.menuOptions;if(d&&d.length>0){for(var b=0;b<d.length;b++){var a=d[b];if(a){this.menuOptionViewers.push(new obips.UberBar.IconTextMenuOptionViewer(this,a))}else{new obips.UberBar.IconTextMenuOptionSeparatorViewer(this)}}this.floatingWindowManager.displayAtPosition(this,saw.Position.createByDOMElement(this.parentMenuOptionViewer.menuOptionDiv,"right"))}};extend(obips.UberBar.IconTextSubMenuViewer,obips.UberBar.BaseSubMenuViewer);obips.UberBar.BaseMenuOptionViewer=function(e,c){this.menuViewer=e;this.menuOption=c;this.menuOptionDiv=document.createElement("div");this.menuOptionDiv.id=this.menuViewer.buttonViewer.uberBarViewer.model.id+"_"+this.menuViewer.buttonViewer.buttonModel.id+"$"+this.menuOption.id;this.menuOptionDiv.menuOptionViewer=this;this.menuOptionDiv.onmouseover=obips.UberBar.Controller.mouseOverMenuOptionHandler;this.menuOptionDiv.onmouseout=obips.UberBar.Controller.mouseOutMenuOptionHandler;this.menuOptionDiv.onmousedown=obips.UberBar.Controller.trapMouseDown;this.menuOptionDiv.onclick=obips.UberBar.Controller.clickMenuOptionHandler;this.menuOptionDiv.tabIndex=0;saw.setAriaRole(this.menuOptionDiv,"menuitem");var a=this.menuViewer.buttonViewer.uberBarViewer.controller;var d=new obips.BrowserEventFramework.EventRouter(this.menuOptionDiv,"onkeydown");d.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(a,a.menuOptionDivKeyDownHandler)));var b=new obips.BrowserEventFramework.EventRouter(this.menuOptionDiv,"onfocus");b.addEventListener(new obips.Observable.EventListener(null,new obips.Callback(this,this.hover)));this.menuViewer.menuDiv.appendChild(this.menuOptionDiv);this.subMenuViewer=null;if(this.menuOption.isEnabled){this.enable()}else{this.disable()}};obips.UberBar.BaseMenuOptionViewer.prototype.hover=function(){var c=this.menuViewer.menuOptionViewers;for(var a=0;a<c.length;a++){var b=c[a];b.noHover()}obips.CSS.addClassToElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.addClassToElement(this.menuOptionDiv,"uberBarMenuOptionHover");this.menuOptionDiv.focus()};obips.UberBar.BaseMenuOptionViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.removeClassFromElement(this.menuOptionDiv,"uberBarMenuOptionHover")};obips.UberBar.BaseMenuOptionViewer.prototype.enable=function(){obips.CSS.removeClassFromElement(this.menuOptionDiv,"masterMenuItemDisabled");obips.CSS.removeClassFromElement(this.menuOptionDiv,"uberBarMenuOptionDisabled");this.menuOptionDiv.onclick=obips.UberBar.Controller.clickMenuOptionHandler};obips.UberBar.BaseMenuOptionViewer.prototype.disable=function(){obips.CSS.addClassToElement(this.menuOptionDiv,"masterMenuItemDisabled");obips.CSS.addClassToElement(this.menuOptionDiv,"uberBarMenuOptionDisabled");this.menuOptionDiv.onclick=obips.UberBar.Controller.trapMouseDown};obips.UberBar.IconMenuOptionViewer=function(c,b){obips.UberBar.IconMenuOptionViewer.baseConstructor.call(this,c,b);this.menuOptionDiv.className="masterMenuItem uberBarIconMenuOption";this.menuOptionDiv.alt=this.menuOptionDiv.title=this.menuOption.tooltip;if(this.menuOption.iconSet){var a=document.createElement("img");a.src=(this.menuOption.isEnabled)?this.menuOption.iconSet.enabledIcon:this.menuOption.iconSet.disabledIcon;a.className="uberBarMenuOptionIcon";this.menuOptionDiv.appendChild(a)}};extend(obips.UberBar.IconMenuOptionViewer,obips.UberBar.BaseMenuOptionViewer);obips.UberBar.IconTextMenuOptionViewer=function(e,d){obips.UberBar.IconTextMenuOptionViewer.baseConstructor.call(this,e,d);this.menuOptionDiv.className="masterMenuItem uberBarIconMenuOption";this.menuOptionDiv.alt=this.menuOptionDiv.title=this.menuOption.tooltip;if(this.menuOption.iconSet){var c=document.createElement("img");c.src=(this.menuOption.isEnabled)?this.menuOption.iconSet.enabledIcon:this.menuOption.iconSet.disabledIcon;c.alt=this.menuOption.tooltip;c.className="uberBarMenuOptionIcon";this.menuOptionDiv.appendChild(c)}var b=document.createElement("span");b.className="uberBarMenuOptionText";if(!this.menuOption.isEnabled){obips.CSS.addClassToElement(b,"masterMenuItemDisabled");obips.CSS.addClassToElement(b,"uberBarMenuOptionTextDisabled")}this.menuOptionDiv.appendChild(b);var a=document.createTextNode(this.menuOption.text||"");b.appendChild(a);this.openSubMenuImg=null;if(this.menuOption.menuOptions){this.openSubMenuImg=document.createElement("span");this.openSubMenuImg.className="uberBarSubMenuArrow";this.menuOptionDiv.appendChild(this.openSubMenuImg)}};extend(obips.UberBar.IconTextMenuOptionViewer,obips.UberBar.BaseMenuOptionViewer);obips.UberBar.IconTextMenuOptionViewer.prototype.hover=function(){var c=this.menuViewer.menuOptionViewers;for(var a=0;a<c.length;a++){var b=c[a];b.noHover()}if(this.menuOption.isEnabled){obips.CSS.addClassToElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.addClassToElement(this.menuOptionDiv,"uberBarMenuOptionHover");this.menuOptionDiv.focus();if(this.menuOption.menuOptions){this.subMenuViewer=new obips.UberBar.IconTextSubMenuViewer(this)}}};obips.UberBar.IconTextMenuOptionViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.removeClassFromElement(this.menuOptionDiv,"uberBarMenuOptionHover");if(this.subMenuViewer){if(this.subMenuViewer.menuDiv.parentNode!==null){this.subMenuViewer.menuDiv.parentNode.removeChild(this.subMenuViewer.menuDiv)}this.subMenuViewer=null}};obips.UberBar.TextMenuOptionViewer=function(d,c){obips.UberBar.TextMenuOptionViewer.baseConstructor.call(this,d,c);this.menuOptionDiv.className="masterMenuItem uberBarTextMenuOption";this.statusIcon=document.createElement("span");this.statusIcon.className="menuOptionStatusIcon "+(this.menuOption.radioGroupID?"menuOptionStatusIconRadioGroup":"menuOptionStatusIconChecked");this.statusIcon.style.visibility=(this.menuOption.isChecked)?"visible":"hidden";this.menuOptionDiv.appendChild(this.statusIcon);var b=document.createElement("span");b.className="uberBarMenuOptionText";if(!this.menuOption.isEnabled){obips.CSS.addClassToElement(b,"masterMenuItemDisabled");obips.CSS.addClassToElement(b,"uberBarMenuOptionTextDisabled")}this.menuOptionDiv.appendChild(b);var a=document.createTextNode(this.menuOption.text||"");b.appendChild(a);this.openSubMenuImg=null;if(this.menuOption.menuOptions){this.openSubMenuImg=document.createElement("span");this.openSubMenuImg.className="uberBarSubMenuArrow";if(!this.menuOption.isEnabled){obips.CSS.addClassToElement(this.openSubMenuImg,"uberBarSubMenuArrowDisabled")}this.menuOptionDiv.appendChild(this.openSubMenuImg)}};extend(obips.UberBar.TextMenuOptionViewer,obips.UberBar.BaseMenuOptionViewer);obips.UberBar.TextMenuOptionViewer.prototype.hover=function(){var c=this.menuViewer.menuOptionViewers;for(var a=0;a<c.length;a++){var b=c[a];b.noHover()}if(this.menuOption.isEnabled){var c=this.menuViewer.menuOptionViewers;for(var a=0;a<c.length;a++){var b=c[a];b.noHover()}obips.CSS.addClassToElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.addClassToElement(this.menuOptionDiv,"uberBarMenuOptionHover");this.menuOptionDiv.focus();if(this.menuOption.menuOptions){this.subMenuViewer=new obips.UberBar.TextSubMenuViewer(this)}}};obips.UberBar.TextMenuOptionViewer.prototype.noHover=function(){obips.CSS.removeClassFromElement(this.menuOptionDiv,"masterMenuItemHover");obips.CSS.removeClassFromElement(this.menuOptionDiv,"uberBarMenuOptionHover");if(this.subMenuViewer){this.subMenuViewer.menuDiv.parentNode.removeChild(this.subMenuViewer.menuDiv);this.subMenuViewer=null}};obips.UberBar._renderMenuOptionSeparator=function(c,a){var b=document.createElement("div");b.className=a;c.menuDiv.appendChild(b)};obips.UberBar.IconMenuOptionSeparatorViewer=function(a){obips.UberBar._renderMenuOptionSeparator(a,"uberBarIconMenuOptionSeparator")};obips.UberBar.TextMenuOptionSeparatorViewer=function(a){obips.UberBar._renderMenuOptionSeparator(a,"uberBarTextMenuOptionSeparator")};obips.UberBar.IconTextMenuOptionSeparatorViewer=function(a){obips.UberBar._renderMenuOptionSeparator(a,"uberBarIconTextMenuOptionSeparator")};obips.UberBar.Controller=function(a){this.viewer=a;if(this.buttonAddedHandler){this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_ADDED,new obips.Callback(this,this.buttonAddedHandler)))}if(this.buttonRemovedHandler){this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_REMOVED,new obips.Callback(this,this.buttonRemovedHandler)))}this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_ENABLED,new obips.Callback(this,this.buttonEnabledHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_DISABLED,new obips.Callback(this,this.buttonDisabledHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_TOGGLE_DOWN,new obips.Callback(this,this.buttonToggleHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_TOGGLE_UP,new obips.Callback(this,this.buttonToggleHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.BUTTON_TOOLTIP_CHANGED,new obips.Callback(this,this.buttonTooltipChangedHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.MEMORY_BUTTON_SELECTION_CHANGED,new obips.Callback(this,this.memoryButtonSelectionChangedHandler)));this.viewer.model.addEventListener(new obips.Observable.EventListener(obips.UberBar.Model.EventType.OVERFLOW_SUPPORT_CHANGED,new obips.Callback(this,this.overflowSupportHandler)))};obips.UberBar.Controller.prototype.destroy=function(){this.resizable.removeEventListener(this.resizeEventListener)};obips.UberBar.Controller.mouseOverMenuOptionHandler=function(a){var b=obips.BrowserEventFramework.getViewerFromEvent(a,"menuOptionViewer");b.hover()};obips.UberBar.Controller.mouseOutMenuOptionHandler=function(c){c=obips.BrowserEventFramework.normalizeEvent(c);var d=obips.BrowserEventFramework.getViewerFromEvent(c,"menuOptionViewer");var b=obips.BrowserEventFramework.getViewerFromElement(c.target,"menuViewer");var a=(c.relatedTarget)?obips.BrowserEventFramework.getViewerFromElement(c.relatedTarget,"menuViewer"):null;if(d.subMenuViewer==null||(b!=d.subMenuViewer&&a!=d.subMenuViewer)){d.noHover()}if(d.menuViewer.parentMenuOptionViewer){if(b==d.menuViewer.parentMenuOptionViewer.menuViewer){b.buttonViewer.hideSubMenus(b.menuOptionViewers);d.menuViewer.parentMenuOptionViewer.noHover()}else{if(a==d.menuViewer.parentMenuOptionViewer.menuViewer){a.buttonViewer.hideSubMenus(a.menuOptionViewers);d.menuViewer.parentMenuOptionViewer.noHover()}}}};obips.UberBar.Controller.trapMouseDown=function(a){a=obips.BrowserEventFramework.normalizeEvent(a);if(a.button==1){a.cancelBubble=true}if(a.button==0&&a.stopPropagation){a.stopPropagation()}};obips.UberBar.Controller.clickMenuOptionHandler=function(d){var h=obips.BrowserEventFramework.getViewerFromEvent(d,"menuOptionViewer");var f=new obips.Observable.Event(obips.UberBar.Controller.EventType.MENU_OPTION_PICKED,h);if(h.menuOption.callback!=null){h.menuOption.callback.exec(f)}var b=h.menuOption.id;var a=h.menuOption.radioGroupID;if(a&&!h.menuOption.isChecked){var g=h.menuViewer.menuOptionViewers;for(var c=0;c<g.length;c++){var e=g[c].menuOption;if(e.radioGroupID==a){if(e.id==b){e.isChecked=true}else{if(e.isChecked){e.isChecked=false}}}}}if(h.menuOption.menuOptions){h.menuViewer.buttonViewer.buttonSpan.focus()}else{h.menuViewer.buttonViewer.hideMenu()}};obips.UberBar.Controller.prototype.menuOptionDivKeyDownHandler=function(b){if((b.keyCode>=37&&b.keyCode<=40)||b.keyCode==27||b.keyCode==13){var e=obips.BrowserEventFramework.getViewerFromEvent(b,"menuOptionViewer");if(b.keyCode==37&&e.menuViewer.parentMenuOptionViewer){e.menuViewer.parentMenuOptionViewer.menuOptionDiv.focus()}else{if(b.keyCode==39){if(e.menuOption.menuOptions){e.subMenuViewer.menuOptionViewers[0].menuOptionDiv.focus()}}else{if(b.keyCode==38){if(e){var f=e.menuViewer.menuOptionViewers;var c=null;for(var d=0;d<f.length;d++){if(f[d]==e){c=d;break}}if(c>0){f[c-1].menuOptionDiv.focus()}else{f[f.length-1].menuOptionDiv.focus()}}else{var a=obips.BrowserEventFramework.getViewerFromEvent(b,"menuViewer");a.menuOptionViewers[Math.max(0,a.menuOptionViewers.length-1)].menuOptionDiv.focus()}}else{if(b.keyCode==40){if(e){var c=null;var f=e.menuViewer.menuOptionViewers;for(var d=0;d<f.length;d++){if(f[d]==e){c=d;break}}if(c<f.length-1){f[c+1].menuOptionDiv.focus()}else{f[0].menuOptionDiv.focus()}}else{var a=obips.BrowserEventFramework.getViewerFromEvent(b,"menuViewer");a.menuOptionViewers[0].menuOptionDiv.focus()}}else{if(b.keyCode==27){e.menuViewer.buttonViewer.hideMenu();e.menuViewer.buttonViewer.buttonSpan.focus()}else{if(b.keyCode==13){obips.UberBar.Controller.clickMenuOptionHandler(b)}}}}}}obips.BrowserEventFramework.cancelBubble(b);saw.preventEventDefault(b)}};obips.UberBar.Controller.EventType=function(){};obips.UberBar.Controller.EventType.MENU_OPTION_PICKED="menuOptionPicked";obips.UberBar.Controller.prototype.mouseOverButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);if(b){b.hover()}};obips.UberBar.Controller.prototype.mouseOutButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);b.noHover()};obips.UberBar.Controller.prototype.mouseDownButtonHandler=function(a){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);b.depress()};obips.UberBar.Controller.prototype.keyDownButtonHandler=function(a){if(a.keyCode==32||a.keyCode==13){this.clickButtonHandler(a);obips.BrowserEventFramework.cancelBubble(a);a.returnValue=false}};obips.UberBar.Controller.prototype.keyDownMemoryButtonHandler=function(a){if(a.keyCode==32||a.keyCode==13){var b=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(a);b.onclickMemoryButtonEL.callback.exec(a);obips.BrowserEventFramework.cancelBubble(a);a.returnValue=false}};obips.UberBar.Controller.prototype.clickButtonHandler=function(b){var c=obips.UberBar.BaseButtonViewer.getButtonViewerFromEvent(b),a;if(c.buttonModel.isToggle){this.viewer.hideMenu();if(c.buttonModel.isDown){this.viewer.model.setToggleState(c.buttonModel.id,false)}else{this.viewer.model.setToggleState(c.buttonModel.id,true)}}else{c.hover()}if(c.buttonModel.callback){c.buttonModel.callback.exec(b)}if(c.buttonModel.menuOptions&&c.buttonModel.menuOptions.length>0){a=this.viewer.displayedMenuViewer;if(a&&(a===c||a.buttonViewer===c)){c.hideMenu()}else{c.displayMenu(b)}}else{this.viewer.hideMenu()}obips.BrowserEventFramework.cancelBubble(b)};obips.UberBar.Controller.prototype.buttonEnabledHandler=function(b){var c=b.context;var a=this.viewer.aaButtonViewers[c.id];a.enable()};obips.UberBar.Controller.prototype.buttonDisabledHandler=function(b){var c=b.context;var a=this.viewer.aaButtonViewers[c.id];a.disable()};obips.UberBar.Controller.prototype.buttonTooltipChangedHandler=function(b){var d=b.context.button;var a=this.viewer.aaButtonViewers[d.id];var c=b.context.tooltip;a.changeTooltip(c)};obips.UberBar.Controller.prototype.buttonToggleHandler=function(b){var c=b.context;var a=this.viewer.aaButtonViewers[c.id];if(c.isToggle){if(c.isDown){a.depress()}else{a.noHover()}}};obips.UberBar.Controller.prototype.memoryButtonSelectionChangedHandler=function(b){var c=b.context;var a=this.viewer.aaButtonViewers[c.id];a.hideMenu()};obips.UberBar.Controller.prototype.overflowSupportHandler=function(){this.viewer.updateOverflowSupport();if(this.resizable){this.resizable.removeEventListener(this.resizeEventListener)}if(this.viewer.model.overflowEnabled()){this.resizable=obips.BrowserEventFramework.Resizable.getResizable(this.viewer.container);this.resizeEventListener=new obips.Observable.EventListener("onresize",new obips.Callback(this,this.resizeHandler));this.resizable.addEventListener(this.resizeEventListener)}this.resizeHandler()};obips.UberBar.Controller.prototype.resizeHandler=function(d){this.viewer.hideMenu(d);if(this.viewer.model.overflowEnabled()){this.viewer.overflowButtonViewer.disable();var a=this.viewer.model.buttons[this.viewer.model.buttons.length-1];if(a){var c=this.viewer.aaButtonViewers[a.id].buttonSpan;if(c.offsetTop>c.offsetHeight){this.viewer.overflowButtonViewer.enable()}}}};obips.UberBar.Viewer.DefaultButtonViewFactoryMethods=new Array();obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.IconButtonModel"]=obips.UberBar.IconButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.TextButtonModel"]=obips.UberBar.TextButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.IconTextButtonModel"]=obips.UberBar.IconTextButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.IconMenuButtonModel"]=obips.UberBar.IconMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.IconTextMenuButtonModel"]=obips.UberBar.IconTextMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.TextMenuButtonModel"]=obips.UberBar.TextMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.ContextMenuButtonModel"]=obips.UberBar.ContextMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.PopupMenuButtonModel"]=obips.UberBar.PopupMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.LinkButtonModel"]=obips.UberBar.LinkButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.MemoryIconMenuButtonModel"]=obips.UberBar.MemoryIconMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.SplitIconMenuButtonModel"]=obips.UberBar.SplitIconMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.MemoryTextMenuButtonModel"]=obips.UberBar.MemoryTextMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.MemoryIconTextMenuButtonModel"]=obips.UberBar.MemoryIconTextMenuButtonViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.LabelModel"]=obips.UberBar.LabelViewer;obips.UberBar.Viewer.DefaultButtonViewFactoryMethods["obips.UberBar.SelectButtonModel"]=obips.UberBar.SelectButtonViewer;obips.UberBar.Viewer.DefaultMenuViewFactoryMethods=new Array();obips.UberBar.Viewer.DefaultMenuViewFactoryMethods[obips.UberBar.MenuTypes.ICON_MENU]=obips.UberBar.IconMenuViewer;obips.UberBar.Viewer.DefaultMenuViewFactoryMethods[obips.UberBar.MenuTypes.TEXT_MENU]=obips.UberBar.TextMenuViewer;obips.UberBar.Viewer.DefaultMenuViewFactoryMethods[obips.UberBar.MenuTypes.ICON_TEXT_MENU]=obips.UberBar.IconTextMenuViewer;obips.UberBar.Viewer.DefaultMenuViewFactoryMethods[obips.UberBar.MenuTypes.CONTEXT_MENU]=obips.UberBar.ContextMenuViewer;